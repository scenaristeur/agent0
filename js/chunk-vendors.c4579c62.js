(self["webpackChunkagent0"]=self["webpackChunkagent0"]||[]).push([[998],{9662:function(t,e,n){var r=n(614),i=n(6330),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},6077:function(t,e,n){var r=n(614),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),i=n(30),o=n(3070).f,a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},5787:function(t,e,n){var r=n(7976),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw i("Incorrect invocation")}},9670:function(t,e,n){var r=n(111),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var r,i,o,a=n(4019),s=n(9781),l=n(7854),u=n(614),c=n(111),d=n(2597),h=n(648),f=n(6330),p=n(8880),m=n(8052),g=n(3070).f,v=n(7976),y=n(9518),b=n(7674),_=n(5112),w=n(9711),x=l.Int8Array,S=x&&x.prototype,M=l.Uint8ClampedArray,E=M&&M.prototype,T=x&&y(x),A=S&&y(S),C=Object.prototype,O=l.TypeError,k=_("toStringTag"),P=w("TYPED_ARRAY_TAG"),L=w("TYPED_ARRAY_CONSTRUCTOR"),I=a&&!!b&&"Opera"!==h(l.opera),D=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},B=function(t){if(!c(t))return!1;var e=h(t);return"DataView"===e||d(R,e)||d(N,e)},F=function(t){if(!c(t))return!1;var e=h(t);return d(R,e)||d(N,e)},j=function(t){if(F(t))return t;throw O("Target is not a typed array")},z=function(t){if(u(t)&&(!b||v(T,t)))return t;throw O(f(t)+" is not a typed array constructor")},V=function(t,e,n,r){if(s){if(n)for(var i in R){var o=l[i];if(o&&d(o.prototype,t))try{delete o.prototype[t]}catch(a){try{o.prototype[t]=e}catch(u){}}}A[t]&&!n||m(A,t,n?e:I&&S[t]||e,r)}},U=function(t,e,n){var r,i;if(s){if(b){if(n)for(r in R)if(i=l[r],i&&d(i,t))try{delete i[t]}catch(o){}if(T[t]&&!n)return;try{return m(T,t,n?e:I&&T[t]||e)}catch(o){}}for(r in R)i=l[r],!i||i[t]&&!n||m(i,t,e)}};for(r in R)i=l[r],o=i&&i.prototype,o?p(o,L,i):I=!1;for(r in N)i=l[r],o=i&&i.prototype,o&&p(o,L,i);if((!I||!u(T)||T===Function.prototype)&&(T=function(){throw O("Incorrect invocation")},I))for(r in R)l[r]&&b(l[r],T);if((!I||!A||A===C)&&(A=T.prototype,I))for(r in R)l[r]&&b(l[r].prototype,A);if(I&&y(E)!==A&&b(E,A),s&&!d(A,k))for(r in D=!0,g(A,k,{get:function(){return c(this)?this[P]:void 0}}),R)l[r]&&p(l[r],P,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_CONSTRUCTOR:L,TYPED_ARRAY_TAG:D&&P,aTypedArray:j,aTypedArrayConstructor:z,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:U,isView:B,isTypedArray:F,TypedArray:T,TypedArrayPrototype:A}},1318:function(t,e,n){var r=n(5656),i=n(1400),o=n(6244),a=function(t){return function(e,n,a){var s,l=r(e),u=o(l),c=i(a,u);if(t&&n!=n){while(u>c)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4326:function(t,e,n){var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:function(t,e,n){var r=n(1694),i=n(614),o=n(4326),a=n(5112),s=a("toStringTag"),l=Object,u="Arguments"==o(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=l(t),s))?n:u?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},7741:function(t,e,n){var r=n(1702),i=Error,o=r("".replace),a=function(t){return String(i(t).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);t.exports=function(t,e){if(l&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=o(t,s,"");return t}},9920:function(t,e,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e,n){for(var s=i(e),l=a.f,u=o.f,c=0;c<s.length;c++){var d=s[c];r(t,d)||n&&r(n,d)||l(t,d,u(e,d))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:function(t,e,n){var r=n(614),i=n(8880),o=n(6339),a=n(3072);t.exports=function(t,e,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:e;return r(n)&&o(n,u,s),s.global?l?t[e]=n:a(e,n):(s.unsafe?t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)),t}},3072:function(t,e,n){var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,i,o=n(7854),a=n(8113),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(r=c.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(t,e,n){var r=n(7293),i=n(9114);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(8052),s=n(3072),l=n(9920),u=n(4705);t.exports=function(t,e){var n,c,d,h,f,p,m=t.target,g=t.global,v=t.stat;if(c=g?r:v?r[m]||s(m,{}):(r[m]||{}).prototype,c)for(d in e){if(f=e[d],t.dontCallGetSet?(p=i(c,d),h=p&&p.value):h=c[d],n=u(g?d:m+(v?".":"#")+d,t.forced),!n&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(c,d,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},1702:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),i=n(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},8173:function(t,e,n){var r=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(1702),i=n(7293),o=n(4326),a=Object,s=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?s(t,""):a(t)}:a},9587:function(t,e,n){var r=n(614),i=n(111),o=n(7674);t.exports=function(t,e,n){var a,s;return o&&r(a=e.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(t,s),t}},2788:function(t,e,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},8340:function(t,e,n){var r=n(111),i=n(8880);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},9909:function(t,e,n){var r,i,o,a=n(8536),s=n(7854),l=n(1702),u=n(111),c=n(8880),d=n(2597),h=n(5465),f=n(6200),p=n(3501),m="Object already initialized",g=s.TypeError,v=s.WeakMap,y=function(t){return o(t)?i(t):r(t,{})},b=function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}};if(a||h.state){var _=h.state||(h.state=new v),w=l(_.get),x=l(_.has),S=l(_.set);r=function(t,e){if(x(_,t))throw new g(m);return e.facade=t,S(_,t,e),e},i=function(t){return w(_,t)||{}},o=function(t){return x(_,t)}}else{var M=f("state");p[M]=!0,r=function(t,e){if(d(t,M))throw new g(m);return e.facade=t,c(t,M,e),e},i=function(t){return d(t,M)?t[M]:{}},o=function(t){return d(t,M)}}t.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},614:function(t){t.exports=function(t){return"function"==typeof t}},4705:function(t,e,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n==c||n!=u&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},111:function(t,e,n){var r=n(614);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var r=n(5005),i=n(614),o=n(7976),a=n(3307),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){var r=n(7293),i=n(614),o=n(2597),a=n(9781),s=n(6530).CONFIGURABLE,l=n(2788),u=n(9909),c=u.enforce,d=u.get,h=Object.defineProperty,f=a&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),p=String(String).split("String"),m=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||s&&t.name!==e)&&h(t,"name",{value:e,configurable:!0}),f&&n&&o(n,"arity")&&t.length!==n.arity&&h(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=c(t);return o(r,"source")||(r.source=p.join("string"==typeof e?e:"")),t};Function.prototype.toString=m((function(){return i(this)&&d(this).source||l(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},133:function(t,e,n){var r=n(7392),i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(t,e,n){var r=n(7854),i=n(614),o=n(2788),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},6277:function(t,e,n){var r=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},30:function(t,e,n){var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),l=n(490),u=n(317),c=n(6200),d=">",h="<",f="prototype",p="script",m=c("IE_PROTO"),g=function(){},v=function(t){return h+p+d+t+h+"/"+p+d},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=u("iframe"),n="java"+p+":";return e.style.display="none",l.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},_=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}_="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var t=a.length;while(t--)delete _[f][a[t]];return _()};s[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[f]=i(t),n=new g,g[f]=null,n[m]=t):n=_(),void 0===e?n:o.f(n,e)}},6048:function(t,e,n){var r=n(9781),i=n(3353),o=n(3070),a=n(9670),s=n(5656),l=n(1956);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);var n,r=s(e),i=l(e),u=i.length,c=0;while(u>c)o.f(t,n=i[c++],r[n]);return t}},3070:function(t,e,n){var r=n(9781),i=n(4664),o=n(3353),a=n(9670),s=n(4948),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=c(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),l=n(4948),u=n(2597),c=n(4664),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=s(t),e=l(e),c)try{return d(t,e)}catch(n){}if(u(t,e))return a(!i(o.f,t,e),t[e])}},8006:function(t,e,n){var r=n(6324),i=n(748),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(2597),i=n(614),o=n(7908),a=n(6200),s=n(8544),l=a("IE_PROTO"),u=Object,c=u.prototype;t.exports=s?u.getPrototypeOf:function(t){var e=o(t);if(r(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof u?c:null}},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),l=r([].push);t.exports=function(t,e){var n,r=o(t),u=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&l(c,n);while(e.length>u)i(r,n=e[u++])&&(~a(c,n)||l(c,n));return c}},1956:function(t,e,n){var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(1702),i=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},2140:function(t,e,n){var r=n(6916),i=n(614),o=n(111),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?l(e,n(t)):e}},2626:function(t,e,n){var r=n(3070).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},4488:function(t){var e=TypeError;t.exports=function(t){if(void 0==t)throw e("Can't call method on "+t);return t}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3072),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.8",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(t,e,n){var r=n(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t,e,n){var r=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},7466:function(t,e,n){var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488),i=Object;t.exports=function(t){return i(r(t))}},4590:function(t,e,n){var r=n(3002),i=RangeError;t.exports=function(t,e){var n=r(t);if(n%e)throw i("Wrong offset");return n}},3002:function(t,e,n){var r=n(9303),i=RangeError;t.exports=function(t){var e=r(t);if(e<0)throw i("The argument can't be less than 0");return e}},7593:function(t,e,n){var r=n(6916),i=n(111),o=n(2190),a=n(8173),s=n(2140),l=n(5112),u=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,l=a(t,c);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){var r=n(5112),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},1340:function(t,e,n){var r=n(648),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},9711:function(t,e,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(133),l=n(3307),u=i("wks"),c=r.Symbol,d=c&&c["for"],h=l?c:c&&c.withoutSetter||a;t.exports=function(t){if(!o(u,t)||!s&&"string"!=typeof u[t]){var e="Symbol."+t;s&&o(c,t)?u[t]=c[t]:u[t]=l&&d?d(e):h(e)}return u[t]}},9191:function(t,e,n){"use strict";var r=n(5005),i=n(2597),o=n(8880),a=n(7976),s=n(7674),l=n(9920),u=n(2626),c=n(9587),d=n(6277),h=n(8340),f=n(7741),p=n(2914),m=n(9781),g=n(1913);t.exports=function(t,e,n,v){var y="stackTraceLimit",b=v?2:1,_=t.split("."),w=_[_.length-1],x=r.apply(null,_);if(x){var S=x.prototype;if(!g&&i(S,"cause")&&delete S.cause,!n)return x;var M=r("Error"),E=e((function(t,e){var n=d(v?e:t,void 0),r=v?new x(t):new x;return void 0!==n&&o(r,"message",n),p&&o(r,"stack",f(r.stack,2)),this&&a(S,this)&&c(r,this,E),arguments.length>b&&h(r,arguments[b]),r}));if(E.prototype=S,"Error"!==w?s?s(E,M):l(E,M,{name:!0}):m&&y in x&&(u(E,x,y),u(E,x,"prepareStackTrace")),l(E,x),!g)try{S.name!==w&&o(S,"name",w),S.constructor=E}catch(T){}return E}}},2120:function(t,e,n){var r=n(2109),i=n(5005),o=n(2104),a=n(7293),s=n(9191),l="AggregateError",u=i(l),c=!a((function(){return 1!==u([1]).errors[0]}))&&a((function(){return 7!==u([1],l,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:c},{AggregateError:s(l,(function(t){return function(e,n){return o(t,this,arguments)}}),c,!0)})},2262:function(t,e,n){"use strict";var r=n(2109),i=n(7908),o=n(6244),a=n(9303),s=n(1223);r({target:"Array",proto:!0},{at:function(t){var e=i(this),n=o(e),r=a(t),s=r>=0?r:n+r;return s<0||s>=n?void 0:e[s]}}),s("at")},6699:function(t,e,n){"use strict";var r=n(2109),i=n(1318).includes,o=n(7293),a=n(1223),s=o((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:s},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},1703:function(t,e,n){var r=n(2109),i=n(7854),o=n(2104),a=n(9191),s="WebAssembly",l=i[s],u=7!==Error("e",{cause:7}).cause,c=function(t,e){var n={};n[t]=a(t,e,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},d=function(t,e){if(l&&l[t]){var n={};n[t]=a(s+"."+t,e,u),r({target:s,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(t){return function(e){return o(t,this,arguments)}})),c("EvalError",(function(t){return function(e){return o(t,this,arguments)}})),c("RangeError",(function(t){return function(e){return o(t,this,arguments)}})),c("ReferenceError",(function(t){return function(e){return o(t,this,arguments)}})),c("SyntaxError",(function(t){return function(e){return o(t,this,arguments)}})),c("TypeError",(function(t){return function(e){return o(t,this,arguments)}})),c("URIError",(function(t){return function(e){return o(t,this,arguments)}})),d("CompileError",(function(t){return function(e){return o(t,this,arguments)}})),d("LinkError",(function(t){return function(e){return o(t,this,arguments)}})),d("RuntimeError",(function(t){return function(e){return o(t,this,arguments)}}))},4506:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(4488),a=n(9303),s=n(1340),l=n(7293),u=i("".charAt),c=l((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:c},{at:function(t){var e=s(o(this)),n=e.length,r=a(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:u(e,i)}})},8675:function(t,e,n){"use strict";var r=n(260),i=n(6244),o=n(9303),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("at",(function(t){var e=a(this),n=i(e),r=o(t),s=r>=0?r:n+r;return s<0||s>=n?void 0:e[s]}))},3462:function(t,e,n){"use strict";var r=n(7854),i=n(6916),o=n(260),a=n(6244),s=n(4590),l=n(7908),u=n(7293),c=r.RangeError,d=r.Int8Array,h=d&&d.prototype,f=h&&h.set,p=o.aTypedArray,m=o.exportTypedArrayMethod,g=!u((function(){var t=new Uint8ClampedArray(2);return i(f,t,{length:1,0:3},1),3!==t[1]})),v=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var t=new d(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));m("set",(function(t){p(this);var e=s(arguments.length>1?arguments[1]:void 0,1),n=l(t);if(g)return i(f,this,n,e);var r=this.length,o=a(n),u=0;if(o+e>r)throw c("Wrong length");while(u<o)this[e+u]=n[u++]}),!g||v)},2801:function(t,e,n){"use strict";var r=n(2109),i=n(5005),o=n(9114),a=n(3070).f,s=n(2597),l=n(5787),u=n(9587),c=n(6277),d=n(3678),h=n(7741),f=n(1913),p="DOMException",m=i("Error"),g=i(p),v=function(){l(this,y);var t=arguments.length,e=c(t<1?void 0:arguments[0]),n=c(t<2?void 0:arguments[1],"Error"),r=new g(e,n),i=m(e);return i.name=p,a(r,"stack",o(1,h(i.stack,1))),u(r,this,v),r},y=v.prototype=g.prototype,b="stack"in m(p),_="stack"in new g(1,2),w=b&&!_;r({global:!0,constructor:!0,forced:f||w},{DOMException:w?v:g});var x=i(p),S=x.prototype;if(S.constructor!==x)for(var M in f||a(S,"constructor",o(1,x)),d)if(s(d,M)){var E=d[M],T=E.s;s(x,T)||a(x,T,o(6,E.c))}},3658:function(t,e,n){"use strict";n.d(e,{Z:function(){return Io}});n(1703);var r=n(1114);const i=new r.JOQ,o=new r.iMs,a=new r.FM8,s=new r.Pa4,l=new r.Pa4,u=new r.Pa4,c=new r.yGw;class d extends r.pBf{constructor(t,e,n){super(),n.style.touchAction="none";let r=null,d=null;const h=[],f=this;function p(){n.addEventListener("pointermove",b),n.addEventListener("pointerdown",_),n.addEventListener("pointerup",w),n.addEventListener("pointerleave",w)}function m(){n.removeEventListener("pointermove",b),n.removeEventListener("pointerdown",_),n.removeEventListener("pointerup",w),n.removeEventListener("pointerleave",w),n.style.cursor=""}function g(){m()}function v(){return t}function y(){return o}function b(p){if(!1!==f.enabled){if(x(p),o.setFromCamera(a,e),r)return o.ray.intersectPlane(i,l)&&r.position.copy(l.sub(s).applyMatrix4(c)),void f.dispatchEvent({type:"drag",object:r});if("mouse"===p.pointerType||"pen"===p.pointerType)if(h.length=0,o.setFromCamera(a,e),o.intersectObjects(t,!0,h),h.length>0){const t=h[0].object;i.setFromNormalAndCoplanarPoint(e.getWorldDirection(i.normal),u.setFromMatrixPosition(t.matrixWorld)),d!==t&&null!==d&&(f.dispatchEvent({type:"hoveroff",object:d}),n.style.cursor="auto",d=null),d!==t&&(f.dispatchEvent({type:"hoveron",object:t}),n.style.cursor="pointer",d=t)}else null!==d&&(f.dispatchEvent({type:"hoveroff",object:d}),n.style.cursor="auto",d=null)}}function _(d){!1!==f.enabled&&(x(d),h.length=0,o.setFromCamera(a,e),o.intersectObjects(t,!0,h),h.length>0&&(r=!0===f.transformGroup?t[0]:h[0].object,i.setFromNormalAndCoplanarPoint(e.getWorldDirection(i.normal),u.setFromMatrixPosition(r.matrixWorld)),o.ray.intersectPlane(i,l)&&(c.copy(r.parent.matrixWorld).invert(),s.copy(l).sub(u.setFromMatrixPosition(r.matrixWorld))),n.style.cursor="move",f.dispatchEvent({type:"dragstart",object:r})))}function w(){!1!==f.enabled&&(r&&(f.dispatchEvent({type:"dragend",object:r}),r=null),n.style.cursor=d?"pointer":"auto")}function x(t){const e=n.getBoundingClientRect();a.x=(t.clientX-e.left)/e.width*2-1,a.y=-(t.clientY-e.top)/e.height*2+1}p(),this.enabled=!0,this.transformGroup=!1,this.activate=p,this.deactivate=m,this.dispose=g,this.getObjects=v,this.getRaycaster=y}}n(8675),n(3462);var h={value:()=>{}};function f(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new p(r)}function p(t){this._=t}function m(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function g(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function v(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=h,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}p.prototype=f.prototype={constructor:p,on:function(t,e){var n,r=this._,i=m(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=i[o]).type)r[n]=v(r[n],t.name,e);else if(null==e)for(n in r)r[n]=v(r[n],t.name,null);return this}while(++o<a)if((n=(t=i[o]).type)&&(n=g(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new p(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var y,b,_=f,w=0,x=0,S=0,M=1e3,E=0,T=0,A=0,C="object"===typeof performance&&performance.now?performance:Date,O="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function k(){return T||(O(P),T=C.now()+A)}function P(){T=0}function L(){this._call=this._time=this._next=null}function I(t,e,n){var r=new L;return r.restart(t,e,n),r}function D(){k(),++w;var t,e=y;while(e)(t=T-e._time)>=0&&e._call.call(void 0,t),e=e._next;--w}function R(){T=(E=C.now())+A,w=x=0;try{D()}finally{w=0,B(),T=0}}function N(){var t=C.now(),e=t-E;e>M&&(A-=e,E=t)}function B(){var t,e,n=y,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:y=e);b=t,F(r)}function F(t){if(!w){x&&(x=clearTimeout(x));var e=t-T;e>24?(t<1/0&&(x=setTimeout(R,t-C.now()-A)),S&&(S=clearInterval(S))):(S||(E=C.now(),S=setInterval(N,M)),w=1,O(R))}}L.prototype=I.prototype={constructor:L,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?k():+n)+(null==e?0:+e),this._next||b===this||(b?b._next=this:y=this,b=this),this._call=t,this._time=n,F()},stop:function(){this._call&&(this._call=null,this._time=1/0,F())}};const j=1664525,z=1013904223,V=4294967296;function U(){let t=1;return()=>(t=(j*t+z)%V)/V}var H=3;function W(t){return t.x}function G(t){return t.y}function q(t){return t.z}var $=10,X=Math.PI*(3-Math.sqrt(5)),Y=20*Math.PI/(9+Math.sqrt(221));function Z(t,e){e=e||2;var n,r=Math.min(H,Math.max(1,Math.round(e))),i=1,o=.001,a=1-Math.pow(o,1/300),s=0,l=.6,u=new Map,c=I(f),d=_("tick","end"),h=U();function f(){p(),d.call("tick",n),i<o&&(c.stop(),d.call("end",n))}function p(e){var o,c,d=t.length;void 0===e&&(e=1);for(var h=0;h<e;++h)for(i+=(s-i)*a,u.forEach((function(t){t(i)})),o=0;o<d;++o)c=t[o],null==c.fx?c.x+=c.vx*=l:(c.x=c.fx,c.vx=0),r>1&&(null==c.fy?c.y+=c.vy*=l:(c.y=c.fy,c.vy=0)),r>2&&(null==c.fz?c.z+=c.vz*=l:(c.z=c.fz,c.vz=0));return n}function m(){for(var e,n=0,i=t.length;n<i;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),null!=e.fz&&(e.z=e.fz),isNaN(e.x)||r>1&&isNaN(e.y)||r>2&&isNaN(e.z)){var o=$*(r>2?Math.cbrt(.5+n):r>1?Math.sqrt(.5+n):n),a=n*X,s=n*Y;1===r?e.x=o:2===r?(e.x=o*Math.cos(a),e.y=o*Math.sin(a)):(e.x=o*Math.sin(a)*Math.cos(s),e.y=o*Math.cos(a),e.z=o*Math.sin(a)*Math.sin(s))}(isNaN(e.vx)||r>1&&isNaN(e.vy)||r>2&&isNaN(e.vz))&&(e.vx=0,r>1&&(e.vy=0),r>2&&(e.vz=0))}}function g(e){return e.initialize&&e.initialize(t,h,r),e}return null==t&&(t=[]),m(),n={tick:p,restart:function(){return c.restart(f),n},stop:function(){return c.stop(),n},numDimensions:function(t){return arguments.length?(r=Math.min(H,Math.max(1,Math.round(t))),u.forEach(g),n):r},nodes:function(e){return arguments.length?(t=e,m(),u.forEach(g),n):t},alpha:function(t){return arguments.length?(i=+t,n):i},alphaMin:function(t){return arguments.length?(o=+t,n):o},alphaDecay:function(t){return arguments.length?(a=+t,n):+a},alphaTarget:function(t){return arguments.length?(s=+t,n):s},velocityDecay:function(t){return arguments.length?(l=1-t,n):1-l},randomSource:function(t){return arguments.length?(h=t,u.forEach(g),n):h},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,g(e)),n):u.get(t)},find:function(){var e,n,i,o,a,s,l=Array.prototype.slice.call(arguments),u=l.shift()||0,c=(r>1?l.shift():null)||0,d=(r>2?l.shift():null)||0,h=l.shift()||1/0,f=0,p=t.length;for(h*=h,f=0;f<p;++f)a=t[f],e=u-a.x,n=c-(a.y||0),i=d-(a.z||0),o=e*e+n*n+i*i,o<h&&(s=a,h=o);return s},on:function(t,e){return arguments.length>1?(d.on(t,e),n):d.on(t)}}}n(6699);function J(t){return function(){return t}}function K(t){return 1e-6*(t()-.5)}function Q(t){return t.index}function tt(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function et(t){var e,n,r,i,o,a,s,l=Q,u=h,c=J(30),d=1;function h(t){return 1/Math.min(o[t.source.index],o[t.target.index])}function f(r){for(var o=0,l=t.length;o<d;++o)for(var u,c,h,f,p,m=0,g=0,v=0,y=0;m<l;++m)u=t[m],c=u.source,h=u.target,g=h.x+h.vx-c.x-c.vx||K(s),i>1&&(v=h.y+h.vy-c.y-c.vy||K(s)),i>2&&(y=h.z+h.vz-c.z-c.vz||K(s)),f=Math.sqrt(g*g+v*v+y*y),f=(f-n[m])/f*r*e[m],g*=f,v*=f,y*=f,h.vx-=g*(p=a[m]),i>1&&(h.vy-=v*p),i>2&&(h.vz-=y*p),c.vx+=g*(p=1-p),i>1&&(c.vy+=v*p),i>2&&(c.vz+=y*p)}function p(){if(r){var i,s,u=r.length,c=t.length,d=new Map(r.map(((t,e)=>[l(t,e,r),t])));for(i=0,o=new Array(u);i<c;++i)s=t[i],s.index=i,"object"!==typeof s.source&&(s.source=tt(d,s.source)),"object"!==typeof s.target&&(s.target=tt(d,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(i=0,a=new Array(c);i<c;++i)s=t[i],a[i]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);e=new Array(c),m(),n=new Array(c),g()}}function m(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function g(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,...e){r=t,s=e.find((t=>"function"===typeof t))||Math.random,i=e.find((t=>[1,2,3].includes(t)))||2,p()},f.links=function(e){return arguments.length?(t=e,p(),f):t},f.id=function(t){return arguments.length?(l=t,f):l},f.iterations=function(t){return arguments.length?(d=+t,f):d},f.strength=function(t){return arguments.length?(u="function"===typeof t?t:J(+t),m(),f):u},f.distance=function(t){return arguments.length?(c="function"===typeof t?t:J(+t),g(),f):c},f}function nt(t){var e=+this._x.call(null,t);return rt(this.cover(e),e,t)}function rt(t,e,n){if(isNaN(e))return t;var r,i,o,a,s,l,u=t._root,c={data:n},d=t._x0,h=t._x1;if(!u)return t._root=c,t;while(u.length)if((a=e>=(i=(d+h)/2))?d=i:h=i,r=u,!(u=u[s=+a]))return r[s]=c,t;if(o=+t._x.call(null,u.data),e===o)return c.next=u,r?r[s]=c:t._root=c,t;do{r=r?r[s]=new Array(2):t._root=new Array(2),(a=e>=(i=(d+h)/2))?d=i:h=i}while((s=+a)===(l=+(o>=i)));return r[l]=u,r[s]=c,t}function it(t){var e,n,r=t.length,i=new Array(r),o=1/0,a=-1/0;for(e=0;e<r;++e)isNaN(n=+this._x.call(null,t[e]))||(i[e]=n,n<o&&(o=n),n>a&&(a=n));if(o>a)return this;for(this.cover(o).cover(a),e=0;e<r;++e)rt(this,i[e],t[e]);return this}function ot(t){if(isNaN(t=+t))return this;var e=this._x0,n=this._x1;if(isNaN(e))n=(e=Math.floor(t))+1;else{var r,i,o=n-e||1,a=this._root;while(e>t||t>=n)switch(i=+(t<e),r=new Array(2),r[i]=a,a=r,o*=2,i){case 0:n=e+o;break;case 1:e=n-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._x1=n,this}function at(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function st(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function lt(t,e,n){this.node=t,this.x0=e,this.x1=n}function ut(t,e){var n,r,i,o,a,s=this._x0,l=this._x1,u=[],c=this._root;c&&u.push(new lt(c,s,l)),null==e?e=1/0:(s=t-e,l=t+e);while(o=u.pop())if(!(!(c=o.node)||(r=o.x0)>l||(i=o.x1)<s))if(c.length){var d=(r+i)/2;u.push(new lt(c[1],d,i),new lt(c[0],r,d)),(a=+(t>=d))&&(o=u[u.length-1],u[u.length-1]=u[u.length-1-a],u[u.length-1-a]=o)}else{var h=Math.abs(t-+this._x.call(null,c.data));h<e&&(e=h,s=t-h,l=t+h,n=c.data)}return n}function ct(t){if(isNaN(o=+this._x.call(null,t)))return this;var e,n,r,i,o,a,s,l,u,c=this._root,d=this._x0,h=this._x1;if(!c)return this;if(c.length)while(1){if((s=o>=(a=(d+h)/2))?d=a:h=a,e=c,!(c=c[l=+s]))return this;if(!c.length)break;e[l+1&1]&&(n=e,u=l)}while(c.data!==t)if(r=c,!(c=c.next))return this;return(i=c.next)&&delete c.next,r?(i?r.next=i:delete r.next,this):e?(i?e[l]=i:delete e[l],(c=e[0]||e[1])&&c===(e[1]||e[0])&&!c.length&&(n?n[u]=c:this._root=c),this):(this._root=i,this)}function dt(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function ht(){return this._root}function ft(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function pt(t){var e,n,r,i,o=[],a=this._root;a&&o.push(new lt(a,this._x0,this._x1));while(e=o.pop())if(!t(a=e.node,r=e.x0,i=e.x1)&&a.length){var s=(r+i)/2;(n=a[1])&&o.push(new lt(n,s,i)),(n=a[0])&&o.push(new lt(n,r,s))}return this}function mt(t){var e,n=[],r=[];this._root&&n.push(new lt(this._root,this._x0,this._x1));while(e=n.pop()){var i=e.node;if(i.length){var o,a=e.x0,s=e.x1,l=(a+s)/2;(o=i[0])&&n.push(new lt(o,a,l)),(o=i[1])&&n.push(new lt(o,l,s))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.x1);return this}function gt(t){return t[0]}function vt(t){return arguments.length?(this._x=t,this):this._x}function yt(t,e){var n=new bt(null==e?gt:e,NaN,NaN);return null==t?n:n.addAll(t)}function bt(t,e,n){this._x=t,this._x0=e,this._x1=n,this._root=void 0}function _t(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var wt=yt.prototype=bt.prototype;function xt(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return St(this.cover(e,n),e,n,t)}function St(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,u,c,d,h,f=t._root,p={data:r},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;while(f.length)if((u=e>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(g+y)/2))?g=a:y=a,i=f,!(f=f[d=c<<1|u]))return i[d]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,i?i[d]=p:t._root=p,t;do{i=i?i[d]=new Array(4):t._root=new Array(4),(u=e>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(g+y)/2))?g=a:y=a}while((d=c<<1|u)===(h=(l>=a)<<1|s>=o));return i[h]=f,i[d]=p,t}function Mt(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>d&&(d=i));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<o;++n)St(this,a[n],s[n],t[n]);return this}function Et(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{var a,s,l=i-n||1,u=this._root;while(n>t||t>=i||r>e||e>=o)switch(s=(e<r)<<1|t<n,a=new Array(4),a[s]=u,u=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Tt(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function At(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ct(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Ot(t,e,n){var r,i,o,a,s,l,u,c=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],m=this._root;m&&p.push(new Ct(m,c,d,h,f)),null==n?n=1/0:(c=t-n,d=e-n,h=t+n,f=e+n,n*=n);while(l=p.pop())if(!(!(m=l.node)||(i=l.x0)>h||(o=l.y0)>f||(a=l.x1)<c||(s=l.y1)<d))if(m.length){var g=(i+a)/2,v=(o+s)/2;p.push(new Ct(m[3],g,v,a,s),new Ct(m[2],i,v,g,s),new Ct(m[1],g,o,a,v),new Ct(m[0],i,o,g,v)),(u=(e>=v)<<1|t>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),_=y*y+b*b;if(_<n){var w=Math.sqrt(n=_);c=t-w,d=e-w,h=t+w,f=e+w,r=m.data}}return r}function kt(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,u,c,d,h,f=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!f)return this;if(f.length)while(1){if((u=o>=(s=(p+g)/2))?p=s:g=s,(c=a>=(l=(m+v)/2))?m=l:v=l,e=f,!(f=f[d=c<<1|u]))return this;if(!f.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,h=d)}while(f.data!==t)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[d]=i:delete e[d],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)}function Pt(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Lt(){return this._root}function It(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function Dt(t){var e,n,r,i,o,a,s=[],l=this._root;l&&s.push(new Ct(l,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var u=(r+o)/2,c=(i+a)/2;(n=l[3])&&s.push(new Ct(n,u,c,o,a)),(n=l[2])&&s.push(new Ct(n,r,c,u,a)),(n=l[1])&&s.push(new Ct(n,u,i,o,c)),(n=l[0])&&s.push(new Ct(n,r,i,u,c))}return this}function Rt(t){var e,n=[],r=[];this._root&&n.push(new Ct(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,u=e.y1,c=(a+l)/2,d=(s+u)/2;(o=i[0])&&n.push(new Ct(o,a,s,c,d)),(o=i[1])&&n.push(new Ct(o,c,s,l,d)),(o=i[2])&&n.push(new Ct(o,a,d,c,u)),(o=i[3])&&n.push(new Ct(o,c,d,l,u))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function Nt(t){return t[0]}function Bt(t){return arguments.length?(this._x=t,this):this._x}function Ft(t){return t[1]}function jt(t){return arguments.length?(this._y=t,this):this._y}function zt(t,e,n){var r=new Vt(null==e?Nt:e,null==n?Ft:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Vt(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ut(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}wt.copy=function(){var t,e,n=new bt(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=_t(r),n;t=[{source:r,target:n._root=new Array(2)}];while(r=t.pop())for(var i=0;i<2;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(2)}):r.target[i]=_t(e));return n},wt.add=nt,wt.addAll=it,wt.cover=ot,wt.data=at,wt.extent=st,wt.find=ut,wt.remove=ct,wt.removeAll=dt,wt.root=ht,wt.size=ft,wt.visit=pt,wt.visitAfter=mt,wt.x=vt;var Ht=zt.prototype=Vt.prototype;function Wt(t){var e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return Gt(this.cover(e,n,r),e,n,r,t)}function Gt(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var o,a,s,l,u,c,d,h,f,p,m,g,v=t._root,y={data:i},b=t._x0,_=t._y0,w=t._z0,x=t._x1,S=t._y1,M=t._z1;if(!v)return t._root=y,t;while(v.length)if((h=e>=(a=(b+x)/2))?b=a:x=a,(f=n>=(s=(_+S)/2))?_=s:S=s,(p=r>=(l=(w+M)/2))?w=l:M=l,o=v,!(v=v[m=p<<2|f<<1|h]))return o[m]=y,t;if(u=+t._x.call(null,v.data),c=+t._y.call(null,v.data),d=+t._z.call(null,v.data),e===u&&n===c&&r===d)return y.next=v,o?o[m]=y:t._root=y,t;do{o=o?o[m]=new Array(8):t._root=new Array(8),(h=e>=(a=(b+x)/2))?b=a:x=a,(f=n>=(s=(_+S)/2))?_=s:S=s,(p=r>=(l=(w+M)/2))?w=l:M=l}while((m=p<<2|f<<1|h)===(g=(d>=l)<<2|(c>=s)<<1|u>=a));return o[g]=v,o[m]=y,t}function qt(t){var e,n,r,i,o,a=t.length,s=new Array(a),l=new Array(a),u=new Array(a),c=1/0,d=1/0,h=1/0,f=-1/0,p=-1/0,m=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||isNaN(o=+this._z.call(null,e))||(s[n]=r,l[n]=i,u[n]=o,r<c&&(c=r),r>f&&(f=r),i<d&&(d=i),i>p&&(p=i),o<h&&(h=o),o>m&&(m=o));if(c>f||d>p||h>m)return this;for(this.cover(c,d,h).cover(f,p,m),n=0;n<a;++n)Gt(this,s[n],l[n],u[n],t[n]);return this}function $t(t,e,n){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(t))+1,s=(i=Math.floor(e))+1,l=(o=Math.floor(n))+1;else{var u,c,d=a-r||1,h=this._root;while(r>t||t>=a||i>e||e>=s||o>n||n>=l)switch(c=(n<o)<<2|(e<i)<<1|t<r,u=new Array(8),u[c]=h,h=u,d*=2,c){case 0:a=r+d,s=i+d,l=o+d;break;case 1:r=a-d,s=i+d,l=o+d;break;case 2:a=r+d,i=s-d,l=o+d;break;case 3:r=a-d,i=s-d,l=o+d;break;case 4:a=r+d,s=i+d,o=l-d;break;case 5:r=a-d,s=i+d,o=l-d;break;case 6:a=r+d,i=s-d,o=l-d;break;case 7:r=a-d,i=s-d,o=l-d;break}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this}function Xt(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function Yt(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Zt(t,e,n,r,i,o,a){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}function Jt(t,e,n,r){var i,o,a,s,l,u,c,d,h,f=this._x0,p=this._y0,m=this._z0,g=this._x1,v=this._y1,y=this._z1,b=[],_=this._root;_&&b.push(new Zt(_,f,p,m,g,v,y)),null==r?r=1/0:(f=t-r,p=e-r,m=n-r,g=t+r,v=e+r,y=n+r,r*=r);while(d=b.pop())if(!(!(_=d.node)||(o=d.x0)>g||(a=d.y0)>v||(s=d.z0)>y||(l=d.x1)<f||(u=d.y1)<p||(c=d.z1)<m))if(_.length){var w=(o+l)/2,x=(a+u)/2,S=(s+c)/2;b.push(new Zt(_[7],w,x,S,l,u,c),new Zt(_[6],o,x,S,w,u,c),new Zt(_[5],w,a,S,l,x,c),new Zt(_[4],o,a,S,w,x,c),new Zt(_[3],w,x,s,l,u,S),new Zt(_[2],o,x,s,w,u,S),new Zt(_[1],w,a,s,l,x,S),new Zt(_[0],o,a,s,w,x,S)),(h=(n>=S)<<2|(e>=x)<<1|t>=w)&&(d=b[b.length-1],b[b.length-1]=b[b.length-1-h],b[b.length-1-h]=d)}else{var M=t-+this._x.call(null,_.data),E=e-+this._y.call(null,_.data),T=n-+this._z.call(null,_.data),A=M*M+E*E+T*T;if(A<r){var C=Math.sqrt(r=A);f=t-C,p=e-C,m=n-C,g=t+C,v=e+C,y=n+C,i=_.data}}return i}function Kt(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t))||isNaN(s=+this._z.call(null,t)))return this;var e,n,r,i,o,a,s,l,u,c,d,h,f,p,m,g=this._root,v=this._x0,y=this._y0,b=this._z0,_=this._x1,w=this._y1,x=this._z1;if(!g)return this;if(g.length)while(1){if((d=o>=(l=(v+_)/2))?v=l:_=l,(h=a>=(u=(y+w)/2))?y=u:w=u,(f=s>=(c=(b+x)/2))?b=c:x=c,e=g,!(g=g[p=f<<2|h<<1|d]))return this;if(!g.length)break;(e[p+1&7]||e[p+2&7]||e[p+3&7]||e[p+4&7]||e[p+5&7]||e[p+6&7]||e[p+7&7])&&(n=e,m=p)}while(g.data!==t)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):e?(i?e[p]=i:delete e[p],(g=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&g===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!g.length&&(n?n[m]=g:this._root=g),this):(this._root=i,this)}function Qt(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function te(){return this._root}function ee(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function ne(t){var e,n,r,i,o,a,s,l,u=[],c=this._root;c&&u.push(new Zt(c,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));while(e=u.pop())if(!t(c=e.node,r=e.x0,i=e.y0,o=e.z0,a=e.x1,s=e.y1,l=e.z1)&&c.length){var d=(r+a)/2,h=(i+s)/2,f=(o+l)/2;(n=c[7])&&u.push(new Zt(n,d,h,f,a,s,l)),(n=c[6])&&u.push(new Zt(n,r,h,f,d,s,l)),(n=c[5])&&u.push(new Zt(n,d,i,f,a,h,l)),(n=c[4])&&u.push(new Zt(n,r,i,f,d,h,l)),(n=c[3])&&u.push(new Zt(n,d,h,o,a,s,f)),(n=c[2])&&u.push(new Zt(n,r,h,o,d,s,f)),(n=c[1])&&u.push(new Zt(n,d,i,o,a,h,f)),(n=c[0])&&u.push(new Zt(n,r,i,o,d,h,f))}return this}function re(t){var e,n=[],r=[];this._root&&n.push(new Zt(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));while(e=n.pop()){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.z0,u=e.x1,c=e.y1,d=e.z1,h=(a+u)/2,f=(s+c)/2,p=(l+d)/2;(o=i[0])&&n.push(new Zt(o,a,s,l,h,f,p)),(o=i[1])&&n.push(new Zt(o,h,s,l,u,f,p)),(o=i[2])&&n.push(new Zt(o,a,f,l,h,c,p)),(o=i[3])&&n.push(new Zt(o,h,f,l,u,c,p)),(o=i[4])&&n.push(new Zt(o,a,s,p,h,f,d)),(o=i[5])&&n.push(new Zt(o,h,s,p,u,f,d)),(o=i[6])&&n.push(new Zt(o,a,f,p,h,c,d)),(o=i[7])&&n.push(new Zt(o,h,f,p,u,c,d))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.z0,e.x1,e.y1,e.z1);return this}function ie(t){return t[0]}function oe(t){return arguments.length?(this._x=t,this):this._x}function ae(t){return t[1]}function se(t){return arguments.length?(this._y=t,this):this._y}function le(t){return t[2]}function ue(t){return arguments.length?(this._z=t,this):this._z}function ce(t,e,n,r){var i=new de(null==e?ie:e,null==n?ae:n,null==r?le:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function de(t,e,n,r,i,o,a,s,l){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this._root=void 0}function he(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}Ht.copy=function(){var t,e,n=new Vt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ut(r),n;t=[{source:r,target:n._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Ut(e));return n},Ht.add=xt,Ht.addAll=Mt,Ht.cover=Et,Ht.data=Tt,Ht.extent=At,Ht.find=Ot,Ht.remove=kt,Ht.removeAll=Pt,Ht.root=Lt,Ht.size=It,Ht.visit=Dt,Ht.visitAfter=Rt,Ht.x=Bt,Ht.y=jt;var fe=ce.prototype=de.prototype;function pe(){var t,e,n,r,i,o,a=J(-30),s=1,l=1/0,u=.81;function c(r){var o,a=t.length,s=(1===e?yt(t,W):2===e?zt(t,W,G):3===e?ce(t,W,G,q):null).visitAfter(h);for(i=r,o=0;o<a;++o)n=t[o],s.visit(f)}function d(){if(t){var e,n,r=t.length;for(o=new Array(r),e=0;e<r;++e)n=t[e],o[n.index]=+a(n,e,t)}}function h(t){var n,r,i,a,s,l,u=0,c=0,d=t.length;if(d){for(i=a=s=l=0;l<d;++l)(n=t[l])&&(r=Math.abs(n.value))&&(u+=n.value,c+=r,i+=r*(n.x||0),a+=r*(n.y||0),s+=r*(n.z||0));u*=Math.sqrt(4/d),t.x=i/c,e>1&&(t.y=a/c),e>2&&(t.z=s/c)}else{n=t,n.x=n.data.x,e>1&&(n.y=n.data.y),e>2&&(n.z=n.data.z);do{u+=o[n.data.index]}while(n=n.next)}t.value=u}function f(t,a,c,d,h){if(!t.value)return!0;var f=[c,d,h][e-1],p=t.x-n.x,m=e>1?t.y-n.y:0,g=e>2?t.z-n.z:0,v=f-a,y=p*p+m*m+g*g;if(v*v/u<y)return y<l&&(0===p&&(p=K(r),y+=p*p),e>1&&0===m&&(m=K(r),y+=m*m),e>2&&0===g&&(g=K(r),y+=g*g),y<s&&(y=Math.sqrt(s*y)),n.vx+=p*t.value*i/y,e>1&&(n.vy+=m*t.value*i/y),e>2&&(n.vz+=g*t.value*i/y)),!0;if(!(t.length||y>=l)){(t.data!==n||t.next)&&(0===p&&(p=K(r),y+=p*p),e>1&&0===m&&(m=K(r),y+=m*m),e>2&&0===g&&(g=K(r),y+=g*g),y<s&&(y=Math.sqrt(s*y)));do{t.data!==n&&(v=o[t.data.index]*i/y,n.vx+=p*v,e>1&&(n.vy+=m*v),e>2&&(n.vz+=g*v))}while(t=t.next)}}return c.initialize=function(n,...i){t=n,r=i.find((t=>"function"===typeof t))||Math.random,e=i.find((t=>[1,2,3].includes(t)))||2,d()},c.strength=function(t){return arguments.length?(a="function"===typeof t?t:J(+t),d(),c):a},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c}function me(t,e,n){var r,i=1;function o(){var o,a,s=r.length,l=0,u=0,c=0;for(o=0;o<s;++o)a=r[o],l+=a.x||0,u+=a.y||0,c+=a.z||0;for(l=(l/s-t)*i,u=(u/s-e)*i,c=(c/s-n)*i,o=0;o<s;++o)a=r[o],l&&(a.x-=l),u&&(a.y-=u),c&&(a.z-=c)}return null==t&&(t=0),null==e&&(e=0),null==n&&(n=0),o.initialize=function(t){r=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.z=function(t){return arguments.length?(n=+t,o):n},o.strength=function(t){return arguments.length?(i=+t,o):i},o}function ge(t,e,n,r){var i,o,a,s,l=J(.1);function u(t){for(var l=0,u=i.length;l<u;++l){var c=i[l],d=c.x-e||1e-6,h=(c.y||0)-n||1e-6,f=(c.z||0)-r||1e-6,p=Math.sqrt(d*d+h*h+f*f),m=(s[l]-p)*a[l]*t/p;c.vx+=d*m,o>1&&(c.vy+=h*m),o>2&&(c.vz+=f*m)}}function c(){if(i){var e,n=i.length;for(a=new Array(n),s=new Array(n),e=0;e<n;++e)s[e]=+t(i[e],e,i),a[e]=isNaN(s[e])?0:+l(i[e],e,i)}}return"function"!==typeof t&&(t=J(+t)),null==e&&(e=0),null==n&&(n=0),null==r&&(r=0),u.initialize=function(t,...e){i=t,o=e.find((t=>[1,2,3].includes(t)))||2,c()},u.strength=function(t){return arguments.length?(l="function"===typeof t?t:J(+t),c(),u):l},u.radius=function(e){return arguments.length?(t="function"===typeof e?e:J(+e),c(),u):t},u.x=function(t){return arguments.length?(e=+t,u):e},u.y=function(t){return arguments.length?(n=+t,u):n},u.z=function(t){return arguments.length?(r=+t,u):r},u}fe.copy=function(){var t,e,n=new de(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=he(r),n;t=[{source:r,target:n._root=new Array(8)}];while(r=t.pop())for(var i=0;i<8;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(8)}):r.target[i]=he(e));return n},fe.add=Wt,fe.addAll=qt,fe.cover=$t,fe.data=Xt,fe.extent=Yt,fe.find=Jt,fe.remove=Kt,fe.removeAll=Qt,fe.root=te,fe.size=ee,fe.visit=ne,fe.visitAfter=re,fe.x=oe,fe.y=se,fe.z=ue;var ve=n(4747),ye=n.n(ve),be=n(4854),_e=n.n(be),we=n(7823),xe=n.n(we);function Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e,n){return e&&Me(t.prototype,e),n&&Me(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Te(t,e){return Ae(t)||Ce(t,e)||Oe(t,e)||Pe()}function Ae(t){if(Array.isArray(t))return t}function Ce(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Oe(t,e){if(t){if("string"===typeof t)return ke(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ke(t,e):void 0}}function ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Le=Ee((function t(e,n){var r=n["default"],i=void 0===r?null:r,o=n.triggerUpdate,a=void 0===o||o,s=n.onChange,l=void 0===s?function(t,e){}:s;Se(this,t),this.name=e,this.defaultVal=i,this.triggerUpdate=a,this.onChange=l}));function Ie(t){var e=t.stateInit,n=void 0===e?function(){return{}}:e,r=t.props,i=void 0===r?{}:r,o=t.methods,a=void 0===o?{}:o,s=t.aliases,l=void 0===s?{}:s,u=t.init,c=void 0===u?function(){}:u,d=t.update,h=void 0===d?function(){}:d,f=Object.keys(i).map((function(t){return new Le(t,i[t])}));return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},n instanceof Function?n(t):n,{initialised:!1}),r={};function i(e){return o(e,t),s(),i}var o=function(t,n){c.call(i,t,e,n),e.initialised=!0},s=xe()((function(){e.initialised&&(h.call(i,e,r),r={})}),1);return f.forEach((function(t){function n(t){var n=t.name,o=t.triggerUpdate,a=void 0!==o&&o,l=t.onChange,u=void 0===l?function(t,e){}:l,c=t.defaultVal,d=void 0===c?null:c;return function(t){var o=e[n];if(!arguments.length)return o;var l=void 0===t?d:t;return e[n]=l,u.call(i,l,e,o),!r.hasOwnProperty(n)&&(r[n]=o),a&&s(),i}}i[t.name]=n(t)})),Object.keys(a).forEach((function(t){i[t]=function(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=a[t]).call.apply(n,[i,e].concat(o))}})),Object.entries(l).forEach((function(t){var e=Te(t,2),n=e[0],r=e[1];return i[n]=i[r]})),i.resetProps=function(){return f.forEach((function(t){i[t.name](t.defaultVal)})),i},i.resetProps(),e._rerender=s,i}}var De=function(t){return t instanceof Function?t:"string"===typeof t?function(e){return e[t]}:function(e){return t}},Re=De;function Ne(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Be(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Fe(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function je(t,e){if(null==t)return{};var n,r,i=Fe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ze(t,e){return He(t)||Ge(t,e)||qe(t,e)||Ye()}function Ve(t){return Ue(t)||We(t)||qe(t)||Xe()}function Ue(t){if(Array.isArray(t))return $e(t)}function He(t){if(Array.isArray(t))return t}function We(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Ge(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function qe(t,e){if(t){if("string"===typeof t)return $e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(t,e):void 0}}function $e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ye(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ze(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Je(t){var e=Ze(t,"string");return"symbol"===typeof e?e:String(e)}var Ke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(e instanceof Array?e.length?e:[void 0]:[e]).map((function(t){return{keyAccessor:t,isProp:!(t instanceof Function)}})),o=t.reduce((function(t,e){var r=t,o=e;return i.forEach((function(t,e){var a,s=t.keyAccessor,l=t.isProp;if(l){var u=o,c=u[s],d=je(u,[s].map(Je));a=c,o=d}else a=s(o,e);e+1<i.length?(r.hasOwnProperty(a)||(r[a]={}),r=r[a]):n?(r.hasOwnProperty(a)||(r[a]=[]),r[a].push(o)):r[a]=o})),t}),{});n instanceof Function&&function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===i.length?Object.keys(e).forEach((function(t){return e[t]=n(e[t])})):Object.values(e).forEach((function(e){return t(e,r+1)}))}(o);var a=o;return r&&(a=[],function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===i.length?a.push({keys:n,vals:e}):Object.entries(e).forEach((function(e){var r=ze(e,2),i=r[0],o=r[1];return t(o,[].concat(Ve(n),[i]))}))}(o),e instanceof Array&&0===e.length&&1===a.length&&(a[0].keys=[])),a},Qe=Ke;function tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(n),!0).forEach((function(e){nn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rn(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function on(t,e){if(null==t)return{};var n,r,i=rn(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function an(t,e){return un(t)||dn(t,e)||hn(t,e)||mn()}function sn(t){return ln(t)||cn(t)||hn(t)||pn()}function ln(t){if(Array.isArray(t))return fn(t)}function un(t){if(Array.isArray(t))return t}function cn(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function dn(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function hn(t,e){if(t){if("string"===typeof t)return fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(t,e):void 0}}function fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gn(t,e,n){var r={enter:[],update:[],exit:[]};if(n){var i=Qe(t,n,!1),o=Qe(e,n,!1),a=Object.assign({},i,o);Object.entries(a).forEach((function(t){var e=an(t,2),n=e[0],a=e[1],s=i.hasOwnProperty(n)?o.hasOwnProperty(n)?"update":"exit":"enter";r[s].push("update"===s?[i[n],o[n]]:a)}))}else{var s=new Set(t),l=new Set(e);new Set([].concat(sn(s),sn(l))).forEach((function(t){var e=s.has(t)?l.has(t)?"update":"exit":"enter";r[e].push("update"===e?[t,t]:t)}))}return r}function vn(t,e,n){var r=n.objBindAttr,i=void 0===r?"__obj":r,o=n.dataBindAttr,a=void 0===o?"__data":o,s=n.idAccessor,l=n.purge,u=void 0!==l&&l,c=function(t){return t.hasOwnProperty(a)},d=e.filter((function(t){return!c(t)})),h=e.filter(c).map((function(t){return t[a]})),f=t,p=u?{enter:f,exit:h,update:[]}:gn(h,f,s);return p.update=p.update.map((function(t){var e=an(t,2),n=e[0],r=e[1];return n!==r&&(r[i]=n[i],r[i][a]=r),r})),p.exit=p.exit.concat(d.map((function(t){return nn({},i,t)}))),p}function yn(t,e,n,r,i){var o=i.createObj,a=void 0===o?function(t){return{}}:o,s=i.updateObj,l=void 0===s?function(t,e){}:s,u=i.exitObj,c=void 0===u?function(t){}:u,d=i.objBindAttr,h=void 0===d?"__obj":d,f=i.dataBindAttr,p=void 0===f?"__data":f,m=on(i,["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"]),g=vn(t,e,en({objBindAttr:h,dataBindAttr:p},m)),v=g.enter,y=g.update,b=g.exit;b.forEach((function(t){var e=t[h];delete t[h],c(e),r(e)}));var _=x(v),w=[].concat(sn(v),sn(y));function x(t){var e=[];return t.forEach((function(t){var n=a(t);n&&(n[p]=t,t[h]=n,e.push(n))})),e}function S(t){t.forEach((function(t){var e=t[h];e&&(e[p]=t,l(e,t))}))}S(w),_.forEach(n)}var bn=yn;class _n extends Map{constructor(t,e=Mn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(wn(this,t))}has(t){return super.has(wn(this,t))}set(t,e){return super.set(xn(this,t),e)}delete(t){return super.delete(Sn(this,t))}}Set;function wn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Sn({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Mn(t){return null!==t&&"object"===typeof t?t.valueOf():t}function En(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Tn=Symbol("implicit");function An(){var t=new _n,e=[],n=[],r=Tn;function i(i){let o=t.get(i);if(void 0===o){if(r!==Tn)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new _n;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return An(e,n).unknown(r)},En.apply(i,arguments),i}function Cn(t){var e=t.length/6|0,n=new Array(e),r=0;while(r<e)n[r]="#"+t.slice(6*r,6*++r);return n}var On=Cn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),kn=n(7013),Pn=n.n(kn);function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){Fn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dn(t){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}function Rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bn(t,e,n){return e&&Nn(t.prototype,e),n&&Nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jn(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vn(t,e)}function zn(t){return zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zn(t)}function Vn(t,e){return Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vn(t,e)}function Un(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Hn(t,e,n){return Hn=Un()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=Function.bind.apply(t,r),o=new i;return n&&Vn(o,n.prototype),o},Hn.apply(null,arguments)}function Wn(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Gn(t,e){if(null==t)return{};var n,r,i=Wn(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $n(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qn(t)}function Xn(t){var e=Un();return function(){var n,r=zn(t);if(e){var i=zn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $n(this,n)}}function Yn(t,e){return Kn(t)||tr(t,e)||er(t,e)||ir()}function Zn(t){return Jn(t)||Qn(t)||er(t)||rr()}function Jn(t){if(Array.isArray(t))return nr(t)}function Kn(t){if(Array.isArray(t))return t}function Qn(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function tr(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function er(t,e){if(t){if("string"===typeof t)return nr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nr(t,e):void 0}}function nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ir(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var or=function t(e){e instanceof Array?e.forEach(t):(e.map&&e.map.dispose(),e.dispose())},ar=function t(e){e.geometry&&e.geometry.dispose(),e.material&&or(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(t)},sr=function(t){while(t.children.length){var e=t.children[0];t.remove(e),ar(e)}},lr=["objFilter"];function ur(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.objFilter,i=void 0===r?function(){return!0}:r,o=Gn(n,lr);return bn(t,e.children.filter(i),(function(t){return e.add(t)}),(function(t){e.remove(t),sr(t)}),In({objBindAttr:"__threeObj"},o))}var cr=function(t){return isNaN(t)?parseInt(Pn()(t).toHex(),16):t},dr=function(t){return isNaN(t)?Pn()(t).getAlpha():1},hr=An(On);function fr(t,e,n){e&&"string"===typeof n&&t.filter((function(t){return!t[n]})).forEach((function(t){t[n]=hr(e(t))}))}function pr(t,e){var n=t.nodes,r=t.links,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.nodeFilter,a=void 0===o?function(){return!0}:o,s=i.onLoopError,l=void 0===s?function(t){throw"Invalid DAG structure! Found cycle in node path: ".concat(t.join(" -> "),".")}:s,u={};n.forEach((function(t){return u[e(t)]={data:t,out:[],depth:-1,skip:!a(t)}})),r.forEach((function(t){var n=t.source,r=t.target,i=l(n),o=l(r);if(!u.hasOwnProperty(i))throw"Missing source node with id: ".concat(i);if(!u.hasOwnProperty(o))throw"Missing target node with id: ".concat(o);var a=u[i],s=u[o];function l(t){return"object"===Dn(t)?e(t):t}a.out.push(s)}));var c=[];h(Object.values(u));var d=Object.assign.apply(Object,[{}].concat(Zn(Object.entries(u).filter((function(t){var e=Yn(t,2),n=e[1];return!n.skip})).map((function(t){var e=Yn(t,2),n=e[0],r=e[1];return Fn({},n,r.depth)})))));return d;function h(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0,o=t.length;i<o;i++){var a=t[i];if(-1!==n.indexOf(a)){var s=function(){var t=[].concat(Zn(n.slice(n.indexOf(a))),[a]).map((function(t){return e(t.data)}));return c.some((function(e){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))||(c.push(t),l(t)),"continue"}();if("continue"===s)continue}r>a.depth&&(a.depth=r,h(a.out,[].concat(Zn(n),[a]),r+(a.skip?0:1)))}}}var mr=window.THREE?window.THREE:{Group:r.ZAu,Mesh:r.Kj0,MeshLambertMaterial:r.YBo,Color:r.Ilk,BufferGeometry:r.u9r,BufferAttribute:r.TlE,Matrix4:r.yGw,Vector3:r.Pa4,SphereBufferGeometry:r.Aip,CylinderBufferGeometry:r.m_w,TubeBufferGeometry:r.Lcc,ConeBufferGeometry:r._3,Line:r.x12,LineBasicMaterial:r.nls,QuadraticBezierCurve3:r.mXe,CubicBezierCurve3:r.yj7,Box3:r.ZzF},gr={graph:ye(),forcelayout:_e()},vr=2,yr=(new mr.BufferGeometry).setAttribute?"setAttribute":"addAttribute",br=(new mr.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",_r=Ie({props:{jsonUrl:{onChange:function(t,e){var n=this;t&&!e.fetchingJson&&(e.fetchingJson=!0,e.onLoading(),fetch(t).then((function(t){return t.json()})).then((function(t){e.fetchingJson=!1,e.onFinishLoading(t),n.graphData(t)})))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(t,e){e.engineRunning=!1}},numDimensions:{default:3,onChange:function(t,e){var n=e.d3ForceLayout.force("charge");function r(t,e){t.forEach((function(t){delete t[e],delete t["v".concat(e)]}))}n&&n.strength(t>2?-60:-30),t<3&&r(e.graphData.nodes,"z"),t<2&&r(e.graphData.nodes,"y")}},dagMode:{onChange:function(t,e){!t&&"d3"===e.forceEngine&&(e.graphData.nodes||[]).forEach((function(t){return t.fx=t.fy=t.fz=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(t){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(t,e){e.d3ForceLayout.alphaDecay(t)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(t,e){e.d3ForceLayout.alphaTarget(t)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(t,e){e.d3ForceLayout.velocityDecay(t)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(t){return t._flushObjects=!0,t._rerender(),this},d3Force:function(t,e,n){return void 0===n?t.d3ForceLayout.force(e):(t.d3ForceLayout.force(e,n),this)},d3ReheatSimulation:function(t){return t.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(t){return t.cntTicks=0,t.startTickTime=new Date,t.engineRunning=!0,this},tickFrame:function(t){var e="ngraph"!==t.forceEngine;return t.engineRunning&&n(),r(),i(),this;function n(){++t.cntTicks>t.cooldownTicks||new Date-t.startTickTime>t.cooldownTime||e&&t.d3AlphaMin>0&&t.d3ForceLayout.alpha()<t.d3AlphaMin?(t.engineRunning=!1,t.onEngineStop()):(t.layout[e?"tick":"step"](),t.onEngineTick()),t.graphData.nodes.forEach((function(n){var r=n.__threeObj;if(r){var i=e?n:t.layout.getNodePosition(n[t.nodeId]);r.position.x=i.x,r.position.y=i.y||0,r.position.z=i.z||0}}));var n=Re(t.linkWidth),r=Re(t.linkCurvature),i=Re(t.linkCurveRotation),o=Re(t.linkThreeObjectExtend);function a(n){var o=e?n:t.layout.getLinkPosition(t.layout.graph.getLink(n.source,n.target).id),a=o[e?"source":"from"],s=o[e?"target":"to"];if(a&&s&&a.hasOwnProperty("x")&&s.hasOwnProperty("x")){var l=r(n);if(l){var u,c=new mr.Vector3(a.x,a.y||0,a.z||0),d=new mr.Vector3(s.x,s.y||0,s.z||0),h=c.distanceTo(d),f=i(n);if(h>0){var p=s.x-a.x,m=s.y-a.y||0,g=(new mr.Vector3).subVectors(d,c),v=g.clone().multiplyScalar(l).cross(0!==p||0!==m?new mr.Vector3(0,0,1):new mr.Vector3(0,1,0)).applyAxisAngle(g.normalize(),f).add((new mr.Vector3).addVectors(c,d).divideScalar(2));u=new mr.QuadraticBezierCurve3(c,v,d)}else{var y=70*l,b=-f,_=b+Math.PI/2;u=new mr.CubicBezierCurve3(c,new mr.Vector3(y*Math.cos(_),y*Math.sin(_),0).add(c),new mr.Vector3(y*Math.cos(b),y*Math.sin(b),0).add(c),d)}n.__curve=u}else n.__curve=null}}t.graphData.links.forEach((function(r){var i=r.__lineObj;if(i){var s=e?r:t.layout.getLinkPosition(t.layout.graph.getLink(r.source,r.target).id),l=s[e?"source":"from"],u=s[e?"target":"to"];if(l&&u&&l.hasOwnProperty("x")&&u.hasOwnProperty("x")){a(r);var c=o(r);if(!t.linkPositionUpdate||!t.linkPositionUpdate(c?i.children[1]:i,{start:{x:l.x,y:l.y,z:l.z},end:{x:u.x,y:u.y,z:u.z}},r)||c){var d=30,h=r.__curve,f=i.children.length?i.children[0]:i;if("Line"===f.type){if(h)f.geometry.setFromPoints(h.getPoints(d));else{var p=f.geometry.getAttribute("position");p&&p.array&&6===p.array.length||f.geometry[yr]("position",p=new mr.BufferAttribute(new Float32Array(6),3)),p.array[0]=l.x,p.array[1]=l.y||0,p.array[2]=l.z||0,p.array[3]=u.x,p.array[4]=u.y||0,p.array[5]=u.z||0,p.needsUpdate=!0}f.geometry.computeBoundingSphere()}else if("Mesh"===f.type)if(h){f.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(f.position.set(0,0,0),f.rotation.set(0,0,0),f.scale.set(1,1,1));var m=Math.ceil(10*n(r))/10,g=m/2,v=new mr.TubeBufferGeometry(h,d,g,t.linkResolution,!1);f.geometry.dispose(),f.geometry=v}else{if(!f.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var y=Math.ceil(10*n(r))/10,b=y/2,_=new mr.CylinderBufferGeometry(b,b,1,t.linkResolution,1,!1);_[br]((new mr.Matrix4).makeTranslation(0,.5,0)),_[br]((new mr.Matrix4).makeRotationX(Math.PI/2)),f.geometry.dispose(),f.geometry=_}var w=new mr.Vector3(l.x,l.y||0,l.z||0),x=new mr.Vector3(u.x,u.y||0,u.z||0),S=w.distanceTo(x);f.position.x=w.x,f.position.y=w.y,f.position.z=w.z,f.scale.z=S,f.parent.localToWorld(x),f.lookAt(x)}}}}}))}function r(){var n=Re(t.linkDirectionalArrowRelPos),r=Re(t.linkDirectionalArrowLength),i=Re(t.nodeVal);t.graphData.links.forEach((function(o){var a=o.__arrowObj;if(a){var s=e?o:t.layout.getLinkPosition(t.layout.graph.getLink(o.source,o.target).id),l=s[e?"source":"from"],u=s[e?"target":"to"];if(l&&u&&l.hasOwnProperty("x")&&u.hasOwnProperty("x")){var c=Math.sqrt(Math.max(0,i(l)||1))*t.nodeRelSize,d=Math.sqrt(Math.max(0,i(u)||1))*t.nodeRelSize,h=r(o),f=n(o),p=o.__curve?function(t){return o.__curve.getPoint(t)}:function(t){var e=function(t,e,n,r){return e[t]+(n[t]-e[t])*r||0};return{x:e("x",l,u,t),y:e("y",l,u,t),z:e("z",l,u,t)}},m=o.__curve?o.__curve.getLength():Math.sqrt(["x","y","z"].map((function(t){return Math.pow((u[t]||0)-(l[t]||0),2)})).reduce((function(t,e){return t+e}),0)),g=c+h+(m-c-d-h)*f,v=p(g/m),y=p((g-h)/m);["x","y","z"].forEach((function(t){return a.position[t]=y[t]}));var b=Hn(mr.Vector3,Zn(["x","y","z"].map((function(t){return v[t]}))));a.parent.localToWorld(b),a.lookAt(b)}}}))}function i(){var n=Re(t.linkDirectionalParticleSpeed);t.graphData.links.forEach((function(r){var i=r.__photonsObj&&r.__photonsObj.children,o=r.__singleHopPhotonsObj&&r.__singleHopPhotonsObj.children;if(o&&o.length||i&&i.length){var a=e?r:t.layout.getLinkPosition(t.layout.graph.getLink(r.source,r.target).id),s=a[e?"source":"from"],l=a[e?"target":"to"];if(s&&l&&s.hasOwnProperty("x")&&l.hasOwnProperty("x")){var u=n(r),c=r.__curve?function(t){return r.__curve.getPoint(t)}:function(t){var e=function(t,e,n,r){return e[t]+(n[t]-e[t])*r||0};return{x:e("x",s,l,t),y:e("y",s,l,t),z:e("z",s,l,t)}},d=[].concat(Zn(i||[]),Zn(o||[]));d.forEach((function(t,e){var n="singleHopPhotons"===t.parent.__linkThreeObjType;if(t.hasOwnProperty("__progressRatio")||(t.__progressRatio=n?0:e/i.length),t.__progressRatio+=u,t.__progressRatio>=1){if(n)return t.parent.remove(t),void sr(t);t.__progressRatio=t.__progressRatio%1}var r=t.__progressRatio,o=c(r);["x","y","z"].forEach((function(e){return t.position[e]=o[e]}))}))}}}))}},emitParticle:function(t,e){if(e){if(!e.__singleHopPhotonsObj){var n=new mr.Group;n.__linkThreeObjType="singleHopPhotons",e.__singleHopPhotonsObj=n,t.graphScene.add(n)}var r=Re(t.linkDirectionalParticleWidth),i=Math.ceil(10*r(e))/10/2,o=t.linkDirectionalParticleResolution,a=new mr.SphereBufferGeometry(i,o,o),s=Re(t.linkColor),l=Re(t.linkDirectionalParticleColor),u=l(e)||s(e)||"#f0f0f0",c=new mr.Color(cr(u)),d=3*t.linkOpacity,h=new mr.MeshLambertMaterial({color:c,transparent:!0,opacity:d});e.__singleHopPhotonsObj.add(new mr.Mesh(a,h))}return this},getGraphBbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!t.initialised)return null;var n=function t(n){var r=[];if(n.geometry){n.geometry.computeBoundingBox();var i=new mr.Box3;i.copy(n.geometry.boundingBox).applyMatrix4(n.matrixWorld),r.push(i)}return r.concat.apply(r,Zn((n.children||[]).filter((function(t){return!t.hasOwnProperty("__graphObjType")||"node"===t.__graphObjType&&e(t.__data)})).map(t)))}(t.graphScene);return n.length?Object.assign.apply(Object,Zn(["x","y","z"].map((function(t){return Fn({},t,[Ne(n,(function(e){return e.min[t]})),Be(n,(function(e){return e.max[t]}))])})))):null}},stateInit:function(){return{d3ForceLayout:Z().force("link",et()).force("charge",pe()).force("center",me()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(t,e){e.graphScene=t},update:function(t,e){var n=function(t){return t.some((function(t){return e.hasOwnProperty(t)}))};if(t.engineRunning=!1,t.onUpdate(),null!==t.nodeAutoColorBy&&n(["nodeAutoColorBy","graphData","nodeColor"])&&fr(t.graphData.nodes,Re(t.nodeAutoColorBy),t.nodeColor),null!==t.linkAutoColorBy&&n(["linkAutoColorBy","graphData","linkColor"])&&fr(t.graphData.links,Re(t.linkAutoColorBy),t.linkColor),t._flushObjects||n(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=Re(t.nodeThreeObject),i=Re(t.nodeThreeObjectExtend),o=Re(t.nodeVal),a=Re(t.nodeColor),s=Re(t.nodeVisibility),l={},u={};ur(t.graphData.nodes.filter(s),t.graphScene,{purge:t._flushObjects||n(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(t){return"node"===t.__graphObjType},createObj:function(e){var n,o=r(e),a=i(e);return o&&t.nodeThreeObject===o&&(o=o.clone()),o&&!a?n=o:(n=new mr.Mesh,n.__graphDefaultObj=!0,o&&a&&n.add(o)),n.__graphObjType="node",n},updateObj:function(e,n){if(e.__graphDefaultObj){var r=o(n)||1,i=Math.cbrt(r)*t.nodeRelSize,s=t.nodeResolution;e.geometry.type.match(/^Sphere(Buffer)?Geometry$/)&&e.geometry.parameters.radius===i&&e.geometry.parameters.widthSegments===s||(l.hasOwnProperty(r)||(l[r]=new mr.SphereBufferGeometry(i,s,s)),e.geometry.dispose(),e.geometry=l[r]);var c=a(n),d=new mr.Color(cr(c||"#ffffaa")),h=t.nodeOpacity*dr(c);"MeshLambertMaterial"===e.material.type&&e.material.color.equals(d)&&e.material.opacity===h||(u.hasOwnProperty(c)||(u[c]=new mr.MeshLambertMaterial({color:d,transparent:!0,opacity:h})),e.material.dispose(),e.material=u[c])}}})}if(t._flushObjects||n(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var c=Re(t.linkThreeObject),d=Re(t.linkThreeObjectExtend),h=Re(t.linkMaterial),f=Re(t.linkVisibility),p=Re(t.linkColor),m=Re(t.linkWidth),g={},v={},y={},b=t.graphData.links.filter(f);if(ur(b,t.graphScene,{objBindAttr:"__lineObj",purge:t._flushObjects||n(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(t){return"link"===t.__graphObjType},createObj:function(e){var n,r,i=c(e),o=d(e);if(i&&t.linkThreeObject===i&&(i=i.clone()),!i||o){var a=!!m(e);if(a)n=new mr.Mesh;else{var s=new mr.BufferGeometry;s[yr]("position",new mr.BufferAttribute(new Float32Array(6),3)),n=new mr.Line(s)}}return i?o?(r=new mr.Group,r.__graphDefaultObj=!0,r.add(n),r.add(i)):r=i:(r=n,r.__graphDefaultObj=!0),r.renderOrder=10,r.__graphObjType="link",r},updateObj:function(e,n){if(e.__graphDefaultObj){var r=e.children.length?e.children[0]:e,i=Math.ceil(10*m(n))/10,o=!!i;if(o){var a=i/2,s=t.linkResolution;if(!r.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||r.geometry.parameters.radiusTop!==a||r.geometry.parameters.radialSegments!==s){if(!g.hasOwnProperty(i)){var l=new mr.CylinderBufferGeometry(a,a,1,s,1,!1);l[br]((new mr.Matrix4).makeTranslation(0,.5,0)),l[br]((new mr.Matrix4).makeRotationX(Math.PI/2)),g[i]=l}r.geometry.dispose(),r.geometry=g[i]}}var u=h(n);if(u)r.material=u;else{var c=p(n),d=new mr.Color(cr(c||"#f0f0f0")),f=t.linkOpacity*dr(c),b=o?"MeshLambertMaterial":"LineBasicMaterial";if(r.material.type!==b||!r.material.color.equals(d)||r.material.opacity!==f){var _=o?v:y;_.hasOwnProperty(c)||(_[c]=new mr[b]({color:d,transparent:f<1,opacity:f,depthWrite:f>=1})),r.material.dispose(),r.material=_[c]}}}}}),t.linkDirectionalArrowLength||e.hasOwnProperty("linkDirectionalArrowLength")){var _=Re(t.linkDirectionalArrowLength),w=Re(t.linkDirectionalArrowColor);ur(b.filter(_),t.graphScene,{objBindAttr:"__arrowObj",objFilter:function(t){return"arrow"===t.__linkThreeObjType},createObj:function(){var t=new mr.Mesh(void 0,new mr.MeshLambertMaterial({transparent:!0}));return t.__linkThreeObjType="arrow",t},updateObj:function(e,n){var r=_(n),i=t.linkDirectionalArrowResolution;if(!e.geometry.type.match(/^Cone(Buffer)?Geometry$/)||e.geometry.parameters.height!==r||e.geometry.parameters.radialSegments!==i){var o=new mr.ConeBufferGeometry(.25*r,r,i);o.translate(0,r/2,0),o.rotateX(Math.PI/2),e.geometry.dispose(),e.geometry=o}e.material.color=new mr.Color(w(n)||p(n)||"#f0f0f0"),e.material.opacity=3*t.linkOpacity}})}if(t.linkDirectionalParticles||e.hasOwnProperty("linkDirectionalParticles")){var x=Re(t.linkDirectionalParticles),S=Re(t.linkDirectionalParticleWidth),M=Re(t.linkDirectionalParticleColor),E={},T={};ur(b.filter(x),t.graphScene,{objBindAttr:"__photonsObj",objFilter:function(t){return"photons"===t.__linkThreeObjType},createObj:function(){var t=new mr.Group;return t.__linkThreeObjType="photons",t},updateObj:function(e,n){var r,i=Math.round(Math.abs(x(n))),o=!!e.children.length&&e.children[0],a=Math.ceil(10*S(n))/10/2,s=t.linkDirectionalParticleResolution;o&&o.geometry.parameters.radius===a&&o.geometry.parameters.widthSegments===s?r=o.geometry:(T.hasOwnProperty(a)||(T[a]=new mr.SphereBufferGeometry(a,s,s)),r=T[a],o&&o.geometry.dispose());var l,u=M(n)||p(n)||"#f0f0f0",c=new mr.Color(cr(u)),d=3*t.linkOpacity;o&&o.material.color.equals(c)&&o.material.opacity===d?l=o.material:(E.hasOwnProperty(u)||(E[u]=new mr.MeshLambertMaterial({color:c,transparent:!0,opacity:d})),l=E[u],o&&o.material.dispose()),ur(Zn(new Array(i)).map((function(t,e){return{idx:e}})),e,{idAccessor:function(t){return t.idx},createObj:function(){return new mr.Mesh(r,l)},updateObj:function(t){t.geometry=r,t.material=l}})}})}}if(t._flushObjects=!1,n(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){t.engineRunning=!1,t.graphData.links.forEach((function(e){e.source=e[t.linkSource],e.target=e[t.linkTarget]}));var A,C="ngraph"!==t.forceEngine;if(C){(A=t.d3ForceLayout).stop().alpha(1).numDimensions(t.numDimensions).nodes(t.graphData.nodes);var O=t.d3ForceLayout.force("link");O&&O.id((function(e){return e[t.nodeId]})).links(t.graphData.links);var k=t.dagMode&&pr(t.graphData,(function(e){return e[t.nodeId]}),{nodeFilter:t.dagNodeFilter,onLoopError:t.onDagError||void 0}),P=Math.max.apply(Math,Zn(Object.values(k||[]))),L=t.dagLevelDistance||t.graphData.nodes.length/(P||1)*vr*(-1!==["radialin","radialout"].indexOf(t.dagMode)?.7:1);if(t.dagMode){var I=function(e,n){return function(r){return e?(k[r[t.nodeId]]-P/2)*L*(n?-1:1):void 0}},D=I(-1!==["lr","rl"].indexOf(t.dagMode),"rl"===t.dagMode),R=I(-1!==["td","bu"].indexOf(t.dagMode),"td"===t.dagMode),N=I(-1!==["zin","zout"].indexOf(t.dagMode),"zout"===t.dagMode);t.graphData.nodes.filter(t.dagNodeFilter).forEach((function(t){t.fx=D(t),t.fy=R(t),t.fz=N(t)}))}t.d3ForceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(t.dagMode)?ge((function(e){var n=k[e[t.nodeId]]||-1;return("radialin"===t.dagMode?P-n:n)*L})).strength((function(e){return t.dagNodeFilter(e)?1:0})):null)}else{var B=gr.graph();t.graphData.nodes.forEach((function(e){B.addNode(e[t.nodeId])})),t.graphData.links.forEach((function(t){B.addLink(t.source,t.target)})),A=gr.forcelayout(B,In({dimensions:t.numDimensions},t.ngraphPhysics)),A.graph=B}for(var F=0;F<t.warmupTicks&&!(C&&t.d3AlphaMin>0&&t.d3ForceLayout.alpha()<t.d3AlphaMin);F++)A[C?"tick":"step"]();t.layout=A,this.resetCountdown()}t.engineRunning=!0,t.onFinishUpdate()}});function wr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e){jn(i,e);var r=Xn(i);function i(){var e;Rn(this,i);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r.call.apply(r,[this].concat(a)),e.__kapsuleInstance=t().apply(void 0,[].concat(Zn(n?[qn(e)]:[]),a)),e}return Bn(i)}(e);return Object.keys(t()).forEach((function(t){return r.prototype[t]=function(){var e,n=(e=this.__kapsuleInstance)[t].apply(e,arguments);return n===this.__kapsuleInstance?this:n}})),r}var xr=window.THREE?window.THREE:{Group:r.ZAu},Sr=wr(_r,xr.Group,!0),Mr=(n(2262),n(4506),n(5941));const Er={type:"change"},Tr={type:"start"},Ar={type:"end"};class Cr extends r.pBf{constructor(t,e){super(),void 0===e&&Mr.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),e===document&&Mr.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');const n=this,i={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:r.RsA.ROTATE,MIDDLE:r.RsA.DOLLY,RIGHT:r.RsA.PAN},this.target=new r.Pa4;const o=1e-6,a=new r.Pa4;let s=1,l=i.NONE,u=i.NONE,c=0,d=0,h=0;const f=new r.Pa4,p=new r.FM8,m=new r.FM8,g=new r.Pa4,v=new r.FM8,y=new r.FM8,b=new r.FM8,_=new r.FM8,w=[],x={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const t=n.domElement.getBoundingClientRect(),e=n.domElement.ownerDocument.documentElement;n.screen.left=t.left+window.pageXOffset-e.clientLeft,n.screen.top=t.top+window.pageYOffset-e.clientTop,n.screen.width=t.width,n.screen.height=t.height};const S=function(){const t=new r.FM8;return function(e,r){return t.set((e-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),t}}(),M=function(){const t=new r.FM8;return function(e,r){return t.set((e-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),t}}();function E(t){!1!==n.enabled&&(0===w.length&&(n.domElement.setPointerCapture(t.pointerId),n.domElement.addEventListener("pointermove",T),n.domElement.addEventListener("pointerup",A)),j(t),"touch"===t.pointerType?R(t):P(t))}function T(t){!1!==n.enabled&&("touch"===t.pointerType?N(t):L(t))}function A(t){!1!==n.enabled&&("touch"===t.pointerType?B(t):I(),z(t),0===w.length&&(n.domElement.releasePointerCapture(t.pointerId),n.domElement.removeEventListener("pointermove",T),n.domElement.removeEventListener("pointerup",A)))}function C(t){z(t)}function O(t){!1!==n.enabled&&(window.removeEventListener("keydown",O),u===i.NONE&&(t.code!==n.keys[i.ROTATE]||n.noRotate?t.code!==n.keys[i.ZOOM]||n.noZoom?t.code!==n.keys[i.PAN]||n.noPan||(u=i.PAN):u=i.ZOOM:u=i.ROTATE))}function k(){!1!==n.enabled&&(u=i.NONE,window.addEventListener("keydown",O))}function P(t){if(l===i.NONE)switch(t.button){case n.mouseButtons.LEFT:l=i.ROTATE;break;case n.mouseButtons.MIDDLE:l=i.ZOOM;break;case n.mouseButtons.RIGHT:l=i.PAN;break}const e=u!==i.NONE?u:l;e!==i.ROTATE||n.noRotate?e!==i.ZOOM||n.noZoom?e!==i.PAN||n.noPan||(b.copy(S(t.pageX,t.pageY)),_.copy(b)):(v.copy(S(t.pageX,t.pageY)),y.copy(v)):(m.copy(M(t.pageX,t.pageY)),p.copy(m)),n.dispatchEvent(Tr)}function L(t){const e=u!==i.NONE?u:l;e!==i.ROTATE||n.noRotate?e!==i.ZOOM||n.noZoom?e!==i.PAN||n.noPan||_.copy(S(t.pageX,t.pageY)):y.copy(S(t.pageX,t.pageY)):(p.copy(m),m.copy(M(t.pageX,t.pageY)))}function I(){l=i.NONE,n.dispatchEvent(Ar)}function D(t){if(!1!==n.enabled&&!0!==n.noZoom){switch(t.preventDefault(),t.deltaMode){case 2:v.y-=.025*t.deltaY;break;case 1:v.y-=.01*t.deltaY;break;default:v.y-=25e-5*t.deltaY;break}n.dispatchEvent(Tr),n.dispatchEvent(Ar)}}function R(t){switch(V(t),w.length){case 1:l=i.TOUCH_ROTATE,m.copy(M(w[0].pageX,w[0].pageY)),p.copy(m);break;default:l=i.TOUCH_ZOOM_PAN;const t=w[0].pageX-w[1].pageX,e=w[0].pageY-w[1].pageY;d=c=Math.sqrt(t*t+e*e);const n=(w[0].pageX+w[1].pageX)/2,r=(w[0].pageY+w[1].pageY)/2;b.copy(S(n,r)),_.copy(b);break}n.dispatchEvent(Tr)}function N(t){switch(V(t),w.length){case 1:p.copy(m),m.copy(M(t.pageX,t.pageY));break;default:const e=U(t),n=t.pageX-e.x,r=t.pageY-e.y;d=Math.sqrt(n*n+r*r);const i=(t.pageX+e.x)/2,o=(t.pageY+e.y)/2;_.copy(S(i,o));break}}function B(t){switch(w.length){case 0:l=i.NONE;break;case 1:l=i.TOUCH_ROTATE,m.copy(M(t.pageX,t.pageY)),p.copy(m);break;case 2:l=i.TOUCH_ZOOM_PAN,m.copy(M(t.pageX-p.x,t.pageY-p.y)),p.copy(m);break}n.dispatchEvent(Ar)}function F(t){!1!==n.enabled&&t.preventDefault()}function j(t){w.push(t)}function z(t){delete x[t.pointerId];for(let e=0;e<w.length;e++)if(w[e].pointerId==t.pointerId)return void w.splice(e,1)}function V(t){let e=x[t.pointerId];void 0===e&&(e=new r.FM8,x[t.pointerId]=e),e.set(t.pageX,t.pageY)}function U(t){const e=t.pointerId===w[0].pointerId?w[1]:w[0];return x[e.pointerId]}this.rotateCamera=function(){const t=new r.Pa4,e=new r._fP,i=new r.Pa4,o=new r.Pa4,a=new r.Pa4,s=new r.Pa4;return function(){s.set(m.x-p.x,m.y-p.y,0);let r=s.length();r?(f.copy(n.object.position).sub(n.target),i.copy(f).normalize(),o.copy(n.object.up).normalize(),a.crossVectors(o,i).normalize(),o.setLength(m.y-p.y),a.setLength(m.x-p.x),s.copy(o.add(a)),t.crossVectors(s,f).normalize(),r*=n.rotateSpeed,e.setFromAxisAngle(t,r),f.applyQuaternion(e),n.object.up.applyQuaternion(e),g.copy(t),h=r):!n.staticMoving&&h&&(h*=Math.sqrt(1-n.dynamicDampingFactor),f.copy(n.object.position).sub(n.target),e.setFromAxisAngle(g,h),f.applyQuaternion(e),n.object.up.applyQuaternion(e)),p.copy(m)}}(),this.zoomCamera=function(){let t;l===i.TOUCH_ZOOM_PAN?(t=c/d,c=d,n.object.isPerspectiveCamera?f.multiplyScalar(t):n.object.isOrthographicCamera?(n.object.zoom/=t,n.object.updateProjectionMatrix()):Mr.warn("THREE.TrackballControls: Unsupported camera type")):(t=1+(y.y-v.y)*n.zoomSpeed,1!==t&&t>0&&(n.object.isPerspectiveCamera?f.multiplyScalar(t):n.object.isOrthographicCamera?(n.object.zoom/=t,n.object.updateProjectionMatrix()):Mr.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?v.copy(y):v.y+=(y.y-v.y)*this.dynamicDampingFactor)},this.panCamera=function(){const t=new r.FM8,e=new r.Pa4,i=new r.Pa4;return function(){if(t.copy(_).sub(b),t.lengthSq()){if(n.object.isOrthographicCamera){const e=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,r=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;t.x*=e,t.y*=r}t.multiplyScalar(f.length()*n.panSpeed),i.copy(f).cross(n.object.up).setLength(t.x),i.add(e.copy(n.object.up).setLength(t.y)),n.object.position.add(i),n.target.add(i),n.staticMoving?b.copy(_):b.add(t.subVectors(_,b).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(f.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,f.setLength(n.maxDistance)),v.copy(y)),f.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,f.setLength(n.minDistance)),v.copy(y)))},this.update=function(){f.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,f),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),a.distanceToSquared(n.object.position)>o&&(n.dispatchEvent(Er),a.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(a.distanceToSquared(n.object.position)>o||s!==n.object.zoom)&&(n.dispatchEvent(Er),a.copy(n.object.position),s=n.object.zoom)):Mr.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){l=i.NONE,u=i.NONE,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),f.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(Er),a.copy(n.object.position),s=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",F),n.domElement.removeEventListener("pointerdown",E),n.domElement.removeEventListener("pointercancel",C),n.domElement.removeEventListener("wheel",D),n.domElement.removeEventListener("pointermove",T),n.domElement.removeEventListener("pointerup",A),window.removeEventListener("keydown",O),window.removeEventListener("keyup",k)},this.domElement.addEventListener("contextmenu",F),this.domElement.addEventListener("pointerdown",E),this.domElement.addEventListener("pointercancel",C),this.domElement.addEventListener("wheel",D,{passive:!1}),window.addEventListener("keydown",O),window.addEventListener("keyup",k),this.handleResize(),this.update()}}var Or=n(5941);const kr={type:"change"},Pr={type:"start"},Lr={type:"end"};class Ir extends r.pBf{constructor(t,e){super(),void 0===e&&Or.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&Or.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new r.Pa4,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:r.RsA.ROTATE,MIDDLE:r.RsA.DOLLY,RIGHT:r.RsA.PAN},this.touches={ONE:r.QmN.ROTATE,TWO:r.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",rt),this._domElementKeyEvents=t},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(kr),n.update(),o=i.NONE},this.update=function(){const e=new r.Pa4,h=(new r._fP).setFromUnitVectors(t.up,new r.Pa4(0,1,0)),f=h.clone().invert(),p=new r.Pa4,m=new r._fP,g=2*Math.PI;return function(){const t=n.object.position;e.copy(t).sub(n.target),e.applyQuaternion(h),s.setFromVector3(e),n.autoRotate&&o===i.NONE&&E(S()),n.enableDamping?(s.theta+=l.theta*n.dampingFactor,s.phi+=l.phi*n.dampingFactor):(s.theta+=l.theta,s.phi+=l.phi);let r=n.minAzimuthAngle,v=n.maxAzimuthAngle;return isFinite(r)&&isFinite(v)&&(r<-Math.PI?r+=g:r>Math.PI&&(r-=g),v<-Math.PI?v+=g:v>Math.PI&&(v-=g),s.theta=r<=v?Math.max(r,Math.min(v,s.theta)):s.theta>(r+v)/2?Math.max(r,s.theta):Math.min(v,s.theta)),s.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=u,s.radius=Math.max(n.minDistance,Math.min(n.maxDistance,s.radius)),!0===n.enableDamping?n.target.addScaledVector(c,n.dampingFactor):n.target.add(c),e.setFromSpherical(s),e.applyQuaternion(f),t.copy(n.target).add(e),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,c.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),c.set(0,0,0)),u=1,!!(d||p.distanceToSquared(n.object.position)>a||8*(1-m.dot(n.object.quaternion))>a)&&(n.dispatchEvent(kr),p.copy(n.object.position),m.copy(n.object.quaternion),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",at),n.domElement.removeEventListener("pointerdown",Z),n.domElement.removeEventListener("pointercancel",Q),n.domElement.removeEventListener("wheel",nt),n.domElement.removeEventListener("pointermove",J),n.domElement.removeEventListener("pointerup",K),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",rt)};const n=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=i.NONE;const a=1e-6,s=new r.$V,l=new r.$V;let u=1;const c=new r.Pa4;let d=!1;const h=new r.FM8,f=new r.FM8,p=new r.FM8,m=new r.FM8,g=new r.FM8,v=new r.FM8,y=new r.FM8,b=new r.FM8,_=new r.FM8,w=[],x={};function S(){return 2*Math.PI/60/60*n.autoRotateSpeed}function M(){return Math.pow(.95,n.zoomSpeed)}function E(t){l.theta-=t}function T(t){l.phi-=t}const A=function(){const t=new r.Pa4;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),c.add(t)}}(),C=function(){const t=new r.Pa4;return function(e,r){!0===n.screenSpacePanning?t.setFromMatrixColumn(r,1):(t.setFromMatrixColumn(r,0),t.crossVectors(n.object.up,t)),t.multiplyScalar(e),c.add(t)}}(),O=function(){const t=new r.Pa4;return function(e,r){const i=n.domElement;if(n.object.isPerspectiveCamera){const o=n.object.position;t.copy(o).sub(n.target);let a=t.length();a*=Math.tan(n.object.fov/2*Math.PI/180),A(2*e*a/i.clientHeight,n.object.matrix),C(2*r*a/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(A(e*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(Or.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function k(t){n.object.isPerspectiveCamera?u/=t:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*t)),n.object.updateProjectionMatrix(),d=!0):(Or.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function P(t){n.object.isPerspectiveCamera?u*=t:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/t)),n.object.updateProjectionMatrix(),d=!0):(Or.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(t){h.set(t.clientX,t.clientY)}function I(t){y.set(t.clientX,t.clientY)}function D(t){m.set(t.clientX,t.clientY)}function R(t){f.set(t.clientX,t.clientY),p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const e=n.domElement;E(2*Math.PI*p.x/e.clientHeight),T(2*Math.PI*p.y/e.clientHeight),h.copy(f),n.update()}function N(t){b.set(t.clientX,t.clientY),_.subVectors(b,y),_.y>0?k(M()):_.y<0&&P(M()),y.copy(b),n.update()}function B(t){g.set(t.clientX,t.clientY),v.subVectors(g,m).multiplyScalar(n.panSpeed),O(v.x,v.y),m.copy(g),n.update()}function F(t){t.deltaY<0?P(M()):t.deltaY>0&&k(M()),n.update()}function j(t){let e=!1;switch(t.code){case n.keys.UP:O(0,n.keyPanSpeed),e=!0;break;case n.keys.BOTTOM:O(0,-n.keyPanSpeed),e=!0;break;case n.keys.LEFT:O(n.keyPanSpeed,0),e=!0;break;case n.keys.RIGHT:O(-n.keyPanSpeed,0),e=!0;break}e&&(t.preventDefault(),n.update())}function z(){if(1===w.length)h.set(w[0].pageX,w[0].pageY);else{const t=.5*(w[0].pageX+w[1].pageX),e=.5*(w[0].pageY+w[1].pageY);h.set(t,e)}}function V(){if(1===w.length)m.set(w[0].pageX,w[0].pageY);else{const t=.5*(w[0].pageX+w[1].pageX),e=.5*(w[0].pageY+w[1].pageY);m.set(t,e)}}function U(){const t=w[0].pageX-w[1].pageX,e=w[0].pageY-w[1].pageY,n=Math.sqrt(t*t+e*e);y.set(0,n)}function H(){n.enableZoom&&U(),n.enablePan&&V()}function W(){n.enableZoom&&U(),n.enableRotate&&z()}function G(t){if(1==w.length)f.set(t.pageX,t.pageY);else{const e=ct(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);f.set(n,r)}p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const e=n.domElement;E(2*Math.PI*p.x/e.clientHeight),T(2*Math.PI*p.y/e.clientHeight),h.copy(f)}function q(t){if(1===w.length)g.set(t.pageX,t.pageY);else{const e=ct(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);g.set(n,r)}v.subVectors(g,m).multiplyScalar(n.panSpeed),O(v.x,v.y),m.copy(g)}function $(t){const e=ct(t),r=t.pageX-e.x,i=t.pageY-e.y,o=Math.sqrt(r*r+i*i);b.set(0,o),_.set(0,Math.pow(b.y/y.y,n.zoomSpeed)),k(_.y),y.copy(b)}function X(t){n.enableZoom&&$(t),n.enablePan&&q(t)}function Y(t){n.enableZoom&&$(t),n.enableRotate&&G(t)}function Z(t){!1!==n.enabled&&(0===w.length&&(n.domElement.setPointerCapture(t.pointerId),n.domElement.addEventListener("pointermove",J),n.domElement.addEventListener("pointerup",K)),st(t),"touch"===t.pointerType?it(t):tt(t))}function J(t){!1!==n.enabled&&("touch"===t.pointerType?ot(t):et(t))}function K(t){lt(t),0===w.length&&(n.domElement.releasePointerCapture(t.pointerId),n.domElement.removeEventListener("pointermove",J),n.domElement.removeEventListener("pointerup",K)),n.dispatchEvent(Lr),o=i.NONE}function Q(t){lt(t)}function tt(t){let e;switch(t.button){case 0:e=n.mouseButtons.LEFT;break;case 1:e=n.mouseButtons.MIDDLE;break;case 2:e=n.mouseButtons.RIGHT;break;default:e=-1}switch(e){case r.RsA.DOLLY:if(!1===n.enableZoom)return;I(t),o=i.DOLLY;break;case r.RsA.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enablePan)return;D(t),o=i.PAN}else{if(!1===n.enableRotate)return;L(t),o=i.ROTATE}break;case r.RsA.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enableRotate)return;L(t),o=i.ROTATE}else{if(!1===n.enablePan)return;D(t),o=i.PAN}break;default:o=i.NONE}o!==i.NONE&&n.dispatchEvent(Pr)}function et(t){if(!1!==n.enabled)switch(o){case i.ROTATE:if(!1===n.enableRotate)return;R(t);break;case i.DOLLY:if(!1===n.enableZoom)return;N(t);break;case i.PAN:if(!1===n.enablePan)return;B(t);break}}function nt(t){!1!==n.enabled&&!1!==n.enableZoom&&o===i.NONE&&(t.preventDefault(),n.dispatchEvent(Pr),F(t),n.dispatchEvent(Lr))}function rt(t){!1!==n.enabled&&!1!==n.enablePan&&j(t)}function it(t){switch(ut(t),w.length){case 1:switch(n.touches.ONE){case r.QmN.ROTATE:if(!1===n.enableRotate)return;z(),o=i.TOUCH_ROTATE;break;case r.QmN.PAN:if(!1===n.enablePan)return;V(),o=i.TOUCH_PAN;break;default:o=i.NONE}break;case 2:switch(n.touches.TWO){case r.QmN.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;H(),o=i.TOUCH_DOLLY_PAN;break;case r.QmN.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;W(),o=i.TOUCH_DOLLY_ROTATE;break;default:o=i.NONE}break;default:o=i.NONE}o!==i.NONE&&n.dispatchEvent(Pr)}function ot(t){switch(ut(t),o){case i.TOUCH_ROTATE:if(!1===n.enableRotate)return;G(t),n.update();break;case i.TOUCH_PAN:if(!1===n.enablePan)return;q(t),n.update();break;case i.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;X(t),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;Y(t),n.update();break;default:o=i.NONE}}function at(t){!1!==n.enabled&&t.preventDefault()}function st(t){w.push(t)}function lt(t){delete x[t.pointerId];for(let e=0;e<w.length;e++)if(w[e].pointerId==t.pointerId)return void w.splice(e,1)}function ut(t){let e=x[t.pointerId];void 0===e&&(e=new r.FM8,x[t.pointerId]=e),e.set(t.pageX,t.pageY)}function ct(t){const e=t.pointerId===w[0].pointerId?w[1]:w[0];return x[e.pointerId]}n.domElement.addEventListener("contextmenu",at),n.domElement.addEventListener("pointerdown",Z),n.domElement.addEventListener("pointercancel",Q),n.domElement.addEventListener("wheel",nt,{passive:!1}),this.update()}}var Dr=n(5941);const Rr={type:"change"};class Nr extends r.pBf{constructor(t,e){super(),void 0===e&&(Dr.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),e=document),this.object=t,this.domElement=e,this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;const n=this,i=1e-6,o=new r._fP,a=new r.Pa4;this.tmpQuaternion=new r._fP,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new r.Pa4(0,0,0),this.rotationVector=new r.Pa4(0,0,0),this.keydown=function(t){if(!t.altKey){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1;break}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(t){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0;break}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(t){if(this.dragToLook)this.mouseStatus++;else{switch(t.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1;break}this.updateMovementVector()}},this.mousemove=function(t){if(!this.dragToLook||this.mouseStatus>0){const e=this.getContainerDimensions(),n=e.size[0]/2,r=e.size[1]/2;this.moveState.yawLeft=-(t.pageX-e.offset[0]-n)/n,this.moveState.pitchDown=(t.pageY-e.offset[1]-r)/r,this.updateRotationVector()}},this.mouseup=function(t){if(this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(t.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0;break}this.updateMovementVector()}this.updateRotationVector()},this.update=function(t){const e=t*n.movementSpeed,r=t*n.rollSpeed;n.object.translateX(n.moveVector.x*e),n.object.translateY(n.moveVector.y*e),n.object.translateZ(n.moveVector.z*e),n.tmpQuaternion.set(n.rotationVector.x*r,n.rotationVector.y*r,n.rotationVector.z*r,1).normalize(),n.object.quaternion.multiply(n.tmpQuaternion),(a.distanceToSquared(n.object.position)>i||8*(1-o.dot(n.object.quaternion))>i)&&(n.dispatchEvent(Rr),o.copy(n.object.quaternion),a.copy(n.object.position))},this.updateMovementVector=function(){const t=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-t+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",Br),this.domElement.removeEventListener("mousedown",l),this.domElement.removeEventListener("mousemove",s),this.domElement.removeEventListener("mouseup",u),window.removeEventListener("keydown",c),window.removeEventListener("keyup",d)};const s=this.mousemove.bind(this),l=this.mousedown.bind(this),u=this.mouseup.bind(this),c=this.keydown.bind(this),d=this.keyup.bind(this);this.domElement.addEventListener("contextmenu",Br),this.domElement.addEventListener("mousemove",s),this.domElement.addEventListener("mousedown",l),this.domElement.addEventListener("mouseup",u),window.addEventListener("keydown",c),window.addEventListener("keyup",d),this.updateMovementVector(),this.updateRotationVector()}}function Br(t){t.preventDefault()}const Fr={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"};var jr=n(5941);class zr{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){jr.error("THREE.Pass: .render() must be implemented in derived pass.")}}const Vr=new r.iKG(-1,1,1,-1,0,1),Ur=new r.u9r;Ur.setAttribute("position",new r.a$l([-1,3,0,-1,-1,0,3,-1,0],3)),Ur.setAttribute("uv",new r.a$l([0,2,0,0,2,0],2));class Hr{constructor(t){this._mesh=new r.Kj0(Ur,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,Vr)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}}class Wr extends zr{constructor(t,e){super(),this.textureID=void 0!==e?e:"tDiffuse",t instanceof r.jyz?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=r.rDY.clone(t.uniforms),this.material=new r.jyz({defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new Hr(this.material)}render(t,e,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}}class Gr extends zr{constructor(t,e){super(),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,e,n){const r=t.getContext(),i=t.state;let o,a;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0),this.inverse?(o=0,a=1):(o=1,a=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),i.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(r.EQUAL,1,4294967295),i.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),i.buffers.stencil.setLocked(!0)}}class qr extends zr{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}var $r=n(5941);class Xr{constructor(t,e){if(this.renderer=t,void 0===e){const n=t.getSize(new r.FM8);this._pixelRatio=t.getPixelRatio(),this._width=n.width,this._height=n.height,e=new r.dd2(this._width*this._pixelRatio,this._height*this._pixelRatio),e.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===Fr&&$r.error("THREE.EffectComposer relies on CopyShader"),void 0===Wr&&$r.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new Wr(Fr),this.clock=new r.SUY}swapBuffers(){const t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){const e=this.passes.indexOf(t);-1!==e&&this.passes.splice(e,1)}isLastEnabledPass(t){for(let e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0}render(t){void 0===t&&(t=this.clock.getDelta());const e=this.renderer.getRenderTarget();let n=!1;for(let r=0,i=this.passes.length;r<i;r++){const e=this.passes[r];if(!1!==e.enabled){if(e.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),e.render(this.renderer,this.writeBuffer,this.readBuffer,t,n),e.needsSwap){if(n){const e=this.renderer.getContext(),n=this.renderer.state.buffers.stencil;n.setFunc(e.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),n.setFunc(e.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==Gr&&(e instanceof Gr?n=!0:e instanceof qr&&(n=!1))}}this.renderer.setRenderTarget(e)}reset(t){if(void 0===t){const e=this.renderer.getSize(new r.FM8);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,t=this.renderTarget1.clone(),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,e){this._width=t,this._height=e;const n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}}new r.iKG(-1,1,1,-1,0,1);const Yr=new r.u9r;Yr.setAttribute("position",new r.a$l([-1,3,0,-1,-1,0,3,-1,0],3)),Yr.setAttribute("uv",new r.a$l([0,2,0,0,2,0],2));class Zr extends zr{constructor(t,e,n,i,o){super(),this.scene=t,this.camera=e,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0!==o?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new r.Ilk}render(t,e,n){const r=t.autoClear;let i,o;t.autoClear=!1,void 0!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(t.getClearColor(this._oldClearColor),i=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:n),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(this._oldClearColor,i),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=o),t.autoClear=r}}function Jr(){return Jr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jr.apply(this,arguments)}function Kr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qr(t,e){return Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qr(t,e)}function ti(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Qr(t,e)}function ei(t){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ei(t)}function ni(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function ri(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ii(t,e,n){return ii=ri()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=Function.bind.apply(t,r),o=new i;return n&&Qr(o,n.prototype),o},ii.apply(null,arguments)}function oi(t){var e="function"===typeof Map?new Map:void 0;return oi=function(t){if(null===t||!ni(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return ii(t,arguments,ei(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qr(n,t)},oi(t)}var ai=function(t){function e(e){var n;return n=t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+e+" for more information.")||this,Kr(n)}return ti(e,t),e}(oi(Error));function si(t){return Math.round(255*t)}function li(t,e,n){return si(t)+","+si(e)+","+si(n)}function ui(t,e,n,r){if(void 0===r&&(r=li),0===e)return r(n,n,n);var i=(t%360+360)%360/60,o=(1-Math.abs(2*n-1))*e,a=o*(1-Math.abs(i%2-1)),s=0,l=0,u=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,u=a):i>=3&&i<4?(l=a,u=o):i>=4&&i<5?(s=a,u=o):i>=5&&i<6&&(s=o,u=a);var c=n-o/2,d=s+c,h=l+c,f=u+c;return r(d,h,f)}var ci={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function di(t){if("string"!==typeof t)return t;var e=t.toLowerCase();return ci[e]?"#"+ci[e]:t}var hi=/^#[a-fA-F0-9]{6}$/,fi=/^#[a-fA-F0-9]{8}$/,pi=/^#[a-fA-F0-9]{3}$/,mi=/^#[a-fA-F0-9]{4}$/,gi=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,vi=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,yi=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,bi=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function _i(t){if("string"!==typeof t)throw new ai(3);var e=di(t);if(e.match(hi))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(fi)){var n=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:n}}if(e.match(pi))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(mi)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var i=gi.exec(e);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=vi.exec(e.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])>1?parseFloat(""+o[4])/100:parseFloat(""+o[4])};var a=yi.exec(e);if(a){var s=parseInt(""+a[1],10),l=parseInt(""+a[2],10)/100,u=parseInt(""+a[3],10)/100,c="rgb("+ui(s,l,u)+")",d=gi.exec(c);if(!d)throw new ai(4,e,c);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10)}}var h=bi.exec(e.substring(0,50));if(h){var f=parseInt(""+h[1],10),p=parseInt(""+h[2],10)/100,m=parseInt(""+h[3],10)/100,g="rgb("+ui(f,p,m)+")",v=gi.exec(g);if(!v)throw new ai(4,e,g);return{red:parseInt(""+v[1],10),green:parseInt(""+v[2],10),blue:parseInt(""+v[3],10),alpha:parseFloat(""+h[4])>1?parseFloat(""+h[4])/100:parseFloat(""+h[4])}}throw new ai(5)}var wi=function(t){return 7===t.length&&t[1]===t[2]&&t[3]===t[4]&&t[5]===t[6]?"#"+t[1]+t[3]+t[5]:t},xi=wi;function Si(t){var e=t.toString(16);return 1===e.length?"0"+e:e}function Mi(t,e,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof n)return xi("#"+Si(t)+Si(e)+Si(n));if("object"===typeof t&&void 0===e&&void 0===n)return xi("#"+Si(t.red)+Si(t.green)+Si(t.blue));throw new ai(6)}function Ei(t,e,n,r){if("string"===typeof t&&"number"===typeof e){var i=_i(t);return"rgba("+i.red+","+i.green+","+i.blue+","+e+")"}if("number"===typeof t&&"number"===typeof e&&"number"===typeof n&&"number"===typeof r)return r>=1?Mi(t,e,n):"rgba("+t+","+e+","+n+","+r+")";if("object"===typeof t&&void 0===e&&void 0===n&&void 0===r)return t.alpha>=1?Mi(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")";throw new ai(7)}function Ti(t,e,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=e?t.apply(this,r):Ti(t,e,r)}}function Ai(t){return Ti(t,t.length,[])}function Ci(t,e,n){return Math.max(t,Math.min(e,n))}function Oi(t,e){if("transparent"===e)return e;var n=_i(e),r="number"===typeof n.alpha?n.alpha:1,i=Jr({},n,{alpha:Ci(0,1,(100*r+100*parseFloat(t))/100)});return Ei(i)}var ki=Ai(Oi),Pi=ki;var Li,Ii=n(6027),Di={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-Di.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Di.Bounce.In(2*t):.5*Di.Bounce.Out(2*t-1)+.5}}};Li="undefined"===typeof self&&"undefined"!==typeof Ii&&Ii.hrtime?function(){var t=Ii.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()};var Ri=Li,Ni=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=Ri()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;while(n.length>0){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],o=!e;i&&!1===i.update(t,o)&&!e&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Bi={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Bi.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=Bi.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*o(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Bi.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=Bi.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i,l=i*s;return(2*e-2*n+o+a)*l+(-3*e+3*n-2*o-a)*s+o*i+e}}},Fi=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),ji=new Ni,zi=function(){function t(t,e){void 0===e&&(e=ji),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Di.Linear.None,this._interpolationFunction=Bi.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Fi.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"===typeof t?Ri()+parseFloat(t):t:Ri(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,r){for(var i in n){var o=t[i],a=Array.isArray(o),s=a?"array":typeof o,l=!a&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(l){var u=n[i];if(0===u.length)continue;u=u.map(this._handleRelativeValue.bind(this,o)),n[i]=[o].concat(u)}if("object"!==s&&!a||!o||l)"undefined"===typeof e[i]&&(e[i]=o),a||(e[i]*=1),r[i]=l?n[i].slice().reverse():e[i]||0;else{for(var c in e[i]=a?[]:{},o)e[i][c]=o[c];r[i]=a?[]:{},this._setupProperties(o,e[i],n[i],r[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=Ri()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=Ri()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=Ri()),void 0===e&&(e=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,s=this._chainedTweens.length;a<s;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,r){for(var i in n)if(void 0!==e[i]){var o=e[i]||0,a=n[i],s=Array.isArray(t[i]),l=Array.isArray(a),u=!s&&l;u?t[i]=this._interpolationFunction(a,r):"object"===typeof a&&a?this._updateProperties(t[i],o,a,r):(a=this._handleRelativeValue(o,a),"number"===typeof a&&(t[i]=o+(a-o)*r))}},t.prototype._handleRelativeValue=function(t,e){return"string"!==typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"===typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),Vi="18.6.4",Ui=Fi.nextId,Hi=ji,Wi=Hi.getAll.bind(Hi),Gi=Hi.removeAll.bind(Hi),qi=Hi.add.bind(Hi),$i=Hi.remove.bind(Hi),Xi=Hi.update.bind(Hi),Yi={Easing:Di,Group:Ni,Interpolation:Bi,now:Ri,Sequence:Fi,nextId:Ui,Tween:zi,VERSION:Vi,getAll:Wi,removeAll:Gi,add:qi,remove:$i,update:Xi},Zi=Yi;function Ji(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Ki=".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  top: 0;\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n}\n\n.scene-container canvas:focus {\n  outline: none;\n}";function Qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function to(t,e){return ro(t)||oo(t,e)||ao(t,e)||uo()}function eo(t){return no(t)||io(t)||ao(t)||lo()}function no(t){if(Array.isArray(t))return so(t)}function ro(t){if(Array.isArray(t))return t}function io(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function oo(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function ao(t,e){if(t){if("string"===typeof t)return so(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(t,e):void 0}}function so(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lo(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Ji(Ki);var co=window.THREE?window.THREE:{WebGLRenderer:r.CP7,Scene:r.xsS,PerspectiveCamera:r.cPb,Raycaster:r.iMs,TextureLoader:r.dpR,Vector2:r.FM8,Vector3:r.Pa4,Box3:r.ZzF,Color:r.Ilk,Mesh:r.Kj0,SphereGeometry:r.xo$,MeshBasicMaterial:r.vBJ,BackSide:r._Li,EventDispatcher:r.pBf,MOUSE:r.RsA,Quaternion:r._fP,Spherical:r.$V,Clock:r.SUY},ho=Ie({props:{width:{default:window.innerWidth,onChange:function(t,e,n){isNaN(t)&&(e.width=n)}},height:{default:window.innerHeight,onChange:function(t,e,n){isNaN(t)&&(e.height=n)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},enablePointerInteraction:{default:!0,onChange:function(t,e){e.hoverObj=null,e.toolTipElem&&(e.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(t){if(t.initialised){if(t.controls.update&&t.controls.update(t.clock.getDelta()),t.postProcessingComposer?t.postProcessingComposer.render():t.renderer.render(t.scene,t.camera),t.extraRenderers.forEach((function(e){return e.render(t.scene,t.camera)})),t.enablePointerInteraction){var e=null;if(t.hoverDuringDrag||!t.isPointerDragging){var n=this.intersectingObjects(t.pointerPos.x,t.pointerPos.y).filter((function(e){return t.hoverFilter(e.object)})).sort((function(e,n){return t.hoverOrderComparator(e.object,n.object)})),r=n.length?n[0]:null;e=r?r.object:null,t.intersectionPoint=r?r.point:null}e!==t.hoverObj&&(t.onHover(e,t.hoverObj),t.toolTipElem.innerHTML=e&&Re(t.tooltipContent)(e)||"",t.hoverObj=e)}Zi.update()}return this},getPointerPos:function(t){var e=t.pointerPos,n=e.x,r=e.y;return{x:n,y:r}},cameraPosition:function(t,e,n,r){var i=t.camera;if(e&&t.initialised){var o=e,a=n||{x:0,y:0,z:0};if(r){var s=Object.assign({},i.position),l=d();new Zi.Tween(s).to(o,r).easing(Zi.Easing.Quadratic.Out).onUpdate(u).start(),new Zi.Tween(l).to(a,r/3).easing(Zi.Easing.Quadratic.Out).onUpdate(c).start()}else u(o),c(a);return this}return Object.assign({},i.position,{lookAt:d()});function u(t){var e=t.x,n=t.y,r=t.z;void 0!==e&&(i.position.x=e),void 0!==n&&(i.position.y=n),void 0!==r&&(i.position.z=r)}function c(e){var n=new co.Vector3(e.x,e.y,e.z);t.controls.target?t.controls.target=n:i.lookAt(n)}function d(){return Object.assign(new co.Vector3(0,0,-1e3).applyQuaternion(i.quaternion).add(i.position))}},zoomToFit:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return this.fitToBbox(this.getBbox.apply(this,i),e,n)},fitToBbox:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=t.camera;if(e){var o=new co.Vector3(0,0,0),a=2*Math.max.apply(Math,eo(Object.entries(e).map((function(t){var e=to(t,2),n=e[0],r=e[1];return Math.max.apply(Math,eo(r.map((function(t){return Math.abs(o[n]-t)}))))})))),s=(1-2*r/t.height)*i.fov,l=a/Math.atan(s*Math.PI/180),u=l/i.aspect,c=Math.max(l,u);if(c>0){var d=o.clone().sub(i.position).normalize().multiplyScalar(-c);this.cameraPosition(d,o,n)}}return this},getBbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=new co.Box3(new co.Vector3(0,0,0),new co.Vector3(0,0,0)),r=t.objects.filter(e);return r.length?(r.forEach((function(t){return n.expandByObject(t)})),Object.assign.apply(Object,eo(["x","y","z"].map((function(t){return Qi({},t,[n.min[t],n.max[t]])}))))):null},getScreenCoords:function(t,e,n,r){var i=new co.Vector3(e,n,r);return i.project(this.camera()),{x:(i.x+1)*t.width/2,y:-(i.y-1)*t.height/2}},getSceneCoords:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=new co.Vector2(e/t.width*2-1,-n/t.height*2+1),o=new co.Raycaster;return o.setFromCamera(i,t.camera),Object.assign({},o.ray.at(r,new co.Vector3))},intersectingObjects:function(t,e,n){var r=new co.Vector2(e/t.width*2-1,-n/t.height*2+1),i=new co.Raycaster;return i.params.Line.threshold=t.lineHoverPrecision,i.setFromCamera(r,t.camera),i.intersectObjects(t.objects,!0)},renderer:function(t){return t.renderer},scene:function(t){return t.scene},camera:function(t){return t.camera},postProcessingComposer:function(t){return t.postProcessingComposer},controls:function(t){return t.controls},tbControls:function(t){return t.controls}},stateInit:function(){return{scene:new co.Scene,camera:new co.PerspectiveCamera,clock:new co.Clock}},init:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.controlType,i=void 0===r?"trackball":r,o=n.rendererConfig,a=void 0===o?{}:o,s=n.extraRenderers,l=void 0===s?[]:s,u=n.waitForLoadComplete,c=void 0===u||u;t.innerHTML="",t.appendChild(e.container=document.createElement("div")),e.container.className="scene-container",e.container.style.position="relative",e.container.appendChild(e.navInfo=document.createElement("div")),e.navInfo.className="scene-nav-info",e.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[i]||"",e.navInfo.style.display=e.showNavInfo?null:"none",e.toolTipElem=document.createElement("div"),e.toolTipElem.classList.add("scene-tooltip"),e.container.appendChild(e.toolTipElem),e.pointerPos=new co.Vector2,e.pointerPos.x=-2,e.pointerPos.y=-2,["pointermove","pointerdown"].forEach((function(t){return e.container.addEventListener(t,(function(n){if("pointerdown"===t&&(e.isPointerPressed=!0),!e.isPointerDragging&&"pointermove"===n.type&&(n.pressure>0||e.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(t){return Math.abs(t)>1})))&&(e.isPointerDragging=!0),e.enablePointerInteraction){var r=i(e.container);e.pointerPos.x=n.pageX-r.left,e.pointerPos.y=n.pageY-r.top,e.toolTipElem.style.top="".concat(e.pointerPos.y,"px"),e.toolTipElem.style.left="".concat(e.pointerPos.x,"px"),e.toolTipElem.style.transform="translate(-".concat(e.pointerPos.x/e.width*100,"%, ").concat(e.height-e.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}function i(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+n}}}),{passive:!0})})),e.container.addEventListener("pointerup",(function(t){e.isPointerPressed=!1,e.isPointerDragging&&(e.isPointerDragging=!1,!e.clickAfterDrag)||requestAnimationFrame((function(){0===t.button&&e.onClick(e.hoverObj||null,t,e.intersectionPoint),2===t.button&&e.onRightClick&&e.onRightClick(e.hoverObj||null,t,e.intersectionPoint)}))}),{passive:!0,capture:!0}),e.container.addEventListener("contextmenu",(function(t){e.onRightClick&&t.preventDefault()})),e.renderer=new co.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},a)),e.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),e.container.appendChild(e.renderer.domElement),e.extraRenderers=l,e.extraRenderers.forEach((function(t){t.domElement.style.position="absolute",t.domElement.style.top="0px",t.domElement.style.pointerEvents="none",e.container.appendChild(t.domElement)})),e.postProcessingComposer=new Xr(e.renderer),e.postProcessingComposer.addPass(new Zr(e.scene,e.camera)),e.controls=new{trackball:Cr,orbit:Ir,fly:Nr}[i](e.camera,e.renderer.domElement),"fly"===i&&(e.controls.movementSpeed=300,e.controls.rollSpeed=Math.PI/6,e.controls.dragToLook=!0),"trackball"!==i&&"orbit"!==i||(e.controls.minDistance=.1,e.controls.maxDistance=e.skyRadius,e.controls.addEventListener("start",(function(){e.controlsEngaged=!0})),e.controls.addEventListener("change",(function(){e.controlsEngaged&&(e.controlsDragging=!0)})),e.controls.addEventListener("end",(function(){e.controlsEngaged=!1,e.controlsDragging=!1}))),[e.renderer,e.postProcessingComposer].concat(eo(e.extraRenderers)).forEach((function(t){return t.setSize(e.width,e.height)})),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix(),e.camera.position.z=1e3,e.scene.add(e.skysphere=new co.Mesh),e.skysphere.visible=!1,e.loadComplete=e.scene.visible=!c,window.scene=e.scene},update:function(t,e){if(t.width&&t.height&&(e.hasOwnProperty("width")||e.hasOwnProperty("height"))&&(t.container.style.width="".concat(t.width,"px"),t.container.style.height="".concat(t.height,"px"),[t.renderer,t.postProcessingComposer].concat(eo(t.extraRenderers)).forEach((function(e){return e.setSize(t.width,t.height)})),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix()),e.hasOwnProperty("skyRadius")&&t.skyRadius&&(t.controls.hasOwnProperty("maxDistance")&&e.skyRadius&&(t.controls.maxDistance=t.skyRadius),t.camera.far=2.5*t.skyRadius,t.camera.updateProjectionMatrix(),t.skysphere.geometry=new co.SphereGeometry(t.skyRadius)),e.hasOwnProperty("backgroundColor")){var n=_i(t.backgroundColor).alpha;void 0===n&&(n=1),t.renderer.setClearColor(new co.Color(Pi(1,t.backgroundColor)),n)}function r(){t.loadComplete=t.scene.visible=!0}e.hasOwnProperty("backgroundImageUrl")&&(t.backgroundImageUrl?(new co.TextureLoader).load(t.backgroundImageUrl,(function(e){t.skysphere.material=new co.MeshBasicMaterial({map:e,side:co.BackSide}),t.skysphere.visible=!0,t.onBackgroundImageLoaded&&setTimeout(t.onBackgroundImageLoaded),!t.loadComplete&&r()})):(t.skysphere.visible=!1,t.skysphere.material.map=null,!t.loadComplete&&r())),e.hasOwnProperty("showNavInfo")&&(t.navInfo.style.display=t.showNavInfo?null:"none"),e.hasOwnProperty("objects")&&((e.objects||[]).forEach((function(e){return t.scene.remove(e)})),t.objects.forEach((function(e){return t.scene.add(e)})))}});function fo(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var po=".graph-info-msg {\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  color: lavender;\n  opacity: 0.7;\n  font-size: 22px;\n  position: absolute;\n  font-family: Sans-serif;\n}\n\n.scene-container .clickable {\n  cursor: pointer;\n}\n\n.scene-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.scene-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}";function mo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mo(Object(n),!0).forEach((function(e){vo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yo(t){return bo(t)||_o(t)||wo(t)||So()}function bo(t){if(Array.isArray(t))return xo(t)}function _o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function wo(t,e){if(t){if("string"===typeof t)return xo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xo(t,e):void 0}}function xo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function So(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mo(t,e){var n=new e;return{linkProp:function(e){return{default:n[e](),onChange:function(n,r){r[t][e](n)},triggerUpdate:!1}},linkMethod:function(e){return function(n){for(var r=n[t],i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=r[e].apply(r,o);return s===r?this:s}}}}fo(po);var Eo=window.THREE?window.THREE:{AmbientLight:r.Mig,DirectionalLight:r.Ox3,Vector3:r.Pa4},To=170,Ao=Mo("forceGraph",Sr),Co=Object.assign.apply(Object,yo(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(t){return vo({},t,Ao.linkProp(t))})))),Oo=Object.assign.apply(Object,yo(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map((function(t){return vo({},t,Ao.linkMethod(t))})))),ko=Mo("renderObjs",ho),Po=Object.assign.apply(Object,yo(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map((function(t){return vo({},t,ko.linkProp(t))})))),Lo=Object.assign.apply(Object,yo(["cameraPosition","postProcessingComposer"].map((function(t){return vo({},t,ko.linkMethod(t))}))).concat([{graph2ScreenCoords:ko.linkMethod("getScreenCoords"),screen2GraphCoords:ko.linkMethod("getSceneCoords")}])),Io=Ie({props:go(go({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(t,e){return e.renderObjs.lineHoverPrecision(t)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(t,e){var n=e.renderObjs.controls();n&&(n.enabled=t)},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},Co),Po),methods:go(go({zoomToFit:function(t,e,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return t.renderObjs.fitToBbox((r=t.forceGraph).getGraphBbox.apply(r,o),e,n),this},pauseAnimation:function(t){return null!==t.animationFrameRequestId&&(cancelAnimationFrame(t.animationFrameRequestId),t.animationFrameRequestId=null),this},resumeAnimation:function(t){return null===t.animationFrameRequestId&&this._animationCycle(),this},_animationCycle:function(t){t.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),t.forceGraph.tickFrame(),t.renderObjs.tick(),t.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(t){return t.renderObjs.scene()},camera:function(t){return t.renderObjs.camera()},renderer:function(t){return t.renderObjs.renderer()},controls:function(t){return t.renderObjs.controls()},tbControls:function(t){return t.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Oo),Lo),stateInit:function(t){var e=t.controlType,n=t.rendererConfig,r=t.extraRenderers;return{forceGraph:new Sr,renderObjs:ho({controlType:e,rendererConfig:n,extraRenderers:r})}},init:function(t,e){t.innerHTML="",t.appendChild(e.container=document.createElement("div")),e.container.style.position="relative";var n=document.createElement("div");e.container.appendChild(n),e.renderObjs(n);var r,i=e.renderObjs.camera(),o=e.renderObjs.renderer(),a=e.renderObjs.controls();a.enabled=!!e.enableNavigationControls,e.lastSetCameraZ=i.position.z,e.container.appendChild(r=document.createElement("div")),r.className="graph-info-msg",r.textContent="",e.forceGraph.onLoading((function(){r.textContent="Loading..."})).onFinishLoading((function(){r.textContent=""})).onUpdate((function(){e.graphData=e.forceGraph.graphData(),0===i.position.x&&0===i.position.y&&i.position.z===e.lastSetCameraZ&&e.graphData.nodes.length&&(i.lookAt(e.forceGraph.position),e.lastSetCameraZ=i.position.z=Math.cbrt(e.graphData.nodes.length)*To)})).onFinishUpdate((function(){if(e._dragControls){var t=e.graphData.nodes.find((function(t){return t.__initialFixedPos&&!t.__disposeControlsAfterDrag}));t?t.__disposeControlsAfterDrag=!0:e._dragControls.dispose(),e._dragControls=void 0}if(e.enableNodeDrag&&e.enablePointerInteraction&&"d3"===e.forceEngine){var n=e._dragControls=new d(e.graphData.nodes.map((function(t){return t.__threeObj})).filter((function(t){return t})),i,o.domElement);n.addEventListener("dragstart",(function(t){a.enabled=!1,t.object.__initialPos=t.object.position.clone(),t.object.__prevPos=t.object.position.clone();var e=Do(t.object).__data;!e.__initialFixedPos&&(e.__initialFixedPos={fx:e.fx,fy:e.fy,fz:e.fz}),!e.__initialPos&&(e.__initialPos={x:e.x,y:e.y,z:e.z}),["x","y","z"].forEach((function(t){return e["f".concat(t)]=e[t]})),o.domElement.classList.add("grabbable")})),n.addEventListener("drag",(function(t){var n=Do(t.object);if(!t.object.hasOwnProperty("__graphObjType")){var r=t.object.__initialPos,i=t.object.__prevPos,o=t.object.position;n.position.add(o.clone().sub(i)),i.copy(o),o.copy(r)}var a=n.__data,s=n.position,l={x:s.x-a.x,y:s.y-a.y,z:s.z-a.z};["x","y","z"].forEach((function(t){return a["f".concat(t)]=a[t]=s[t]})),e.forceGraph.d3AlphaTarget(.3).resetCountdown(),a.__dragged=!0,e.onNodeDrag(a,l)})),n.addEventListener("dragend",(function(t){delete t.object.__initialPos,delete t.object.__prevPos;var r=Do(t.object).__data;r.__disposeControlsAfterDrag&&(n.dispose(),delete r.__disposeControlsAfterDrag);var i=r.__initialFixedPos,s=r.__initialPos,l={x:s.x-r.x,y:s.y-r.y,z:s.z-r.z};i&&(["x","y","z"].forEach((function(t){var e="f".concat(t);void 0===i[e]&&delete r[e]})),delete r.__initialFixedPos,delete r.__initialPos,r.__dragged&&(delete r.__dragged,e.onNodeDragEnd(r,l))),e.forceGraph.d3AlphaTarget(0).resetCountdown(),e.enableNavigationControls&&(a.enabled=!0,a.domElement&&a.domElement.ownerDocument&&a.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),o.domElement.classList.remove("grabbable")}))}})),e.renderObjs.objects([new Eo.AmbientLight(12303291),new Eo.DirectionalLight(16777215,.6),e.forceGraph]).hoverOrderComparator((function(t,e){var n=Do(t);if(!n)return 1;var r=Do(e);if(!r)return-1;var i=function(t){return"node"===t.__graphObjType};return i(r)-i(n)})).tooltipContent((function(t){var n=Do(t);return n&&Re(e["".concat(n.__graphObjType,"Label")])(n.__data)||""})).hoverDuringDrag(!1).onHover((function(t){var n=Do(t);if(n!==e.hoverObj){var r=e.hoverObj?e.hoverObj.__graphObjType:null,i=e.hoverObj?e.hoverObj.__data:null,a=n?n.__graphObjType:null,s=n?n.__data:null;if(r&&r!==a){var l=e["on".concat("node"===r?"Node":"Link","Hover")];l&&l(null,i)}if(a){var u=e["on".concat("node"===a?"Node":"Link","Hover")];u&&u(s,r===a?i:null)}o.domElement.classList[n&&e["on".concat("node"===a?"Node":"Link","Click")]||!n&&e.onBackgroundClick?"add":"remove"]("clickable"),e.hoverObj=n}})).clickAfterDrag(!1).onClick((function(t,n){var r=Do(t);if(r){var i=e["on".concat("node"===r.__graphObjType?"Node":"Link","Click")];i&&i(r.__data,n)}else e.onBackgroundClick&&e.onBackgroundClick(n)})).onRightClick((function(t,n){var r=Do(t);if(r){var i=e["on".concat("node"===r.__graphObjType?"Node":"Link","RightClick")];i&&i(r.__data,n)}else e.onBackgroundRightClick&&e.onBackgroundRightClick(n)})),this._animationCycle()}});function Do(t){var e=t;while(e&&!e.hasOwnProperty("__graphObjType"))e=e.parent;return e}},1448:function(t,e,n){"use strict";n.r(e),n.d(e,{afterMain:function(){return x},afterRead:function(){return b},afterWrite:function(){return E},applyStyles:function(){return D},arrow:function(){return it},auto:function(){return s},basePlacements:function(){return l},beforeMain:function(){return _},beforeRead:function(){return v},beforeWrite:function(){return S},bottom:function(){return i},clippingParents:function(){return d},computeStyles:function(){return ct},createPopper:function(){return se},createPopperBase:function(){return oe},createPopperLite:function(){return ue},detectOverflow:function(){return Pt},end:function(){return c},eventListeners:function(){return ft},flip:function(){return Rt},hide:function(){return jt},left:function(){return a},main:function(){return w},modifierPhases:function(){return T},offset:function(){return Ut},placements:function(){return g},popper:function(){return f},popperGenerator:function(){return ie},popperOffsets:function(){return Wt},preventOverflow:function(){return $t},read:function(){return y},reference:function(){return p},right:function(){return o},start:function(){return u},top:function(){return r},variationPlacements:function(){return m},viewport:function(){return h},write:function(){return M}});var r="top",i="bottom",o="right",a="left",s="auto",l=[r,i,o,a],u="start",c="end",d="clippingParents",h="viewport",f="popper",p="reference",m=l.reduce((function(t,e){return t.concat([e+"-"+u,e+"-"+c])}),[]),g=[].concat(l,[s]).reduce((function(t,e){return t.concat([e,e+"-"+u,e+"-"+c])}),[]),v="beforeRead",y="read",b="afterRead",_="beforeMain",w="main",x="afterMain",S="beforeWrite",M="write",E="afterWrite",T=[v,y,b,_,w,x,S,M,E];function A(t){return t?(t.nodeName||"").toLowerCase():null}function C(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function O(t){var e=C(t).Element;return t instanceof e||t instanceof Element}function k(t){var e=C(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function P(t){if("undefined"===typeof ShadowRoot)return!1;var e=C(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function L(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];k(i)&&A(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))}function I(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]),a=o.reduce((function(t,e){return t[e]="",t}),{});k(r)&&A(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}}var D={name:"applyStyles",enabled:!0,phase:"write",fn:L,effect:I,requires:["computeStyles"]};function R(t){return t.split("-")[0]}var N=Math.max,B=Math.min,F=Math.round;function j(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(k(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(r=F(n.width)/a||1),o>0&&(i=F(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function z(t){var e=j(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function V(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&P(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function U(t){return C(t).getComputedStyle(t)}function H(t){return["table","td","th"].indexOf(A(t))>=0}function W(t){return((O(t)?t.ownerDocument:t.document)||window.document).documentElement}function G(t){return"html"===A(t)?t:t.assignedSlot||t.parentNode||(P(t)?t.host:null)||W(t)}function q(t){return k(t)&&"fixed"!==U(t).position?t.offsetParent:null}function $(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&k(t)){var r=U(t);if("fixed"===r.position)return null}var i=G(t);P(i)&&(i=i.host);while(k(i)&&["html","body"].indexOf(A(i))<0){var o=U(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}function X(t){var e=C(t),n=q(t);while(n&&H(n)&&"static"===U(n).position)n=q(n);return n&&("html"===A(n)||"body"===A(n)&&"static"===U(n).position)?e:n||$(t)||e}function Y(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Z(t,e,n){return N(t,B(e,n))}function J(t,e,n){var r=Z(t,e,n);return r>n?n:r}function K(){return{top:0,right:0,bottom:0,left:0}}function Q(t){return Object.assign({},K(),t)}function tt(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var et=function(t,e){return t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,Q("number"!==typeof t?t:tt(t,l))};function nt(t){var e,n=t.state,s=t.name,l=t.options,u=n.elements.arrow,c=n.modifiersData.popperOffsets,d=R(n.placement),h=Y(d),f=[a,o].indexOf(d)>=0,p=f?"height":"width";if(u&&c){var m=et(l.padding,n),g=z(u),v="y"===h?r:a,y="y"===h?i:o,b=n.rects.reference[p]+n.rects.reference[h]-c[h]-n.rects.popper[p],_=c[h]-n.rects.reference[h],w=X(u),x=w?"y"===h?w.clientHeight||0:w.clientWidth||0:0,S=b/2-_/2,M=m[v],E=x-g[p]-m[y],T=x/2-g[p]/2+S,A=Z(M,T,E),C=h;n.modifiersData[s]=(e={},e[C]=A,e.centerOffset=A-T,e)}}function rt(t){var e=t.state,n=t.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=e.elements.popper.querySelector(i),i))&&V(e.elements.popper,i)&&(e.elements.arrow=i)}var it={name:"arrow",enabled:!0,phase:"main",fn:nt,effect:rt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ot(t){return t.split("-")[1]}var at={top:"auto",right:"auto",bottom:"auto",left:"auto"};function st(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:F(e*i)/i||0,y:F(n*i)/i||0}}function lt(t){var e,n=t.popper,s=t.popperRect,l=t.placement,u=t.variation,d=t.offsets,h=t.position,f=t.gpuAcceleration,p=t.adaptive,m=t.roundOffsets,g=t.isFixed,v=d.x,y=void 0===v?0:v,b=d.y,_=void 0===b?0:b,w="function"===typeof m?m({x:y,y:_}):{x:y,y:_};y=w.x,_=w.y;var x=d.hasOwnProperty("x"),S=d.hasOwnProperty("y"),M=a,E=r,T=window;if(p){var A=X(n),O="clientHeight",k="clientWidth";if(A===C(n)&&(A=W(n),"static"!==U(A).position&&"absolute"===h&&(O="scrollHeight",k="scrollWidth")),l===r||(l===a||l===o)&&u===c){E=i;var P=g&&A===T&&T.visualViewport?T.visualViewport.height:A[O];_-=P-s.height,_*=f?1:-1}if(l===a||(l===r||l===i)&&u===c){M=o;var L=g&&A===T&&T.visualViewport?T.visualViewport.width:A[k];y-=L-s.width,y*=f?1:-1}}var I,D=Object.assign({position:h},p&&at),R=!0===m?st({x:y,y:_}):{x:y,y:_};return y=R.x,_=R.y,f?Object.assign({},D,(I={},I[E]=S?"0":"",I[M]=x?"0":"",I.transform=(T.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",I)):Object.assign({},D,(e={},e[E]=S?_+"px":"",e[M]=x?y+"px":"",e.transform="",e))}function ut(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:R(e.placement),variation:ot(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,lt(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,lt(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var ct={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ut,data:{}},dt={passive:!0};function ht(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=C(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach((function(t){t.addEventListener("scroll",n.update,dt)})),s&&l.addEventListener("resize",n.update,dt),function(){o&&u.forEach((function(t){t.removeEventListener("scroll",n.update,dt)})),s&&l.removeEventListener("resize",n.update,dt)}}var ft={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ht,data:{}},pt={left:"right",right:"left",bottom:"top",top:"bottom"};function mt(t){return t.replace(/left|right|bottom|top/g,(function(t){return pt[t]}))}var gt={start:"end",end:"start"};function vt(t){return t.replace(/start|end/g,(function(t){return gt[t]}))}function yt(t){var e=C(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function bt(t){return j(W(t)).left+yt(t).scrollLeft}function _t(t){var e=C(t),n=W(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+bt(t),y:s}}function wt(t){var e,n=W(t),r=yt(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=N(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=N(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+bt(t),l=-r.scrollTop;return"rtl"===U(i||n).direction&&(s+=N(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function xt(t){var e=U(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function St(t){return["html","body","#document"].indexOf(A(t))>=0?t.ownerDocument.body:k(t)&&xt(t)?t:St(G(t))}function Mt(t,e){var n;void 0===e&&(e=[]);var r=St(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=C(r),a=i?[o].concat(o.visualViewport||[],xt(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(Mt(G(a)))}function Et(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Tt(t){var e=j(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function At(t,e){return e===h?Et(_t(t)):O(e)?Tt(e):Et(wt(W(t)))}function Ct(t){var e=Mt(G(t)),n=["absolute","fixed"].indexOf(U(t).position)>=0,r=n&&k(t)?X(t):t;return O(r)?e.filter((function(t){return O(t)&&V(t,r)&&"body"!==A(t)})):[]}function Ot(t,e,n){var r="clippingParents"===e?Ct(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(e,n){var r=At(t,n);return e.top=N(r.top,e.top),e.right=B(r.right,e.right),e.bottom=B(r.bottom,e.bottom),e.left=N(r.left,e.left),e}),At(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function kt(t){var e,n=t.reference,s=t.element,l=t.placement,d=l?R(l):null,h=l?ot(l):null,f=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2;switch(d){case r:e={x:f,y:n.y-s.height};break;case i:e={x:f,y:n.y+n.height};break;case o:e={x:n.x+n.width,y:p};break;case a:e={x:n.x-s.width,y:p};break;default:e={x:n.x,y:n.y}}var m=d?Y(d):null;if(null!=m){var g="y"===m?"height":"width";switch(h){case u:e[m]=e[m]-(n[g]/2-s[g]/2);break;case c:e[m]=e[m]+(n[g]/2-s[g]/2);break;default:}}return e}function Pt(t,e){void 0===e&&(e={});var n=e,a=n.placement,s=void 0===a?t.placement:a,u=n.boundary,c=void 0===u?d:u,m=n.rootBoundary,g=void 0===m?h:m,v=n.elementContext,y=void 0===v?f:v,b=n.altBoundary,_=void 0!==b&&b,w=n.padding,x=void 0===w?0:w,S=Q("number"!==typeof x?x:tt(x,l)),M=y===f?p:f,E=t.rects.popper,T=t.elements[_?M:y],A=Ot(O(T)?T:T.contextElement||W(t.elements.popper),c,g),C=j(t.elements.reference),k=kt({reference:C,element:E,strategy:"absolute",placement:s}),P=Et(Object.assign({},E,k)),L=y===f?P:C,I={top:A.top-L.top+S.top,bottom:L.bottom-A.bottom+S.bottom,left:A.left-L.left+S.left,right:L.right-A.right+S.right},D=t.modifiersData.offset;if(y===f&&D){var R=D[s];Object.keys(I).forEach((function(t){var e=[o,i].indexOf(t)>=0?1:-1,n=[r,i].indexOf(t)>=0?"y":"x";I[t]+=R[n]*e}))}return I}function Lt(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?g:u,d=ot(r),h=d?s?m:m.filter((function(t){return ot(t)===d})):l,f=h.filter((function(t){return c.indexOf(t)>=0}));0===f.length&&(f=h);var p=f.reduce((function(e,n){return e[n]=Pt(t,{placement:n,boundary:i,rootBoundary:o,padding:a})[R(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}function It(t){if(R(t)===s)return[];var e=mt(t);return[vt(t),e,vt(e)]}function Dt(t){var e=t.state,n=t.options,l=t.name;if(!e.modifiersData[l]._skip){for(var c=n.mainAxis,d=void 0===c||c,h=n.altAxis,f=void 0===h||h,p=n.fallbackPlacements,m=n.padding,g=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,_=void 0===b||b,w=n.allowedAutoPlacements,x=e.options.placement,S=R(x),M=S===x,E=p||(M||!_?[mt(x)]:It(x)),T=[x].concat(E).reduce((function(t,n){return t.concat(R(n)===s?Lt(e,{placement:n,boundary:g,rootBoundary:v,padding:m,flipVariations:_,allowedAutoPlacements:w}):n)}),[]),A=e.rects.reference,C=e.rects.popper,O=new Map,k=!0,P=T[0],L=0;L<T.length;L++){var I=T[L],D=R(I),N=ot(I)===u,B=[r,i].indexOf(D)>=0,F=B?"width":"height",j=Pt(e,{placement:I,boundary:g,rootBoundary:v,altBoundary:y,padding:m}),z=B?N?o:a:N?i:r;A[F]>C[F]&&(z=mt(z));var V=mt(z),U=[];if(d&&U.push(j[D]<=0),f&&U.push(j[z]<=0,j[V]<=0),U.every((function(t){return t}))){P=I,k=!1;break}O.set(I,U)}if(k)for(var H=_?3:1,W=function(t){var e=T.find((function(e){var n=O.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return P=e,"break"},G=H;G>0;G--){var q=W(G);if("break"===q)break}e.placement!==P&&(e.modifiersData[l]._skip=!0,e.placement=P,e.reset=!0)}}var Rt={name:"flip",enabled:!0,phase:"main",fn:Dt,requiresIfExists:["offset"],data:{_skip:!1}};function Nt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Bt(t){return[r,o,i,a].some((function(e){return t[e]>=0}))}function Ft(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Pt(e,{elementContext:"reference"}),s=Pt(e,{altBoundary:!0}),l=Nt(a,r),u=Nt(s,i,o),c=Bt(l),d=Bt(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var jt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ft};function zt(t,e,n){var i=R(t),s=[a,r].indexOf(i)>=0?-1:1,l="function"===typeof n?n(Object.assign({},e,{placement:t})):n,u=l[0],c=l[1];return u=u||0,c=(c||0)*s,[a,o].indexOf(i)>=0?{x:c,y:u}:{x:u,y:c}}function Vt(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,a=g.reduce((function(t,n){return t[n]=zt(n,e.rects,o),t}),{}),s=a[e.placement],l=s.x,u=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}var Ut={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Vt};function Ht(t){var e=t.state,n=t.name;e.modifiersData[n]=kt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Wt={name:"popperOffsets",enabled:!0,phase:"read",fn:Ht,data:{}};function Gt(t){return"x"===t?"y":"x"}function qt(t){var e=t.state,n=t.options,s=t.name,l=n.mainAxis,c=void 0===l||l,d=n.altAxis,h=void 0!==d&&d,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,g=n.padding,v=n.tether,y=void 0===v||v,b=n.tetherOffset,_=void 0===b?0:b,w=Pt(e,{boundary:f,rootBoundary:p,padding:g,altBoundary:m}),x=R(e.placement),S=ot(e.placement),M=!S,E=Y(x),T=Gt(E),A=e.modifiersData.popperOffsets,C=e.rects.reference,O=e.rects.popper,k="function"===typeof _?_(Object.assign({},e.rects,{placement:e.placement})):_,P="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(A){if(c){var D,F="y"===E?r:a,j="y"===E?i:o,V="y"===E?"height":"width",U=A[E],H=U+w[F],W=U-w[j],G=y?-O[V]/2:0,q=S===u?C[V]:O[V],$=S===u?-O[V]:-C[V],Q=e.elements.arrow,tt=y&&Q?z(Q):{width:0,height:0},et=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:K(),nt=et[F],rt=et[j],it=Z(0,C[V],tt[V]),at=M?C[V]/2-G-it-nt-P.mainAxis:q-it-nt-P.mainAxis,st=M?-C[V]/2+G+it+rt+P.mainAxis:$+it+rt+P.mainAxis,lt=e.elements.arrow&&X(e.elements.arrow),ut=lt?"y"===E?lt.clientTop||0:lt.clientLeft||0:0,ct=null!=(D=null==L?void 0:L[E])?D:0,dt=U+at-ct-ut,ht=U+st-ct,ft=Z(y?B(H,dt):H,U,y?N(W,ht):W);A[E]=ft,I[E]=ft-U}if(h){var pt,mt="x"===E?r:a,gt="x"===E?i:o,vt=A[T],yt="y"===T?"height":"width",bt=vt+w[mt],_t=vt-w[gt],wt=-1!==[r,a].indexOf(x),xt=null!=(pt=null==L?void 0:L[T])?pt:0,St=wt?bt:vt-C[yt]-O[yt]-xt+P.altAxis,Mt=wt?vt+C[yt]+O[yt]-xt-P.altAxis:_t,Et=y&&wt?J(St,vt,Mt):Z(y?St:bt,vt,y?Mt:_t);A[T]=Et,I[T]=Et-vt}e.modifiersData[s]=I}}var $t={name:"preventOverflow",enabled:!0,phase:"main",fn:qt,requiresIfExists:["offset"]};function Xt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Yt(t){return t!==C(t)&&k(t)?Xt(t):yt(t)}function Zt(t){var e=t.getBoundingClientRect(),n=F(e.width)/t.offsetWidth||1,r=F(e.height)/t.offsetHeight||1;return 1!==n||1!==r}function Jt(t,e,n){void 0===n&&(n=!1);var r=k(e),i=k(e)&&Zt(e),o=W(e),a=j(t,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==A(e)||xt(o))&&(s=Yt(e)),k(e)?(l=j(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=bt(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Kt(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name);var o=[].concat(t.requires||[],t.requiresIfExists||[]);o.forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function Qt(t){var e=Kt(t);return T.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}function te(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}function ee(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var ne={placement:"bottom",modifiers:[],strategy:"absolute"};function re(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function ie(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?ne:i;return function(t,e,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},ne,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:O(t)?Mt(t):t.contextElement?Mt(t.contextElement):[],popper:Mt(e)};var s=Qt(ee([].concat(r,i.options.modifiers)));return i.orderedModifiers=s.filter((function(t){return t.enabled})),u(),l.update()},forceUpdate:function(){if(!s){var t=i.elements,e=t.reference,n=t.popper;if(re(e,n)){i.rects={reference:Jt(e,X(n),"fixed"===i.options.strategy),popper:z(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,u=o.options,c=void 0===u?{}:u,d=o.name;"function"===typeof a&&(i=a({state:i,options:c,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:te((function(){return new Promise((function(t){l.forceUpdate(),t(i)}))})),destroy:function(){c(),s=!0}};if(!re(t,e))return l;function u(){i.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"===typeof o){var s=o({state:i,name:e,instance:l,options:r}),u=function(){};a.push(s||u)}}))}function c(){a.forEach((function(t){return t()})),a=[]}return l.setOptions(n).then((function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var oe=ie(),ae=[ft,Wt,ct,D,Ut,Rt,$t,it,jt],se=ie({defaultModifiers:ae}),le=[ft,Wt,ct,D],ue=ie({defaultModifiers:le})},4870:function(t,e,n){"use strict";n.d(e,{Bj:function(){return o},Fl:function(){return Ht},IU:function(){return Ct},Jd:function(){return S},PG:function(){return Mt},SU:function(){return jt},Um:function(){return wt},WL:function(){return Vt},X$:function(){return A},X3:function(){return At},XI:function(){return Nt},Xl:function(){return Ot},dq:function(){return Dt},iH:function(){return Rt},j:function(){return E},lk:function(){return M},qj:function(){return _t},qq:function(){return b},yT:function(){return Tt}});var r=n(7139);n(5941);let i;class o{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(t){if(this.active){const e=i;try{return i=this,t()}finally{i=e}}else 0}on(){i=this}off(){i=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function a(t,e=i){e&&e.active&&e.effects.push(t)}const s=t=>{const e=new Set(t);return e.w=0,e.n=0,e},l=t=>(t.w&p)>0,u=t=>(t.n&p)>0,c=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=p},d=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];l(i)&&!u(i)?i.delete(t):e[n++]=i,i.w&=~p,i.n&=~p}e.length=n}},h=new WeakMap;let f=0,p=1;const m=30;let g;const v=Symbol(""),y=Symbol("");class b{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let t=g,e=w;while(t){if(t===this)return;t=t.parent}try{return this.parent=g,g=this,w=!0,p=1<<++f,f<=m?c(this):_(this),this.fn()}finally{f<=m&&d(this),p=1<<--f,g=this.parent,w=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){g===this?this.deferStop=!0:this.active&&(_(this),this.onStop&&this.onStop(),this.active=!1)}}function _(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let w=!0;const x=[];function S(){x.push(w),w=!1}function M(){const t=x.pop();w=void 0===t||t}function E(t,e,n){if(w&&g){let e=h.get(t);e||h.set(t,e=new Map);let r=e.get(n);r||e.set(n,r=s());const i=void 0;T(r,i)}}function T(t,e){let n=!1;f<=m?u(t)||(t.n|=p,n=!l(t)):n=!t.has(g),n&&(t.add(g),g.deps.push(t))}function A(t,e,n,i,o,a){const l=h.get(t);if(!l)return;let u=[];if("clear"===e)u=[...l.values()];else if("length"===n&&(0,r.kJ)(t))l.forEach(((t,e)=>{("length"===e||e>=i)&&u.push(t)}));else switch(void 0!==n&&u.push(l.get(n)),e){case"add":(0,r.kJ)(t)?(0,r.S0)(n)&&u.push(l.get("length")):(u.push(l.get(v)),(0,r._N)(t)&&u.push(l.get(y)));break;case"delete":(0,r.kJ)(t)||(u.push(l.get(v)),(0,r._N)(t)&&u.push(l.get(y)));break;case"set":(0,r._N)(t)&&u.push(l.get(v));break}if(1===u.length)u[0]&&C(u[0]);else{const t=[];for(const e of u)e&&t.push(...e);C(s(t))}}function C(t,e){const n=(0,r.kJ)(t)?t:[...t];for(const r of n)r.computed&&O(r,e);for(const r of n)r.computed||O(r,e)}function O(t,e){(t!==g||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const k=(0,r.fY)("__proto__,__v_isRef,__isVue"),P=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(r.yk)),L=B(),I=B(!1,!0),D=B(!0),R=N();function N(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=Ct(this);for(let e=0,i=this.length;e<i;e++)E(n,"get",e+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(Ct)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){S();const n=Ct(this)[e].apply(this,t);return M(),n}})),t}function B(t=!1,e=!1){return function(n,i,o){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_isShallow"===i)return e;if("__v_raw"===i&&o===(t?e?vt:gt:e?mt:pt).get(n))return n;const a=(0,r.kJ)(n);if(!t&&a&&(0,r.RI)(R,i))return Reflect.get(R,i,o);const s=Reflect.get(n,i,o);return((0,r.yk)(i)?P.has(i):k(i))?s:(t||E(n,"get",i),e?s:Dt(s)?a&&(0,r.S0)(i)?s:s.value:(0,r.Kn)(s)?t?xt(s):_t(s):s)}}const F=z(),j=z(!0);function z(t=!1){return function(e,n,i,o){let a=e[n];if(Et(a)&&Dt(a)&&!Dt(i))return!1;if(!t&&!Et(i)&&(Tt(i)||(i=Ct(i),a=Ct(a)),!(0,r.kJ)(e)&&Dt(a)&&!Dt(i)))return a.value=i,!0;const s=(0,r.kJ)(e)&&(0,r.S0)(n)?Number(n)<e.length:(0,r.RI)(e,n),l=Reflect.set(e,n,i,o);return e===Ct(o)&&(s?(0,r.aU)(i,a)&&A(e,"set",n,i,a):A(e,"add",n,i)),l}}function V(t,e){const n=(0,r.RI)(t,e),i=t[e],o=Reflect.deleteProperty(t,e);return o&&n&&A(t,"delete",e,void 0,i),o}function U(t,e){const n=Reflect.has(t,e);return(0,r.yk)(e)&&P.has(e)||E(t,"has",e),n}function H(t){return E(t,"iterate",(0,r.kJ)(t)?"length":v),Reflect.ownKeys(t)}const W={get:L,set:F,deleteProperty:V,has:U,ownKeys:H},G={get:D,set(t,e){return!0},deleteProperty(t,e){return!0}},q=(0,r.l7)({},W,{get:I,set:j}),$=t=>t,X=t=>Reflect.getPrototypeOf(t);function Y(t,e,n=!1,r=!1){t=t["__v_raw"];const i=Ct(t),o=Ct(e);n||(e!==o&&E(i,"get",e),E(i,"get",o));const{has:a}=X(i),s=r?$:n?Pt:kt;return a.call(i,e)?s(t.get(e)):a.call(i,o)?s(t.get(o)):void(t!==i&&t.get(e))}function Z(t,e=!1){const n=this["__v_raw"],r=Ct(n),i=Ct(t);return e||(t!==i&&E(r,"has",t),E(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function J(t,e=!1){return t=t["__v_raw"],!e&&E(Ct(t),"iterate",v),Reflect.get(t,"size",t)}function K(t){t=Ct(t);const e=Ct(this),n=X(e),r=n.has.call(e,t);return r||(e.add(t),A(e,"add",t,t)),this}function Q(t,e){e=Ct(e);const n=Ct(this),{has:i,get:o}=X(n);let a=i.call(n,t);a||(t=Ct(t),a=i.call(n,t));const s=o.call(n,t);return n.set(t,e),a?(0,r.aU)(e,s)&&A(n,"set",t,e,s):A(n,"add",t,e),this}function tt(t){const e=Ct(this),{has:n,get:r}=X(e);let i=n.call(e,t);i||(t=Ct(t),i=n.call(e,t));const o=r?r.call(e,t):void 0,a=e.delete(t);return i&&A(e,"delete",t,void 0,o),a}function et(){const t=Ct(this),e=0!==t.size,n=void 0,r=t.clear();return e&&A(t,"clear",void 0,void 0,n),r}function nt(t,e){return function(n,r){const i=this,o=i["__v_raw"],a=Ct(o),s=e?$:t?Pt:kt;return!t&&E(a,"iterate",v),o.forEach(((t,e)=>n.call(r,s(t),s(e),i)))}}function rt(t,e,n){return function(...i){const o=this["__v_raw"],a=Ct(o),s=(0,r._N)(a),l="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=o[t](...i),d=n?$:e?Pt:kt;return!e&&E(a,"iterate",u?y:v),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:l?[d(t[0]),d(t[1])]:d(t),done:e}},[Symbol.iterator](){return this}}}}function it(t){return function(...e){return"delete"!==t&&this}}function ot(){const t={get(t){return Y(this,t)},get size(){return J(this)},has:Z,add:K,set:Q,delete:tt,clear:et,forEach:nt(!1,!1)},e={get(t){return Y(this,t,!1,!0)},get size(){return J(this)},has:Z,add:K,set:Q,delete:tt,clear:et,forEach:nt(!1,!0)},n={get(t){return Y(this,t,!0)},get size(){return J(this,!0)},has(t){return Z.call(this,t,!0)},add:it("add"),set:it("set"),delete:it("delete"),clear:it("clear"),forEach:nt(!0,!1)},r={get(t){return Y(this,t,!0,!0)},get size(){return J(this,!0)},has(t){return Z.call(this,t,!0)},add:it("add"),set:it("set"),delete:it("delete"),clear:it("clear"),forEach:nt(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{t[i]=rt(i,!1,!1),n[i]=rt(i,!0,!1),e[i]=rt(i,!1,!0),r[i]=rt(i,!0,!0)})),[t,n,e,r]}const[at,st,lt,ut]=ot();function ct(t,e){const n=e?t?ut:lt:t?st:at;return(e,i,o)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get((0,r.RI)(n,i)&&i in e?n:e,i,o)}const dt={get:ct(!1,!1)},ht={get:ct(!1,!0)},ft={get:ct(!0,!1)};const pt=new WeakMap,mt=new WeakMap,gt=new WeakMap,vt=new WeakMap;function yt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:yt((0,r.W7)(t))}function _t(t){return Et(t)?t:St(t,!1,W,dt,pt)}function wt(t){return St(t,!1,q,ht,mt)}function xt(t){return St(t,!0,G,ft,gt)}function St(t,e,n,i,o){if(!(0,r.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const a=o.get(t);if(a)return a;const s=bt(t);if(0===s)return t;const l=new Proxy(t,2===s?i:n);return o.set(t,l),l}function Mt(t){return Et(t)?Mt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function Et(t){return!(!t||!t["__v_isReadonly"])}function Tt(t){return!(!t||!t["__v_isShallow"])}function At(t){return Mt(t)||Et(t)}function Ct(t){const e=t&&t["__v_raw"];return e?Ct(e):t}function Ot(t){return(0,r.Nj)(t,"__v_skip",!0),t}const kt=t=>(0,r.Kn)(t)?_t(t):t,Pt=t=>(0,r.Kn)(t)?xt(t):t;function Lt(t){w&&g&&(t=Ct(t),T(t.dep||(t.dep=s())))}function It(t,e){t=Ct(t),t.dep&&C(t.dep)}function Dt(t){return!(!t||!0!==t.__v_isRef)}function Rt(t){return Bt(t,!1)}function Nt(t){return Bt(t,!0)}function Bt(t,e){return Dt(t)?t:new Ft(t,e)}class Ft{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Ct(t),this._value=e?t:kt(t)}get value(){return Lt(this),this._value}set value(t){t=this.__v_isShallow?t:Ct(t),(0,r.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:kt(t),It(this,t))}}function jt(t){return Dt(t)?t.value:t}const zt={get:(t,e,n)=>jt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Dt(i)&&!Dt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Vt(t){return Mt(t)?t:new Proxy(t,zt)}class Ut{constructor(t,e,n,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new b(t,(()=>{this._dirty||(this._dirty=!0,It(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const t=Ct(this);return Lt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ht(t,e,n=!1){let i,o;const a=(0,r.mf)(t);a?(i=t,o=r.dG):(i=t.get,o=t.set);const s=new Ut(i,o,a||!o,n);return s}},3396:function(t,e,n){"use strict";n.d(e,{$d:function(){return s},Ah:function(){return Pt},F4:function(){return gn},FN:function(){return On},Fl:function(){return Gn},HY:function(){return Xe},JJ:function(){return Z},Jd:function(){return kt},Ko:function(){return qt},LL:function(){return Ut},Nv:function(){return $t},P$:function(){return st},Q2:function(){return Ht},Q6:function(){return ft},Rr:function(){return qn},U2:function(){return ut},Uk:function(){return yn},Us:function(){return Re},WI:function(){return Xt},Wm:function(){return pn},Y3:function(){return S},Y8:function(){return it},YP:function(){return Q},_:function(){return fn},aZ:function(){return pt},bv:function(){return At},dG:function(){return Sn},dl:function(){return yt},f3:function(){return J},h:function(){return Xn},iD:function(){return an},ic:function(){return Ot},j4:function(){return sn},kq:function(){return bn},lR:function(){return $e},nK:function(){return ht},sv:function(){return Ze},up:function(){return zt},w5:function(){return V},wg:function(){return tn},wy:function(){return Nt}});n(6699),n(1703);var r=n(4870),i=n(7139),o=n(5941);function a(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){l(o,e,n)}return i}function s(t,e,n,r){if((0,i.mf)(t)){const o=a(t,e,n,r);return o&&(0,i.tI)(o)&&o.catch((t=>{l(t,e,n)})),o}const o=[];for(let i=0;i<t.length;i++)o.push(s(t[i],e,n,r));return o}function l(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const i=e.proxy,o=n;while(r){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void a(s,null,10,[t,i,o])}u(t,n,i,r)}function u(t,e,n,r=!0){o.error(t)}let c=!1,d=!1;const h=[];let f=0;const p=[];let m=null,g=0;const v=[];let y=null,b=0;const _=Promise.resolve();let w=null,x=null;function S(t){const e=w||_;return t?e.then(this?t.bind(this):t):e}function M(t){let e=f+1,n=h.length;while(e<n){const r=e+n>>>1,i=I(h[r]);i<t?e=r+1:n=r}return e}function E(t){h.length&&h.includes(t,c&&t.allowRecurse?f+1:f)||t===x||(null==t.id?h.push(t):h.splice(M(t.id),0,t),T())}function T(){c||d||(d=!0,w=_.then(D))}function A(t){const e=h.indexOf(t);e>f&&h.splice(e,1)}function C(t,e,n,r){(0,i.kJ)(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),T()}function O(t){C(t,m,p,g)}function k(t){C(t,y,v,b)}function P(t,e=null){if(p.length){for(x=e,m=[...new Set(p)],p.length=0,g=0;g<m.length;g++)m[g]();m=null,g=0,x=null,P(t,e)}}function L(t){if(P(),v.length){const t=[...new Set(v)];if(v.length=0,y)return void y.push(...t);for(y=t,y.sort(((t,e)=>I(t)-I(e))),b=0;b<y.length;b++)y[b]();y=null,b=0}}const I=t=>null==t.id?1/0:t.id;function D(t){d=!1,c=!0,P(t),h.sort(((t,e)=>I(t)-I(e)));i.dG;try{for(f=0;f<h.length;f++){const t=h[f];t&&!1!==t.active&&a(t,null,14)}}finally{f=0,h.length=0,L(t),c=!1,w=null,(h.length||p.length||v.length)&&D(t)}}new Set;new Map;function R(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||i.kT;let o=n;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in r){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:e,trim:a}=r[t]||i.kT;a&&(o=n.map((t=>t.trim()))),e&&(o=n.map(i.He))}let u;let c=r[u=(0,i.hR)(e)]||r[u=(0,i.hR)((0,i._A)(e))];!c&&a&&(c=r[u=(0,i.hR)((0,i.rs)(e))]),c&&s(c,t,6,o);const d=r[u+"Once"];if(d){if(t.emitted){if(t.emitted[u])return}else t.emitted={};t.emitted[u]=!0,s(d,t,6,o)}}function N(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(void 0!==o)return o;const a=t.emits;let s={},l=!1;if(!(0,i.mf)(t)){const r=t=>{const n=N(t,e,!0);n&&(l=!0,(0,i.l7)(s,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return a||l?((0,i.kJ)(a)?a.forEach((t=>s[t]=null)):(0,i.l7)(s,a),r.set(t,s),s):(r.set(t,null),null)}function B(t,e){return!(!t||!(0,i.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,i.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,i.RI)(t,(0,i.rs)(e))||(0,i.RI)(t,e))}let F=null,j=null;function z(t){const e=F;return F=t,j=t&&t.type.__scopeId||null,e}function V(t,e=F,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&rn(-1);const i=z(e),o=t(...n);return z(i),r._d&&rn(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function U(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:a,propsOptions:[s],slots:u,attrs:c,emit:d,render:h,renderCache:f,data:p,setupState:m,ctx:g,inheritAttrs:v}=t;let y,b;const _=z(t);try{if(4&n.shapeFlag){const t=o||r;y=_n(h.call(t,t,f,a,m,p,g)),b=c}else{const t=e;0,y=_n(t.length>1?t(a,{attrs:c,slots:u,emit:d}):t(a,null)),b=e.props?c:H(c)}}catch(x){Ke.length=0,l(x,t,1),y=pn(Ze)}let w=y;if(b&&!1!==v){const t=Object.keys(b),{shapeFlag:e}=w;t.length&&7&e&&(s&&t.some(i.tR)&&(b=W(b,s)),w=vn(w,b))}return n.dirs&&(w=vn(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),y=w,z(_),y}const H=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,i.F7)(n))&&((e||(e={}))[n]=t[n]);return e},W=(t,e)=>{const n={};for(const r in t)(0,i.tR)(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function G(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:s,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!i&&!s||s&&s.$stable)||r!==a&&(r?!a||q(r,a,u):!!a);if(1024&l)return!0;if(16&l)return r?q(r,a,u):!!a;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(a[n]!==r[n]&&!B(u,n))return!0}}return!1}function q(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!B(n,o))return!0}return!1}function $({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const X=t=>t.__isSuspense;function Y(t,e){e&&e.pendingBranch?(0,i.kJ)(t)?e.effects.push(...t):e.effects.push(t):k(t)}function Z(t,e){if(Cn){let n=Cn.provides;const r=Cn.parent&&Cn.parent.provides;r===n&&(n=Cn.provides=Object.create(r)),n[t]=e}else 0}function J(t,e,n=!1){const r=Cn||F;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&(0,i.mf)(e)?e.call(r.proxy):e}else 0}const K={};function Q(t,e,n){return tt(t,e,n)}function tt(t,e,{immediate:n,deep:o,flush:l,onTrack:u,onTrigger:c}=i.kT){const d=Cn;let h,f,p=!1,m=!1;if((0,r.dq)(t)?(h=()=>t.value,p=(0,r.yT)(t)):(0,r.PG)(t)?(h=()=>t,o=!0):(0,i.kJ)(t)?(m=!0,p=t.some((t=>(0,r.PG)(t)||(0,r.yT)(t))),h=()=>t.map((t=>(0,r.dq)(t)?t.value:(0,r.PG)(t)?rt(t):(0,i.mf)(t)?a(t,d,2):void 0))):h=(0,i.mf)(t)?e?()=>a(t,d,2):()=>{if(!d||!d.isUnmounted)return f&&f(),s(t,d,3,[g])}:i.dG,e&&o){const t=h;h=()=>rt(t())}let g=t=>{f=_.onStop=()=>{a(t,d,4)}};if(Rn)return g=i.dG,e?n&&s(e,d,3,[h(),m?[]:void 0,g]):h(),i.dG;let v=m?[]:K;const y=()=>{if(_.active)if(e){const t=_.run();(o||p||(m?t.some(((t,e)=>(0,i.aU)(t,v[e]))):(0,i.aU)(t,v)))&&(f&&f(),s(e,d,3,[t,v===K?void 0:v,g]),v=t)}else _.run()};let b;y.allowRecurse=!!e,b="sync"===l?y:"post"===l?()=>De(y,d&&d.suspense):()=>O(y);const _=new r.qq(h,b);return e?n?y():v=_.run():"post"===l?De(_.run.bind(_),d&&d.suspense):_.run(),()=>{_.stop(),d&&d.scope&&(0,i.Od)(d.scope.effects,_)}}function et(t,e,n){const r=this.proxy,o=(0,i.HD)(t)?t.includes(".")?nt(r,t):()=>r[t]:t.bind(r,r);let a;(0,i.mf)(e)?a=e:(a=e.handler,n=e);const s=Cn;kn(this);const l=tt(o,a.bind(r),n);return s?kn(s):Pn(),l}function nt(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function rt(t,e){if(!(0,i.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,r.dq)(t))rt(t.value,e);else if((0,i.kJ)(t))for(let n=0;n<t.length;n++)rt(t[n],e);else if((0,i.DM)(t)||(0,i._N)(t))t.forEach((t=>{rt(t,e)}));else if((0,i.PO)(t))for(const n in t)rt(t[n],e);return t}function it(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return At((()=>{t.isMounted=!0})),kt((()=>{t.isUnmounting=!0})),t}const ot=[Function,Array],at={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ot,onEnter:ot,onAfterEnter:ot,onEnterCancelled:ot,onBeforeLeave:ot,onLeave:ot,onAfterLeave:ot,onLeaveCancelled:ot,onBeforeAppear:ot,onAppear:ot,onAfterAppear:ot,onAppearCancelled:ot},setup(t,{slots:e}){const n=On(),i=it();let o;return()=>{const a=e.default&&ft(e.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){let t=!1;for(const e of a)if(e.type!==Ze){0,s=e,t=!0;break}}const l=(0,r.IU)(t),{mode:u}=l;if(i.isLeaving)return ct(s);const c=dt(s);if(!c)return ct(s);const d=ut(c,l,i,n);ht(c,d);const h=n.subTree,f=h&&dt(h);let p=!1;const{getTransitionKey:m}=c.type;if(m){const t=m();void 0===o?o=t:t!==o&&(o=t,p=!0)}if(f&&f.type!==Ze&&(!un(c,f)||p)){const t=ut(f,l,i,n);if(ht(f,t),"out-in"===u)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,n.update()},ct(s);"in-out"===u&&c.type!==Ze&&(t.delayLeave=(t,e,n)=>{const r=lt(i,f);r[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return s}}},st=at;function lt(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ut(t,e,n,r){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:_}=e,w=String(t.key),x=lt(n,t),S=(t,e)=>{t&&s(t,r,9,e)},M=(t,e)=>{const n=e[1];S(t,e),(0,i.kJ)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},E={mode:a,persisted:l,beforeEnter(e){let r=u;if(!n.isMounted){if(!o)return;r=v||u}e._leaveCb&&e._leaveCb(!0);const i=x[w];i&&un(t,i)&&i.el._leaveCb&&i.el._leaveCb(),S(r,[e])},enter(t){let e=c,r=d,i=h;if(!n.isMounted){if(!o)return;e=y||c,r=b||d,i=_||h}let a=!1;const s=t._enterCb=e=>{a||(a=!0,S(e?i:r,[t]),E.delayedLeave&&E.delayedLeave(),t._enterCb=void 0)};e?M(e,[t,s]):s()},leave(e,r){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return r();S(f,[e]);let o=!1;const a=e._leaveCb=n=>{o||(o=!0,r(),S(n?g:m,[e]),e._leaveCb=void 0,x[i]===t&&delete x[i])};x[i]=t,p?M(p,[e,a]):a()},clone(t){return ut(t,e,n,r)}};return E}function ct(t){if(gt(t))return t=vn(t),t.children=null,t}function dt(t){return gt(t)?t.children?t.children[0]:void 0:t}function ht(t,e){6&t.shapeFlag&&t.component?ht(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ft(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let a=t[o];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:o);a.type===Xe?(128&a.patchFlag&&i++,r=r.concat(ft(a.children,e,s))):(e||a.type!==Ze)&&r.push(null!=s?vn(a,{key:s}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function pt(t){return(0,i.mf)(t)?{setup:t,name:t.name}:t}const mt=t=>!!t.type.__asyncLoader;const gt=t=>t.type.__isKeepAlive;RegExp,RegExp;function vt(t,e){return(0,i.kJ)(t)?t.some((t=>vt(t,e))):(0,i.HD)(t)?t.split(",").includes(e):!!t.test&&t.test(e)}function yt(t,e){_t(t,"a",e)}function bt(t,e){_t(t,"da",e)}function _t(t,e,n=Cn){const r=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(Mt(e,r,n),n){let t=n.parent;while(t&&t.parent)gt(t.parent.vnode)&&wt(r,e,n,t),t=t.parent}}function wt(t,e,n,r){const o=Mt(e,t,r,!0);Pt((()=>{(0,i.Od)(r[e],o)}),n)}function xt(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function St(t){return 128&t.shapeFlag?t.ssContent:t}function Mt(t,e,n=Cn,i=!1){if(n){const o=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),kn(n);const o=s(e,n,t,i);return Pn(),(0,r.lk)(),o});return i?o.unshift(a):o.push(a),a}}const Et=t=>(e,n=Cn)=>(!Rn||"sp"===t)&&Mt(t,e,n),Tt=Et("bm"),At=Et("m"),Ct=Et("bu"),Ot=Et("u"),kt=Et("bum"),Pt=Et("um"),Lt=Et("sp"),It=Et("rtg"),Dt=Et("rtc");function Rt(t,e=Cn){Mt("ec",t,e)}function Nt(t,e){const n=F;if(null===n)return t;const r=Un(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[t,n,s,l=i.kT]=e[a];(0,i.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&rt(n),o.push({dir:t,instance:r,value:n,oldValue:void 0,arg:s,modifiers:l})}return t}function Bt(t,e,n,i){const o=t.dirs,a=e&&e.dirs;for(let l=0;l<o.length;l++){const u=o[l];a&&(u.oldValue=a[l].value);let c=u.dir[i];c&&((0,r.Jd)(),s(c,n,8,[t.el,u,t,e]),(0,r.lk)())}}const Ft="components",jt="directives";function zt(t,e){return Wt(Ft,t,!0,e)||t}const Vt=Symbol();function Ut(t){return(0,i.HD)(t)?Wt(Ft,t,!1)||t:t||Vt}function Ht(t){return Wt(jt,t)}function Wt(t,e,n=!0,r=!1){const o=F||Cn;if(o){const n=o.type;if(t===Ft){const t=Hn(n,!1);if(t&&(t===e||t===(0,i._A)(e)||t===(0,i.kC)((0,i._A)(e))))return n}const a=Gt(o[t]||n[t],e)||Gt(o.appContext[t],e);return!a&&r?n:a}}function Gt(t,e){return t&&(t[e]||t[(0,i._A)(e)]||t[(0,i.kC)((0,i._A)(e))])}function qt(t,e,n,r){let o;const a=n&&n[r];if((0,i.kJ)(t)||(0,i.HD)(t)){o=new Array(t.length);for(let n=0,r=t.length;n<r;n++)o[n]=e(t[n],n,void 0,a&&a[n])}else if("number"===typeof t){0,o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n,void 0,a&&a[n])}else if((0,i.Kn)(t))if(t[Symbol.iterator])o=Array.from(t,((t,n)=>e(t,n,void 0,a&&a[n])));else{const n=Object.keys(t);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=e(t[i],i,r,a&&a[r])}}else o=[];return n&&(n[r]=o),o}function $t(t,e){for(let n=0;n<e.length;n++){const r=e[n];if((0,i.kJ)(r))for(let e=0;e<r.length;e++)t[r[e].name]=r[e].fn;else r&&(t[r.name]=r.fn)}return t}function Xt(t,e,n={},r,i){if(F.isCE||F.parent&&mt(F.parent)&&F.parent.isCE)return pn("slot","default"===e?null:{name:e},r&&r());let o=t[e];o&&o._c&&(o._d=!1),tn();const a=o&&Yt(o(n)),s=sn(Xe,{key:n.key||`_${e}`},a||(r?r():[]),a&&1===t._?64:-2);return!i&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),o&&o._c&&(o._d=!0),s}function Yt(t){return t.some((t=>!ln(t)||t.type!==Ze&&!(t.type===Xe&&!Yt(t.children))))?t:null}const Zt=t=>t?Ln(t)?Un(t)||t.proxy:Zt(t.parent):null,Jt=(0,i.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zt(t.parent),$root:t=>Zt(t.root),$emit:t=>t.emit,$options:t=>ie(t),$forceUpdate:t=>t.f||(t.f=()=>E(t.update)),$nextTick:t=>t.n||(t.n=S.bind(t.proxy)),$watch:t=>et.bind(t)}),Kt={get({_:t},e){const{ctx:n,setupState:o,data:a,props:s,accessCache:l,type:u,appContext:c}=t;let d;if("$"!==e[0]){const r=l[e];if(void 0!==r)switch(r){case 1:return o[e];case 2:return a[e];case 4:return n[e];case 3:return s[e]}else{if(o!==i.kT&&(0,i.RI)(o,e))return l[e]=1,o[e];if(a!==i.kT&&(0,i.RI)(a,e))return l[e]=2,a[e];if((d=t.propsOptions[0])&&(0,i.RI)(d,e))return l[e]=3,s[e];if(n!==i.kT&&(0,i.RI)(n,e))return l[e]=4,n[e];Qt&&(l[e]=0)}}const h=Jt[e];let f,p;return h?("$attrs"===e&&(0,r.j)(t,"get",e),h(t)):(f=u.__cssModules)&&(f=f[e])?f:n!==i.kT&&(0,i.RI)(n,e)?(l[e]=4,n[e]):(p=c.config.globalProperties,(0,i.RI)(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:r,setupState:o,ctx:a}=t;return o!==i.kT&&(0,i.RI)(o,e)?(o[e]=n,!0):r!==i.kT&&(0,i.RI)(r,e)?(r[e]=n,!0):!(0,i.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(a[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:a}},s){let l;return!!n[s]||t!==i.kT&&(0,i.RI)(t,s)||e!==i.kT&&(0,i.RI)(e,s)||(l=a[0])&&(0,i.RI)(l,s)||(0,i.RI)(r,s)||(0,i.RI)(Jt,s)||(0,i.RI)(o.config.globalProperties,s)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,i.RI)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Qt=!0;function te(t){const e=ie(t),n=t.proxy,o=t.ctx;Qt=!1,e.beforeCreate&&ne(e.beforeCreate,t,"bc");const{data:a,computed:s,methods:l,watch:u,provide:c,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:x,render:S,renderTracked:M,renderTriggered:E,errorCaptured:T,serverPrefetch:A,expose:C,inheritAttrs:O,components:k,directives:P,filters:L}=e,I=null;if(d&&ee(d,o,I,t.appContext.config.unwrapInjectedRef),l)for(const r in l){const t=l[r];(0,i.mf)(t)&&(o[r]=t.bind(n))}if(a){0;const e=a.call(n,n);0,(0,i.Kn)(e)&&(t.data=(0,r.qj)(e))}if(Qt=!0,s)for(const r in s){const t=s[r],e=(0,i.mf)(t)?t.bind(n,n):(0,i.mf)(t.get)?t.get.bind(n,n):i.dG;0;const a=!(0,i.mf)(t)&&(0,i.mf)(t.set)?t.set.bind(n):i.dG,l=Gn({get:e,set:a});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(u)for(const r in u)re(u[r],o,n,r);if(c){const t=(0,i.mf)(c)?c.call(n):c;Reflect.ownKeys(t).forEach((e=>{Z(e,t[e])}))}function D(t,e){(0,i.kJ)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(h&&ne(h,t,"c"),D(Tt,f),D(At,p),D(Ct,m),D(Ot,g),D(yt,v),D(bt,y),D(Rt,T),D(Dt,M),D(It,E),D(kt,_),D(Pt,x),D(Lt,A),(0,i.kJ)(C))if(C.length){const e=t.exposed||(t.exposed={});C.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===i.dG&&(t.render=S),null!=O&&(t.inheritAttrs=O),k&&(t.components=k),P&&(t.directives=P)}function ee(t,e,n=i.dG,o=!1){(0,i.kJ)(t)&&(t=ue(t));for(const a in t){const n=t[a];let s;s=(0,i.Kn)(n)?"default"in n?J(n.from||a,n.default,!0):J(n.from||a):J(n),(0,r.dq)(s)&&o?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>s.value,set:t=>s.value=t}):e[a]=s}}function ne(t,e,n){s((0,i.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function re(t,e,n,r){const o=r.includes(".")?nt(n,r):()=>n[r];if((0,i.HD)(t)){const n=e[t];(0,i.mf)(n)&&Q(o,n)}else if((0,i.mf)(t))Q(o,t.bind(n));else if((0,i.Kn)(t))if((0,i.kJ)(t))t.forEach((t=>re(t,e,n,r)));else{const r=(0,i.mf)(t.handler)?t.handler.bind(n):e[t.handler];(0,i.mf)(r)&&Q(o,r,t)}else 0}function ie(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,s=o.get(e);let l;return s?l=s:i.length||n||r?(l={},i.length&&i.forEach((t=>oe(l,t,a,!0))),oe(l,e,a)):l=e,o.set(e,l),l}function oe(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&oe(t,o,n,!0),i&&i.forEach((e=>oe(t,e,n,!0)));for(const a in e)if(r&&"expose"===a);else{const r=ae[a]||n&&n[a];t[a]=r?r(t[a],e[a]):e[a]}return t}const ae={data:se,props:de,emits:de,methods:de,computed:de,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:de,directives:de,watch:he,provide:se,inject:le};function se(t,e){return e?t?function(){return(0,i.l7)((0,i.mf)(t)?t.call(this,this):t,(0,i.mf)(e)?e.call(this,this):e)}:e:t}function le(t,e){return de(ue(t),ue(e))}function ue(t){if((0,i.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ce(t,e){return t?[...new Set([].concat(t,e))]:e}function de(t,e){return t?(0,i.l7)((0,i.l7)(Object.create(null),t),e):e}function he(t,e){if(!t)return e;if(!e)return t;const n=(0,i.l7)(Object.create(null),t);for(const r in e)n[r]=ce(t[r],e[r]);return n}function fe(t,e,n,o=!1){const a={},s={};(0,i.Nj)(s,cn,1),t.propsDefaults=Object.create(null),me(t,e,a,s);for(const r in t.propsOptions[0])r in a||(a[r]=void 0);n?t.props=o?a:(0,r.Um)(a):t.type.props?t.props=a:t.props=s,t.attrs=s}function pe(t,e,n,o){const{props:a,attrs:s,vnode:{patchFlag:l}}=t,u=(0,r.IU)(a),[c]=t.propsOptions;let d=!1;if(!(o||l>0)||16&l){let r;me(t,e,a,s)&&(d=!0);for(const o in u)e&&((0,i.RI)(e,o)||(r=(0,i.rs)(o))!==o&&(0,i.RI)(e,r))||(c?!n||void 0===n[o]&&void 0===n[r]||(a[o]=ge(c,u,o,void 0,t,!0)):delete a[o]);if(s!==u)for(const t in s)e&&(0,i.RI)(e,t)||(delete s[t],d=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(B(t.emitsOptions,o))continue;const l=e[o];if(c)if((0,i.RI)(s,o))l!==s[o]&&(s[o]=l,d=!0);else{const e=(0,i._A)(o);a[e]=ge(c,u,e,l,t,!1)}else l!==s[o]&&(s[o]=l,d=!0)}}d&&(0,r.X$)(t,"set","$attrs")}function me(t,e,n,o){const[a,s]=t.propsOptions;let l,u=!1;if(e)for(let r in e){if((0,i.Gg)(r))continue;const c=e[r];let d;a&&(0,i.RI)(a,d=(0,i._A)(r))?s&&s.includes(d)?(l||(l={}))[d]=c:n[d]=c:B(t.emitsOptions,r)||r in o&&c===o[r]||(o[r]=c,u=!0)}if(s){const e=(0,r.IU)(n),o=l||i.kT;for(let r=0;r<s.length;r++){const l=s[r];n[l]=ge(a,e,l,o[l],t,!(0,i.RI)(o,l))}}return u}function ge(t,e,n,r,o,a){const s=t[n];if(null!=s){const t=(0,i.RI)(s,"default");if(t&&void 0===r){const t=s.default;if(s.type!==Function&&(0,i.mf)(t)){const{propsDefaults:i}=o;n in i?r=i[n]:(kn(o),r=i[n]=t.call(null,e),Pn())}else r=t}s[0]&&(a&&!t?r=!1:!s[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function ve(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const a=t.props,s={},l=[];let u=!1;if(!(0,i.mf)(t)){const r=t=>{u=!0;const[n,r]=ve(t,e,!0);(0,i.l7)(s,n),r&&l.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!a&&!u)return r.set(t,i.Z6),i.Z6;if((0,i.kJ)(a))for(let d=0;d<a.length;d++){0;const t=(0,i._A)(a[d]);ye(t)&&(s[t]=i.kT)}else if(a){0;for(const t in a){const e=(0,i._A)(t);if(ye(e)){const n=a[t],r=s[e]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:n;if(r){const t=we(Boolean,r.type),n=we(String,r.type);r[0]=t>-1,r[1]=n<0||t<n,(t>-1||(0,i.RI)(r,"default"))&&l.push(e)}}}}const c=[s,l];return r.set(t,c),c}function ye(t){return"$"!==t[0]}function be(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function _e(t,e){return be(t)===be(e)}function we(t,e){return(0,i.kJ)(e)?e.findIndex((e=>_e(e,t))):(0,i.mf)(e)&&_e(e,t)?0:-1}const xe=t=>"_"===t[0]||"$stable"===t,Se=t=>(0,i.kJ)(t)?t.map(_n):[_n(t)],Me=(t,e,n)=>{if(e._n)return e;const r=V(((...t)=>Se(e(...t))),n);return r._c=!1,r},Ee=(t,e,n)=>{const r=t._ctx;for(const o in t){if(xe(o))continue;const n=t[o];if((0,i.mf)(n))e[o]=Me(o,n,r);else if(null!=n){0;const t=Se(n);e[o]=()=>t}}},Te=(t,e)=>{const n=Se(e);t.slots.default=()=>n},Ae=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,r.IU)(e),(0,i.Nj)(e,"_",n)):Ee(e,t.slots={})}else t.slots={},e&&Te(t,e);(0,i.Nj)(t.slots,cn,1)},Ce=(t,e,n)=>{const{vnode:r,slots:o}=t;let a=!0,s=i.kT;if(32&r.shapeFlag){const t=e._;t?n&&1===t?a=!1:((0,i.l7)(o,e),n||1!==t||delete o._):(a=!e.$stable,Ee(e,o)),s=e}else e&&(Te(t,e),s={default:1});if(a)for(const i in o)xe(i)||i in s||delete o[i]};function Oe(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ke=0;function Pe(t,e){return function(n,r=null){(0,i.mf)(n)||(n=Object.assign({},n)),null==r||(0,i.Kn)(r)||(r=null);const o=Oe(),a=new Set;let s=!1;const l=o.app={_uid:ke++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Yn,get config(){return o.config},set config(t){0},use(t,...e){return a.has(t)||(t&&(0,i.mf)(t.install)?(a.add(t),t.install(l,...e)):(0,i.mf)(t)&&(a.add(t),t(l,...e))),l},mixin(t){return o.mixins.includes(t)||o.mixins.push(t),l},component(t,e){return e?(o.components[t]=e,l):o.components[t]},directive(t,e){return e?(o.directives[t]=e,l):o.directives[t]},mount(i,a,u){if(!s){0;const c=pn(n,r);return c.appContext=o,a&&e?e(c,i):t(c,i,u),s=!0,l._container=i,i.__vue_app__=l,Un(c.component)||c.component.proxy}},unmount(){s&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return o.provides[t]=e,l}};return l}}function Le(t,e,n,o,s=!1){if((0,i.kJ)(t))return void t.forEach(((t,r)=>Le(t,e&&((0,i.kJ)(e)?e[r]:e),n,o,s)));if(mt(o)&&!s)return;const l=4&o.shapeFlag?Un(o.component)||o.component.proxy:o.el,u=s?null:l,{i:c,r:d}=t;const h=e&&e.r,f=c.refs===i.kT?c.refs={}:c.refs,p=c.setupState;if(null!=h&&h!==d&&((0,i.HD)(h)?(f[h]=null,(0,i.RI)(p,h)&&(p[h]=null)):(0,r.dq)(h)&&(h.value=null)),(0,i.mf)(d))a(d,c,12,[u,f]);else{const e=(0,i.HD)(d),o=(0,r.dq)(d);if(e||o){const r=()=>{if(t.f){const n=e?f[d]:d.value;s?(0,i.kJ)(n)&&(0,i.Od)(n,l):(0,i.kJ)(n)?n.includes(l)||n.push(l):e?(f[d]=[l],(0,i.RI)(p,d)&&(p[d]=f[d])):(d.value=[l],t.k&&(f[t.k]=d.value))}else e?(f[d]=u,(0,i.RI)(p,d)&&(p[d]=u)):o&&(d.value=u,t.k&&(f[t.k]=u))};u?(r.id=-1,De(r,n)):r()}else 0}}function Ie(){}const De=Y;function Re(t){return Ne(t)}function Ne(t,e){Ie();const n=(0,i.E9)();n.__VUE__=!0;const{insert:o,remove:a,patchProp:s,createElement:l,createText:u,createComment:c,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:m=i.dG,cloneNode:g,insertStaticContent:v}=t,y=(t,e,n,r=null,i=null,o=null,a=!1,s=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!un(t,e)&&(r=Q(t),X(t,i,o,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=e;switch(u){case Ye:b(t,e,n,r);break;case Ze:_(t,e,n,r);break;case Je:null==t&&w(e,n,r,a);break;case Xe:R(t,e,n,r,i,o,a,s,l);break;default:1&d?M(t,e,n,r,i,o,a,s,l):6&d?N(t,e,n,r,i,o,a,s,l):(64&d||128&d)&&u.process(t,e,n,r,i,o,a,s,l,et)}null!=c&&i&&Le(c,t&&t.ref,o,e||t,!e)},b=(t,e,n,r)=>{if(null==t)o(e.el=u(e.children),n,r);else{const n=e.el=t.el;e.children!==t.children&&d(n,e.children)}},_=(t,e,n,r)=>{null==t?o(e.el=c(e.children||""),n,r):e.el=t.el},w=(t,e,n,r)=>{[t.el,t.anchor]=v(t.children,e,n,r,t.el,t.anchor)},x=({el:t,anchor:e},n,r)=>{let i;while(t&&t!==e)i=p(t),o(t,n,r),t=i;o(e,n,r)},S=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=p(t),a(t),t=n;a(e)},M=(t,e,n,r,i,o,a,s,l)=>{a=a||"svg"===e.type,null==t?T(e,n,r,i,o,a,s,l):k(t,e,i,o,a,s,l)},T=(t,e,n,r,a,u,c,d)=>{let f,p;const{type:m,props:v,shapeFlag:y,transition:b,patchFlag:_,dirs:w}=t;if(t.el&&void 0!==g&&-1===_)f=t.el=g(t.el);else{if(f=t.el=l(t.type,u,v&&v.is,v),8&y?h(f,t.children):16&y&&O(t.children,f,null,r,a,u&&"foreignObject"!==m,c,d),w&&Bt(t,null,r,"created"),v){for(const e in v)"value"===e||(0,i.Gg)(e)||s(f,e,null,v[e],u,t.children,r,a,K);"value"in v&&s(f,"value",null,v.value),(p=v.onVnodeBeforeMount)&&Mn(p,r,t)}C(f,t,t.scopeId,c,r)}w&&Bt(t,null,r,"beforeMount");const x=(!a||a&&!a.pendingBranch)&&b&&!b.persisted;x&&b.beforeEnter(f),o(f,e,n),((p=v&&v.onVnodeMounted)||x||w)&&De((()=>{p&&Mn(p,r,t),x&&b.enter(f),w&&Bt(t,null,r,"mounted")}),a)},C=(t,e,n,r,i)=>{if(n&&m(t,n),r)for(let o=0;o<r.length;o++)m(t,r[o]);if(i){let n=i.subTree;if(e===n){const e=i.vnode;C(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},O=(t,e,n,r,i,o,a,s,l=0)=>{for(let u=l;u<t.length;u++){const l=t[u]=s?wn(t[u]):_n(t[u]);y(null,l,e,n,r,i,o,a,s)}},k=(t,e,n,r,o,a,l)=>{const u=e.el=t.el;let{patchFlag:c,dynamicChildren:d,dirs:f}=e;c|=16&t.patchFlag;const p=t.props||i.kT,m=e.props||i.kT;let g;n&&Be(n,!1),(g=m.onVnodeBeforeUpdate)&&Mn(g,n,e,t),f&&Bt(e,t,n,"beforeUpdate"),n&&Be(n,!0);const v=o&&"foreignObject"!==e.type;if(d?I(t.dynamicChildren,d,u,n,r,v,a):l||V(t,e,u,null,n,r,v,a,!1),c>0){if(16&c)D(u,e,p,m,n,r,o);else if(2&c&&p.class!==m.class&&s(u,"class",null,m.class,o),4&c&&s(u,"style",p.style,m.style,o),8&c){const i=e.dynamicProps;for(let e=0;e<i.length;e++){const a=i[e],l=p[a],c=m[a];c===l&&"value"!==a||s(u,a,l,c,o,t.children,n,r,K)}}1&c&&t.children!==e.children&&h(u,e.children)}else l||null!=d||D(u,e,p,m,n,r,o);((g=m.onVnodeUpdated)||f)&&De((()=>{g&&Mn(g,n,e,t),f&&Bt(e,t,n,"updated")}),r)},I=(t,e,n,r,i,o,a)=>{for(let s=0;s<e.length;s++){const l=t[s],u=e[s],c=l.el&&(l.type===Xe||!un(l,u)||70&l.shapeFlag)?f(l.el):n;y(l,u,c,null,r,i,o,a,!0)}},D=(t,e,n,r,o,a,l)=>{if(n!==r){for(const u in r){if((0,i.Gg)(u))continue;const c=r[u],d=n[u];c!==d&&"value"!==u&&s(t,u,d,c,l,e.children,o,a,K)}if(n!==i.kT)for(const u in n)(0,i.Gg)(u)||u in r||s(t,u,n[u],null,l,e.children,o,a,K);"value"in r&&s(t,"value",n.value,r.value)}},R=(t,e,n,r,i,a,s,l,c)=>{const d=e.el=t?t.el:u(""),h=e.anchor=t?t.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=e;m&&(l=l?l.concat(m):m),null==t?(o(d,n,r),o(h,n,r),O(e.children,n,h,i,a,s,l,c)):f>0&&64&f&&p&&t.dynamicChildren?(I(t.dynamicChildren,p,n,i,a,s,l),(null!=e.key||i&&e===i.subTree)&&Fe(t,e,!0)):V(t,e,n,h,i,a,s,l,c)},N=(t,e,n,r,i,o,a,s,l)=>{e.slotScopeIds=s,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,a,l):B(e,n,r,i,o,a,l):F(t,e,l)},B=(t,e,n,r,i,o,a)=>{const s=t.component=An(t,r,i);if(gt(t)&&(s.ctx.renderer=et),Nn(s),s.asyncDep){if(i&&i.registerDep(s,j),!t.el){const t=s.subTree=pn(Ze);_(null,t,e,n)}}else j(s,t,e,n,i,o,a)},F=(t,e,n)=>{const r=e.component=t.component;if(G(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void z(r,e,n);r.next=e,A(r.update),r.update()}else e.el=t.el,r.vnode=e},j=(t,e,n,o,a,s,l)=>{const u=()=>{if(t.isMounted){let e,{next:n,bu:r,u:o,parent:u,vnode:c}=t,d=n;0,Be(t,!1),n?(n.el=c.el,z(t,n,l)):n=c,r&&(0,i.ir)(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Mn(e,u,n,c),Be(t,!0);const h=U(t);0;const p=t.subTree;t.subTree=h,y(p,h,f(p.el),Q(p),t,a,s),n.el=h.el,null===d&&$(t,h.el),o&&De(o,a),(e=n.props&&n.props.onVnodeUpdated)&&De((()=>Mn(e,u,n,c)),a)}else{let r;const{el:l,props:u}=e,{bm:c,m:d,parent:h}=t,f=mt(e);if(Be(t,!1),c&&(0,i.ir)(c),!f&&(r=u&&u.onVnodeBeforeMount)&&Mn(r,h,e),Be(t,!0),l&&rt){const n=()=>{t.subTree=U(t),rt(l,t.subTree,t,a,null)};f?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const r=t.subTree=U(t);0,y(null,r,n,o,t,a,s),e.el=r.el}if(d&&De(d,a),!f&&(r=u&&u.onVnodeMounted)){const t=e;De((()=>Mn(r,h,t)),a)}(256&e.shapeFlag||h&&mt(h.vnode)&&256&h.vnode.shapeFlag)&&t.a&&De(t.a,a),t.isMounted=!0,e=n=o=null}},c=t.effect=new r.qq(u,(()=>E(d)),t.scope),d=t.update=()=>c.run();d.id=t.uid,Be(t,!0),d()},z=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,pe(t,e.props,i,n),Ce(t,e.children,n),(0,r.Jd)(),P(void 0,t.update),(0,r.lk)()},V=(t,e,n,r,i,o,a,s,l=!1)=>{const u=t&&t.children,c=t?t.shapeFlag:0,d=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void W(u,d,n,r,i,o,a,s,l);if(256&f)return void H(u,d,n,r,i,o,a,s,l)}8&p?(16&c&&K(u,i,o),d!==u&&h(n,d)):16&c?16&p?W(u,d,n,r,i,o,a,s,l):K(u,i,o,!0):(8&c&&h(n,""),16&p&&O(d,n,r,i,o,a,s,l))},H=(t,e,n,r,o,a,s,l,u)=>{t=t||i.Z6,e=e||i.Z6;const c=t.length,d=e.length,h=Math.min(c,d);let f;for(f=0;f<h;f++){const r=e[f]=u?wn(e[f]):_n(e[f]);y(t[f],r,n,null,o,a,s,l,u)}c>d?K(t,o,a,!0,!1,h):O(e,n,r,o,a,s,l,u,h)},W=(t,e,n,r,o,a,s,l,u)=>{let c=0;const d=e.length;let h=t.length-1,f=d-1;while(c<=h&&c<=f){const r=t[c],i=e[c]=u?wn(e[c]):_n(e[c]);if(!un(r,i))break;y(r,i,n,null,o,a,s,l,u),c++}while(c<=h&&c<=f){const r=t[h],i=e[f]=u?wn(e[f]):_n(e[f]);if(!un(r,i))break;y(r,i,n,null,o,a,s,l,u),h--,f--}if(c>h){if(c<=f){const t=f+1,i=t<d?e[t].el:r;while(c<=f)y(null,e[c]=u?wn(e[c]):_n(e[c]),n,i,o,a,s,l,u),c++}}else if(c>f)while(c<=h)X(t[c],o,a,!0),c++;else{const p=c,m=c,g=new Map;for(c=m;c<=f;c++){const t=e[c]=u?wn(e[c]):_n(e[c]);null!=t.key&&g.set(t.key,c)}let v,b=0;const _=f-m+1;let w=!1,x=0;const S=new Array(_);for(c=0;c<_;c++)S[c]=0;for(c=p;c<=h;c++){const r=t[c];if(b>=_){X(r,o,a,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(v=m;v<=f;v++)if(0===S[v-m]&&un(r,e[v])){i=v;break}void 0===i?X(r,o,a,!0):(S[i-m]=c+1,i>=x?x=i:w=!0,y(r,e[i],n,null,o,a,s,l,u),b++)}const M=w?je(S):i.Z6;for(v=M.length-1,c=_-1;c>=0;c--){const t=m+c,i=e[t],h=t+1<d?e[t+1].el:r;0===S[c]?y(null,i,n,h,o,a,s,l,u):w&&(v<0||c!==M[v]?q(i,n,h,2):v--)}}},q=(t,e,n,r,i=null)=>{const{el:a,type:s,transition:l,children:u,shapeFlag:c}=t;if(6&c)return void q(t.component.subTree,e,n,r);if(128&c)return void t.suspense.move(e,n,r);if(64&c)return void s.move(t,e,n,et);if(s===Xe){o(a,e,n);for(let t=0;t<u.length;t++)q(u[t],e,n,r);return void o(t.anchor,e,n)}if(s===Je)return void x(t,e,n);const d=2!==r&&1&c&&l;if(d)if(0===r)l.beforeEnter(a),o(a,e,n),De((()=>l.enter(a)),i);else{const{leave:t,delayLeave:r,afterLeave:i}=l,s=()=>o(a,e,n),u=()=>{t(a,(()=>{s(),i&&i()}))};r?r(a,s,u):u()}else o(a,e,n)},X=(t,e,n,r=!1,i=!1)=>{const{type:o,props:a,ref:s,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:d,dirs:h}=t;if(null!=s&&Le(s,null,n,t,!0),256&c)return void e.ctx.deactivate(t);const f=1&c&&h,p=!mt(t);let m;if(p&&(m=a&&a.onVnodeBeforeUnmount)&&Mn(m,e,t),6&c)J(t.component,n,r);else{if(128&c)return void t.suspense.unmount(n,r);f&&Bt(t,null,e,"beforeUnmount"),64&c?t.type.remove(t,e,n,i,et,r):u&&(o!==Xe||d>0&&64&d)?K(u,e,n,!1,!0):(o===Xe&&384&d||!i&&16&c)&&K(l,e,n),r&&Y(t)}(p&&(m=a&&a.onVnodeUnmounted)||f)&&De((()=>{m&&Mn(m,e,t),f&&Bt(t,null,e,"unmounted")}),n)},Y=t=>{const{type:e,el:n,anchor:r,transition:i}=t;if(e===Xe)return void Z(n,r);if(e===Je)return void S(t);const o=()=>{a(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:r}=i,a=()=>e(n,o);r?r(t.el,o,a):a()}else o()},Z=(t,e)=>{let n;while(t!==e)n=p(t),a(t),t=n;a(e)},J=(t,e,n)=>{const{bum:r,scope:o,update:a,subTree:s,um:l}=t;r&&(0,i.ir)(r),o.stop(),a&&(a.active=!1,X(s,t,e,n)),l&&De(l,e),De((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},K=(t,e,n,r=!1,i=!1,o=0)=>{for(let a=o;a<t.length;a++)X(t[a],e,n,r,i)},Q=t=>6&t.shapeFlag?Q(t.component.subTree):128&t.shapeFlag?t.suspense.next():p(t.anchor||t.el),tt=(t,e,n)=>{null==t?e._vnode&&X(e._vnode,null,null,!0):y(e._vnode||null,t,e,null,null,null,n),L(),e._vnode=t},et={p:y,um:X,m:q,r:Y,mt:B,mc:O,pc:V,pbc:I,n:Q,o:t};let nt,rt;return e&&([nt,rt]=e(et)),{render:tt,hydrate:nt,createApp:Pe(tt,nt)}}function Be({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Fe(t,e,n=!1){const r=t.children,o=e.children;if((0,i.kJ)(r)&&(0,i.kJ)(o))for(let i=0;i<r.length;i++){const t=r[i];let e=o[i];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[i]=wn(o[i]),e.el=t.el),n||Fe(t,e))}}function je(t){const e=t.slice(),n=[0];let r,i,o,a,s;const l=t.length;for(r=0;r<l;r++){const l=t[r];if(0!==l){if(i=n[n.length-1],t[i]<l){e[r]=i,n.push(r);continue}o=0,a=n.length-1;while(o<a)s=o+a>>1,t[n[s]]<l?o=s+1:a=s;l<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,a=n[o-1];while(o-- >0)n[o]=a,a=e[a];return n}const ze=t=>t.__isTeleport,Ve=t=>t&&(t.disabled||""===t.disabled),Ue=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,He=(t,e)=>{const n=t&&t.to;if((0,i.HD)(n)){if(e){const t=e(n);return t}return null}return n},We={__isTeleport:!0,process(t,e,n,r,i,o,a,s,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:g}}=u,v=Ve(e.props);let{shapeFlag:y,children:b,dynamicChildren:_}=e;if(null==t){const t=e.el=m(""),u=e.anchor=m("");f(t,n,r),f(u,n,r);const d=e.target=He(e.props,p),h=e.targetAnchor=m("");d&&(f(h,d),a=a||Ue(d));const g=(t,e)=>{16&y&&c(b,t,e,i,o,a,s,l)};v?g(n,u):d&&g(d,h)}else{e.el=t.el;const r=e.anchor=t.anchor,c=e.target=t.target,f=e.targetAnchor=t.targetAnchor,m=Ve(t.props),g=m?n:c,y=m?r:f;if(a=a||Ue(c),_?(h(t.dynamicChildren,_,g,i,o,a,s),Fe(t,e,!0)):l||d(t,e,g,y,i,o,a,s,!1),v)m||Ge(e,n,r,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=He(e.props,p);t&&Ge(e,t,null,u,0)}else m&&Ge(e,c,f,u,1)}},remove(t,e,n,r,{um:i,o:{remove:o}},a){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:d,props:h}=t;if(d&&o(c),(a||!Ve(h))&&(o(u),16&s))for(let f=0;f<l.length;f++){const t=l[f];i(t,e,n,!0,!!t.dynamicChildren)}},move:Ge,hydrate:qe};function Ge(t,e,n,{o:{insert:r},m:i},o=2){0===o&&r(t.targetAnchor,e,n);const{el:a,anchor:s,shapeFlag:l,children:u,props:c}=t,d=2===o;if(d&&r(a,e,n),(!d||Ve(c))&&16&l)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(s,e,n)}function qe(t,e,n,r,i,o,{o:{nextSibling:a,parentNode:s,querySelector:l}},u){const c=e.target=He(e.props,l);if(c){const l=c._lpa||c.firstChild;if(16&e.shapeFlag)if(Ve(e.props))e.anchor=u(a(t),e,s(t),n,r,i,o),e.targetAnchor=l;else{e.anchor=a(t);let s=l;while(s)if(s=a(s),s&&8===s.nodeType&&"teleport anchor"===s.data){e.targetAnchor=s,c._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(l,e,c,n,r,i,o)}}return e.anchor&&a(e.anchor)}const $e=We,Xe=Symbol(void 0),Ye=Symbol(void 0),Ze=Symbol(void 0),Je=Symbol(void 0),Ke=[];let Qe=null;function tn(t=!1){Ke.push(Qe=t?null:[])}function en(){Ke.pop(),Qe=Ke[Ke.length-1]||null}let nn=1;function rn(t){nn+=t}function on(t){return t.dynamicChildren=nn>0?Qe||i.Z6:null,en(),nn>0&&Qe&&Qe.push(t),t}function an(t,e,n,r,i,o){return on(fn(t,e,n,r,i,o,!0))}function sn(t,e,n,r,i){return on(pn(t,e,n,r,i,!0))}function ln(t){return!!t&&!0===t.__v_isVNode}function un(t,e){return t.type===e.type&&t.key===e.key}const cn="__vInternal",dn=({key:t})=>null!=t?t:null,hn=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,i.HD)(t)||(0,r.dq)(t)||(0,i.mf)(t)?{i:F,r:t,k:e,f:!!n}:t:null;function fn(t,e=null,n=null,r=0,o=null,a=(t===Xe?0:1),s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&dn(e),ref:e&&hn(e),scopeId:j,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(xn(u,n),128&a&&t.normalize(u)):n&&(u.shapeFlag|=(0,i.HD)(n)?8:16),nn>0&&!s&&Qe&&(u.patchFlag>0||6&a)&&32!==u.patchFlag&&Qe.push(u),u}const pn=mn;function mn(t,e=null,n=null,o=0,a=null,s=!1){if(t&&t!==Vt||(t=Ze),ln(t)){const r=vn(t,e,!0);return n&&xn(r,n),nn>0&&!s&&Qe&&(6&r.shapeFlag?Qe[Qe.indexOf(t)]=r:Qe.push(r)),r.patchFlag|=-2,r}if(Wn(t)&&(t=t.__vccOpts),e){e=gn(e);let{class:t,style:n}=e;t&&!(0,i.HD)(t)&&(e.class=(0,i.C_)(t)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),e.style=(0,i.j5)(n))}const l=(0,i.HD)(t)?1:X(t)?128:ze(t)?64:(0,i.Kn)(t)?4:(0,i.mf)(t)?2:0;return fn(t,e,n,o,a,l,s,!0)}function gn(t){return t?(0,r.X3)(t)||cn in t?(0,i.l7)({},t):t:null}function vn(t,e,n=!1){const{props:r,ref:o,patchFlag:a,children:s}=t,l=e?Sn(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&dn(l),ref:e&&e.ref?n&&o?(0,i.kJ)(o)?o.concat(hn(e)):[o,hn(e)]:hn(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xe?-1===a?16:16|a:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vn(t.ssContent),ssFallback:t.ssFallback&&vn(t.ssFallback),el:t.el,anchor:t.anchor};return u}function yn(t=" ",e=0){return pn(Ye,null,t,e)}function bn(t="",e=!1){return e?(tn(),sn(Ze,null,t)):pn(Ze,null,t)}function _n(t){return null==t||"boolean"===typeof t?pn(Ze):(0,i.kJ)(t)?pn(Xe,null,t.slice()):"object"===typeof t?wn(t):pn(Ye,null,String(t))}function wn(t){return null===t.el||t.memo?t:vn(t)}function xn(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if((0,i.kJ)(e))n=16;else if("object"===typeof e){if(65&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),xn(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||cn in e?3===r&&F&&(1===F.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=F}}else(0,i.mf)(e)?(e={default:e,_ctx:F},n=32):(e=String(e),64&r?(n=16,e=[yn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Sn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=(0,i.C_)([e.class,r.class]));else if("style"===t)e.style=(0,i.j5)([e.style,r.style]);else if((0,i.F7)(t)){const n=e[t],o=r[t];!o||n===o||(0,i.kJ)(n)&&n.includes(o)||(e[t]=n?[].concat(n,o):o)}else""!==t&&(e[t]=r[t])}return e}function Mn(t,e,n,r=null){s(t,e,7,[n,r])}const En=Oe();let Tn=0;function An(t,e,n){const o=t.type,a=(e?e.appContext:t.appContext)||En,s={uid:Tn++,vnode:t,type:o,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ve(o,a),emitsOptions:N(o,a),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:o.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=R.bind(null,s),t.ce&&t.ce(s),s}let Cn=null;const On=()=>Cn||F,kn=t=>{Cn=t,t.scope.on()},Pn=()=>{Cn&&Cn.scope.off(),Cn=null};function Ln(t){return 4&t.vnode.shapeFlag}let In,Dn,Rn=!1;function Nn(t,e=!1){Rn=e;const{props:n,children:r}=t.vnode,i=Ln(t);fe(t,n,i,e),Ae(t,r);const o=i?Bn(t,e):void 0;return Rn=!1,o}function Bn(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,r.Xl)(new Proxy(t.ctx,Kt));const{setup:o}=n;if(o){const n=t.setupContext=o.length>1?Vn(t):null;kn(t),(0,r.Jd)();const s=a(o,t,0,[t.props,n]);if((0,r.lk)(),Pn(),(0,i.tI)(s)){if(s.then(Pn,Pn),e)return s.then((n=>{Fn(t,n,e)})).catch((e=>{l(e,t,0)}));t.asyncDep=s}else Fn(t,s,e)}else jn(t,e)}function Fn(t,e,n){(0,i.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,i.Kn)(e)&&(t.setupState=(0,r.WL)(e)),jn(t,n)}function jn(t,e,n){const o=t.type;if(!t.render){if(!e&&In&&!o.render){const e=o.template;if(e){0;const{isCustomElement:n,compilerOptions:r}=t.appContext.config,{delimiters:a,compilerOptions:s}=o,l=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:a},r),s);o.render=In(e,l)}}t.render=o.render||i.dG,Dn&&Dn(t)}kn(t),(0,r.Jd)(),te(t),(0,r.lk)(),Pn()}function zn(t){return new Proxy(t.attrs,{get(e,n){return(0,r.j)(t,"get","$attrs"),e[n]}})}function Vn(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=zn(t))},slots:t.slots,emit:t.emit,expose:e}}function Un(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(t.exposed)),{get(e,n){return n in e?e[n]:n in Jt?Jt[n](t):void 0}}))}function Hn(t,e=!0){return(0,i.mf)(t)?t.displayName||t.name:t.name||e&&t.__name}function Wn(t){return(0,i.mf)(t)&&"__vccOpts"in t}const Gn=(t,e)=>(0,r.Fl)(t,e,Rn);function qn(){return $n().slots}function $n(){const t=On();return t.setupContext||(t.setupContext=Vn(t))}function Xn(t,e,n){const r=arguments.length;return 2===r?(0,i.Kn)(e)&&!(0,i.kJ)(e)?ln(e)?pn(t,null,[e]):pn(t,e):pn(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&ln(n)&&(n=[n]),pn(t,e,n))}Symbol("");const Yn="3.2.37"},3862:function(t,e,n){"use strict";n.d(e,{G2:function(){return nt},bM:function(){return rt},e8:function(){return tt},iM:function(){return ut},ri:function(){return ft},uT:function(){return B}});n(6699);var r=n(7139),i=n(3396);n(4870);const o="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,s=a&&a.createElement("template"),l={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?a.createElementNS(o,t):a.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>a.createTextNode(t),createComment:t=>a.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>a.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,i,o){const a=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(e.insertBefore(i.cloneNode(!0),n),i===o||!(i=i.nextSibling))break}else{s.innerHTML=r?`<svg>${t}</svg>`:t;const i=s.content;if(r){const t=i.firstChild;while(t.firstChild)i.appendChild(t.firstChild);i.removeChild(t)}e.insertBefore(i,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function u(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function c(t,e,n){const i=t.style,o=(0,r.HD)(n);if(n&&!o){for(const t in n)h(i,t,n[t]);if(e&&!(0,r.HD)(e))for(const t in e)null==n[t]&&h(i,t,"")}else{const r=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=r)}}const d=/\s*!important$/;function h(t,e,n){if((0,r.kJ)(n))n.forEach((n=>h(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=m(t,e);d.test(n)?t.setProperty((0,r.rs)(i),n.replace(d,""),"important"):t[i]=n}}const f=["Webkit","Moz","ms"],p={};function m(t,e){const n=p[e];if(n)return n;let i=(0,r._A)(e);if("filter"!==i&&i in t)return p[e]=i;i=(0,r.kC)(i);for(let r=0;r<f.length;r++){const n=f[r]+i;if(n in t)return p[e]=n}return e}const g="http://www.w3.org/1999/xlink";function v(t,e,n,i,o){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(g,e.slice(6,e.length)):t.setAttributeNS(g,e,n);else{const i=(0,r.Pq)(e);null==n||i&&!(0,r.yA)(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function y(t,e,n,i,o,a,s){if("innerHTML"===e||"textContent"===e)return i&&s(i,o,a),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const r=null==n?"":n;return t.value===r&&"OPTION"!==t.tagName||(t.value=r),void(null==n&&t.removeAttribute(e))}let l=!1;if(""===n||null==n){const i=typeof t[e];"boolean"===i?n=(0,r.yA)(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{t[e]=n}catch(u){0}l&&t.removeAttribute(e)}const[b,_]=(()=>{let t=Date.now,e=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let w=0;const x=Promise.resolve(),S=()=>{w=0},M=()=>w||(x.then(S),w=b());function E(t,e,n,r){t.addEventListener(e,n,r)}function T(t,e,n,r){t.removeEventListener(e,n,r)}function A(t,e,n,r,i=null){const o=t._vei||(t._vei={}),a=o[e];if(r&&a)a.value=r;else{const[n,s]=O(e);if(r){const a=o[e]=k(r,i);E(t,n,a,s)}else a&&(T(t,n,a,s),o[e]=void 0)}}const C=/(?:Once|Passive|Capture)$/;function O(t){let e;if(C.test(t)){let n;e={};while(n=t.match(C))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[(0,r.rs)(t.slice(2)),e]}function k(t,e){const n=t=>{const r=t.timeStamp||b();(_||r>=n.attached-1)&&(0,i.$d)(P(t,n.value),e,5,[t])};return n.value=t,n.attached=M(),n}function P(t,e){if((0,r.kJ)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const L=/^on[a-z]/,I=(t,e,n,i,o=!1,a,s,l,d)=>{"class"===e?u(t,i,o):"style"===e?c(t,n,i):(0,r.F7)(e)?(0,r.tR)(e)||A(t,e,n,i,s):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):D(t,e,i,o))?y(t,e,i,a,s,l,d):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),v(t,e,i,o))};function D(t,e,n,i){return i?"innerHTML"===e||"textContent"===e||!!(e in t&&L.test(e)&&(0,r.mf)(n)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!L.test(e)||!(0,r.HD)(n))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const R="transition",N="animation",B=(t,{slots:e})=>(0,i.h)(i.P$,V(t),e);B.displayName="Transition";const F={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},j=(B.props=(0,r.l7)({},i.P$.props,F),(t,e=[])=>{(0,r.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)}),z=t=>!!t&&((0,r.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function V(t){const e={};for(const r in t)r in F||(e[r]=t[r]);if(!1===t.css)return e;const{name:n="v",type:i,duration:o,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=a,appearActiveClass:c=s,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=U(o),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:x,onBeforeAppear:S=y,onAppear:M=b,onAppearCancelled:E=_}=e,T=(t,e,n)=>{G(t,e?d:l),G(t,e?c:s),n&&n()},A=(t,e)=>{t._isLeaving=!1,G(t,h),G(t,p),G(t,f),e&&e()},C=t=>(e,n)=>{const r=t?M:b,o=()=>T(e,t,n);j(r,[e,o]),q((()=>{G(e,t?u:a),W(e,t?d:l),z(r)||X(e,i,g,o)}))};return(0,r.l7)(e,{onBeforeEnter(t){j(y,[t]),W(t,a),W(t,s)},onBeforeAppear(t){j(S,[t]),W(t,u),W(t,c)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>A(t,e);W(t,h),K(),W(t,f),q((()=>{t._isLeaving&&(G(t,h),W(t,p),z(w)||X(t,i,v,n))})),j(w,[t,n])},onEnterCancelled(t){T(t,!1),j(_,[t])},onAppearCancelled(t){T(t,!0),j(E,[t])},onLeaveCancelled(t){A(t),j(x,[t])}})}function U(t){if(null==t)return null;if((0,r.Kn)(t))return[H(t.enter),H(t.leave)];{const e=H(t);return[e,e]}}function H(t){const e=(0,r.He)(t);return e}function W(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function G(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function q(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let $=0;function X(t,e,n,r){const i=t._endId=++$,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=Y(t,e);if(!a)return r();const u=a+"end";let c=0;const d=()=>{t.removeEventListener(u,h),o()},h=e=>{e.target===t&&++c>=l&&d()};setTimeout((()=>{c<l&&d()}),s+1),t.addEventListener(u,h)}function Y(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r(R+"Delay"),o=r(R+"Duration"),a=Z(i,o),s=r(N+"Delay"),l=r(N+"Duration"),u=Z(s,l);let c=null,d=0,h=0;e===R?a>0&&(c=R,d=a,h=o.length):e===N?u>0&&(c=N,d=u,h=l.length):(d=Math.max(a,u),c=d>0?a>u?R:N:null,h=c?c===R?o.length:l.length:0);const f=c===R&&/\b(transform|all)(,|$)/.test(n[R+"Property"]);return{type:c,timeout:d,propCount:h,hasTransform:f}}function Z(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>J(e)+J(t[n]))))}function J(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function K(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Q=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,r.kJ)(e)?t=>(0,r.ir)(e,t):e};const tt={deep:!0,created(t,e,n){t._assign=Q(n),E(t,"change",(()=>{const e=t._modelValue,n=ot(t),i=t.checked,o=t._assign;if((0,r.kJ)(e)){const t=(0,r.hq)(e,n),a=-1!==t;if(i&&!a)o(e.concat(n));else if(!i&&a){const n=[...e];n.splice(t,1),o(n)}}else if((0,r.DM)(e)){const t=new Set(e);i?t.add(n):t.delete(n),o(t)}else o(at(t,i))}))},mounted:et,beforeUpdate(t,e,n){t._assign=Q(n),et(t,e,n)}};function et(t,{value:e,oldValue:n},i){t._modelValue=e,(0,r.kJ)(e)?t.checked=(0,r.hq)(e,i.props.value)>-1:(0,r.DM)(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=(0,r.WV)(e,at(t,!0)))}const nt={created(t,{value:e},n){t.checked=(0,r.WV)(e,n.props.value),t._assign=Q(n),E(t,"change",(()=>{t._assign(ot(t))}))},beforeUpdate(t,{value:e,oldValue:n},i){t._assign=Q(i),e!==n&&(t.checked=(0,r.WV)(e,i.props.value))}},rt={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const o=(0,r.DM)(e);E(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?(0,r.He)(ot(t)):ot(t)));t._assign(t.multiple?o?new Set(e):e:e[0])})),t._assign=Q(i)},mounted(t,{value:e}){it(t,e)},beforeUpdate(t,e,n){t._assign=Q(n)},updated(t,{value:e}){it(t,e)}};function it(t,e){const n=t.multiple;if(!n||(0,r.kJ)(e)||(0,r.DM)(e)){for(let i=0,o=t.options.length;i<o;i++){const o=t.options[i],a=ot(o);if(n)(0,r.kJ)(e)?o.selected=(0,r.hq)(e,a)>-1:o.selected=e.has(a);else if((0,r.WV)(ot(o),e))return void(t.selectedIndex!==i&&(t.selectedIndex=i))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function ot(t){return"_value"in t?t._value:t.value}function at(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const st=["ctrl","shift","alt","meta"],lt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>st.some((n=>t[`${n}Key`]&&!e.includes(n)))},ut=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=lt[e[t]];if(r&&r(n,e))return}return t(n,...r)};const ct=(0,r.l7)({patchProp:I},l);let dt;function ht(){return dt||(dt=(0,i.Us)(ct))}const ft=(...t)=>{const e=ht().createApp(...t);const{mount:n}=e;return e.mount=t=>{const i=pt(t);if(!i)return;const o=e._component;(0,r.mf)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function pt(t){if((0,r.HD)(t)){const e=document.querySelector(t);return e}return t}},7139:function(t,e,n){"use strict";n.d(e,{C_:function(){return f},DM:function(){return I},E9:function(){return it},F7:function(){return E},Gg:function(){return G},HD:function(){return N},He:function(){return nt},Kn:function(){return F},NO:function(){return S},Nj:function(){return et},Od:function(){return C},PO:function(){return H},Pq:function(){return s},RI:function(){return k},S0:function(){return W},W7:function(){return U},WV:function(){return g},Z6:function(){return w},_A:function(){return X},_N:function(){return L},aU:function(){return Q},dG:function(){return x},e1:function(){return o},fY:function(){return r},hR:function(){return K},hq:function(){return v},ir:function(){return tt},j5:function(){return u},kC:function(){return J},kJ:function(){return P},kT:function(){return _},l7:function(){return A},mf:function(){return R},rs:function(){return Z},tI:function(){return j},tR:function(){return T},vs:function(){return p},yA:function(){return l},yk:function(){return B},zw:function(){return y}});n(5941);function r(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=r(i);const a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s=r(a);function l(t){return!!t||""===t}function u(t){if(P(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=N(r)?h(r):u(r);if(i)for(const t in i)e[t]=i[t]}return e}return N(t)||F(t)?t:void 0}const c=/;(?![^(]*\))/g,d=/:(.+)/;function h(t){const e={};return t.split(c).forEach((t=>{if(t){const n=t.split(d);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function f(t){let e="";if(N(t))e=t;else if(P(t))for(let n=0;n<t.length;n++){const r=f(t[n]);r&&(e+=r+" ")}else if(F(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function p(t){if(!t)return null;let{class:e,style:n}=t;return e&&!N(e)&&(t.class=f(e)),n&&(t.style=u(n)),t}function m(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=g(t[r],e[r]);return n}function g(t,e){if(t===e)return!0;let n=D(t),r=D(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=B(t),r=B(e),n||r)return t===e;if(n=P(t),r=P(e),n||r)return!(!n||!r)&&m(t,e);if(n=F(t),r=F(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!g(t[n],e[n]))return!1}}return String(t)===String(e)}function v(t,e){return t.findIndex((t=>g(t,e)))}const y=t=>N(t)?t:null==t?"":P(t)||F(t)&&(t.toString===z||!R(t.toString))?JSON.stringify(t,b,2):String(t),b=(t,e)=>e&&e.__v_isRef?b(t,e.value):L(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:I(e)?{[`Set(${e.size})`]:[...e.values()]}:!F(e)||P(e)||H(e)?e:String(e),_={},w=[],x=()=>{},S=()=>!1,M=/^on[^a-z]/,E=t=>M.test(t),T=t=>t.startsWith("onUpdate:"),A=Object.assign,C=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},O=Object.prototype.hasOwnProperty,k=(t,e)=>O.call(t,e),P=Array.isArray,L=t=>"[object Map]"===V(t),I=t=>"[object Set]"===V(t),D=t=>"[object Date]"===V(t),R=t=>"function"===typeof t,N=t=>"string"===typeof t,B=t=>"symbol"===typeof t,F=t=>null!==t&&"object"===typeof t,j=t=>F(t)&&R(t.then)&&R(t.catch),z=Object.prototype.toString,V=t=>z.call(t),U=t=>V(t).slice(8,-1),H=t=>"[object Object]"===V(t),W=t=>N(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,G=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),q=t=>{const e=Object.create(null);return n=>{const r=e[n];return r||(e[n]=t(n))}},$=/-(\w)/g,X=q((t=>t.replace($,((t,e)=>e?e.toUpperCase():"")))),Y=/\B([A-Z])/g,Z=q((t=>t.replace(Y,"-$1").toLowerCase())),J=q((t=>t.charAt(0).toUpperCase()+t.slice(1))),K=q((t=>t?`on${J(t)}`:"")),Q=(t,e)=>!Object.is(t,e),tt=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},et=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},nt=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let rt;const it=()=>rt||(rt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},5130:function(t,e,n){"use strict";var r=n(6027),i=n(5941);function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(1703);var s,l,u=n(3326),c=u.codes,d=c.ERR_AMBIGUOUS_ARGUMENT,h=c.ERR_INVALID_ARG_TYPE,f=c.ERR_INVALID_ARG_VALUE,p=c.ERR_INVALID_RETURN_VALUE,m=c.ERR_MISSING_ARGS,g=n(1891),v=n(9242),y=v.inspect,b=n(9242).types,_=b.isPromise,w=b.isRegExp,x=Object.assign?Object.assign:n(336).assign,S=Object.is?Object.is:n(7004);new Map;function M(){var t=n(3184);s=t.isDeepEqual,l=t.isDeepStrictEqual}var E=!1,T=t.exports=P,A={};function C(t){if(t.message instanceof Error)throw t.message;throw new g(t)}function O(t,e,n,o,a){var s,l=arguments.length;if(0===l)s="Failed";else if(1===l)n=t,t=void 0;else{if(!1===E){E=!0;var u=r.emitWarning?r.emitWarning:i.warn.bind(i);u("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===l&&(o="!=")}if(n instanceof Error)throw n;var c={actual:t,expected:e,operator:void 0===o?"fail":o,stackStartFn:a||O};void 0!==n&&(c.message=n);var d=new g(c);throw s&&(d.message=s,d.generatedMessage=!0),d}function k(t,e,n,r){if(!n){var i=!1;if(0===e)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var o=new g({actual:n,expected:!0,message:r,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function P(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];k.apply(void 0,[P,e.length].concat(e))}function L(t,e,n){if(arguments.length<2)throw new m("actual","expected");void 0===s&&M(),l(t,e)&&C({actual:t,expected:e,message:n,operator:"notDeepStrictEqual",stackStartFn:L})}T.fail=O,T.AssertionError=g,T.ok=P,T.equal=function t(e,n,r){if(arguments.length<2)throw new m("actual","expected");e!=n&&C({actual:e,expected:n,message:r,operator:"==",stackStartFn:t})},T.notEqual=function t(e,n,r){if(arguments.length<2)throw new m("actual","expected");e==n&&C({actual:e,expected:n,message:r,operator:"!=",stackStartFn:t})},T.deepEqual=function t(e,n,r){if(arguments.length<2)throw new m("actual","expected");void 0===s&&M(),s(e,n)||C({actual:e,expected:n,message:r,operator:"deepEqual",stackStartFn:t})},T.notDeepEqual=function t(e,n,r){if(arguments.length<2)throw new m("actual","expected");void 0===s&&M(),s(e,n)&&C({actual:e,expected:n,message:r,operator:"notDeepEqual",stackStartFn:t})},T.deepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new m("actual","expected");void 0===s&&M(),l(e,n)||C({actual:e,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:t})},T.notDeepStrictEqual=L,T.strictEqual=function t(e,n,r){if(arguments.length<2)throw new m("actual","expected");S(e,n)||C({actual:e,expected:n,message:r,operator:"strictEqual",stackStartFn:t})},T.notStrictEqual=function t(e,n,r){if(arguments.length<2)throw new m("actual","expected");S(e,n)&&C({actual:e,expected:n,message:r,operator:"notStrictEqual",stackStartFn:t})};var I=function t(e,n,r){var i=this;a(this,t),n.forEach((function(t){t in e&&(void 0!==r&&"string"===typeof r[t]&&w(e[t])&&e[t].test(r[t])?i[t]=r[t]:i[t]=e[t])}))};function D(t,e,n,r,i,o){if(!(n in t)||!l(t[n],e[n])){if(!r){var a=new I(t,i),s=new I(e,i,t),u=new g({actual:a,expected:s,operator:"deepStrictEqual",stackStartFn:o});throw u.actual=t,u.expected=e,u.operator=o.name,u}C({actual:t,expected:e,message:r,operator:o.name,stackStartFn:o})}}function R(t,e,n,r){if("function"!==typeof e){if(w(e))return e.test(t);if(2===arguments.length)throw new h("expected",["Function","RegExp"],e);if("object"!==o(t)||null===t){var i=new g({actual:t,expected:e,message:n,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(0===a.length)throw new f("error",e,"may not be an empty object");return void 0===s&&M(),a.forEach((function(i){"string"===typeof t[i]&&w(e[i])&&e[i].test(t[i])||D(t,e,i,n,a,r)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function N(t){if("function"!==typeof t)throw new h("fn","Function",t);try{t()}catch(e){return e}return A}function B(t){return _(t)||null!==t&&"object"===o(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function F(t){return Promise.resolve().then((function(){var e;if("function"===typeof t){if(e=t(),!B(e))throw new p("instance of Promise","promiseFn",e)}else{if(!B(t))throw new h("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return A})).catch((function(t){return t}))}))}function j(t,e,n,r){if("string"===typeof n){if(4===arguments.length)throw new h("error",["Object","Error","Function","RegExp"],n);if("object"===o(e)&&null!==e){if(e.message===n)throw new d("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===n)throw new d("error/message",'The error "'.concat(e,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==o(n)&&"function"!==typeof n)throw new h("error",["Object","Error","Function","RegExp"],n);if(e===A){var i="";n&&n.name&&(i+=" (".concat(n.name,")")),i+=r?": ".concat(r):".";var a="rejects"===t.name?"rejection":"exception";C({actual:void 0,expected:n,operator:t.name,message:"Missing expected ".concat(a).concat(i),stackStartFn:t})}if(n&&!R(e,n,r,t))throw e}function z(t,e,n,r){if(e!==A){if("string"===typeof n&&(r=n,n=void 0),!n||R(e,n)){var i=r?": ".concat(r):".",o="doesNotReject"===t.name?"rejection":"exception";C({actual:e,expected:n,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function V(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];k.apply(void 0,[V,e.length].concat(e))}T.throws=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];j.apply(void 0,[t,N(e)].concat(r))},T.rejects=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return F(e).then((function(e){return j.apply(void 0,[t,e].concat(r))}))},T.doesNotThrow=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];z.apply(void 0,[t,N(e)].concat(r))},T.doesNotReject=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return F(e).then((function(e){return z.apply(void 0,[t,e].concat(r))}))},T.ifError=function t(e){if(null!==e&&void 0!==e){var n="ifError got unwanted exception: ";"object"===o(e)&&"string"===typeof e.message?0===e.message.length&&e.constructor?n+=e.constructor.name:n+=e.message:n+=y(e);var r=new g({actual:e,expected:null,operator:"ifError",message:n,stackStartFn:t}),i=e.stack;if("string"===typeof i){var a=i.split("\n");a.shift();for(var s=r.stack.split("\n"),l=0;l<a.length;l++){var u=s.indexOf(a[l]);if(-1!==u){s=s.slice(0,u);break}}r.stack="".concat(s.join("\n"),"\n").concat(a.join("\n"))}throw r}},T.strict=x(V,T,{equal:T.strictEqual,deepEqual:T.deepStrictEqual,notEqual:T.notStrictEqual,notDeepEqual:T.notDeepStrictEqual}),T.strict.strict=T.strict},1891:function(t,e,n){"use strict";var r=n(6027);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function h(t){var e="function"===typeof Map?new Map:void 0;return h=function(t){if(null===t||!m(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return p(t,arguments,v(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,t)},h(t)}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t,e,n){return p=f()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=Function.bind.apply(t,r),o=new i;return n&&g(o,n.prototype),o},p.apply(null,arguments)}function m(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}n(1703);var b=n(9242),_=b.inspect,w=n(3326),x=w.codes.ERR_INVALID_ARG_TYPE;function S(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}function M(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var n=t.length*e;e=Math.floor(Math.log(e)/Math.log(2));while(e)t+=t,e--;return t+=t.substring(0,n-t.length),t}var E="",T="",A="",C="",O={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},k=10;function P(t){var e=Object.keys(t),n=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){n[e]=t[e]})),Object.defineProperty(n,"message",{value:t.message}),n}function L(t){return _(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(t,e,n){var i="",o="",a=0,s="",l=!1,u=L(t),c=u.split("\n"),d=L(e).split("\n"),h=0,f="";if("strictEqual"===n&&"object"===y(t)&&"object"===y(e)&&null!==t&&null!==e&&(n="strictEqualObject"),1===c.length&&1===d.length&&c[0]!==d[0]){var p=c[0].length+d[0].length;if(p<=k){if(("object"!==y(t)||null===t)&&("object"!==y(e)||null===e)&&(0!==t||0!==e))return"".concat(O[n],"\n\n")+"".concat(c[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==n){var m=r.stderr&&r.stderr.isTTY?r.stderr.columns:80;if(p<m){while(c[0][h]===d[0][h])h++;h>2&&(f="\n  ".concat(M(" ",h),"^"),h=0)}}}var g=c[c.length-1],v=d[d.length-1];while(g===v){if(h++<2?s="\n  ".concat(g).concat(s):i=g,c.pop(),d.pop(),0===c.length||0===d.length)break;g=c[c.length-1],v=d[d.length-1]}var b=Math.max(c.length,d.length);if(0===b){var _=u.split("\n");if(_.length>30){_[26]="".concat(E,"...").concat(C);while(_.length>27)_.pop()}return"".concat(O.notIdentical,"\n\n").concat(_.join("\n"),"\n")}h>3&&(s="\n".concat(E,"...").concat(C).concat(s),l=!0),""!==i&&(s="\n  ".concat(i).concat(s),i="");var w=0,x=O[n]+"\n".concat(T,"+ actual").concat(C," ").concat(A,"- expected").concat(C),P=" ".concat(E,"...").concat(C," Lines skipped");for(h=0;h<b;h++){var I=h-a;if(c.length<h+1)I>1&&h>2&&(I>4?(o+="\n".concat(E,"...").concat(C),l=!0):I>3&&(o+="\n  ".concat(d[h-2]),w++),o+="\n  ".concat(d[h-1]),w++),a=h,i+="\n".concat(A,"-").concat(C," ").concat(d[h]),w++;else if(d.length<h+1)I>1&&h>2&&(I>4?(o+="\n".concat(E,"...").concat(C),l=!0):I>3&&(o+="\n  ".concat(c[h-2]),w++),o+="\n  ".concat(c[h-1]),w++),a=h,o+="\n".concat(T,"+").concat(C," ").concat(c[h]),w++;else{var D=d[h],R=c[h],N=R!==D&&(!S(R,",")||R.slice(0,-1)!==D);N&&S(D,",")&&D.slice(0,-1)===R&&(N=!1,R+=","),N?(I>1&&h>2&&(I>4?(o+="\n".concat(E,"...").concat(C),l=!0):I>3&&(o+="\n  ".concat(c[h-2]),w++),o+="\n  ".concat(c[h-1]),w++),a=h,o+="\n".concat(T,"+").concat(C," ").concat(R),i+="\n".concat(A,"-").concat(C," ").concat(D),w+=2):(o+=i,i="",1!==I&&0!==h||(o+="\n  ".concat(R),w++))}if(w>20&&h<b-2)return"".concat(x).concat(P,"\n").concat(o,"\n").concat(E,"...").concat(C).concat(i,"\n")+"".concat(E,"...").concat(C)}return"".concat(x).concat(l?P:"","\n").concat(o).concat(i).concat(s).concat(f)}var D=function(t){function e(t){var n;if(a(this,e),"object"!==y(t)||null===t)throw new x("options","Object",t);var i=t.message,o=t.operator,s=t.stackStartFn,l=t.actual,d=t.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)n=u(this,v(e).call(this,String(i)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(E="[34m",T="[32m",C="[39m",A="[31m"):(E="",T="",C="",A="")),"object"===y(l)&&null!==l&&"object"===y(d)&&null!==d&&"stack"in l&&l instanceof Error&&"stack"in d&&d instanceof Error&&(l=P(l),d=P(d)),"deepStrictEqual"===o||"strictEqual"===o)n=u(this,v(e).call(this,I(l,d,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var f=O[o],p=L(l).split("\n");if("notStrictEqual"===o&&"object"===y(l)&&null!==l&&(f=O.notStrictEqualObject),p.length>30){p[26]="".concat(E,"...").concat(C);while(p.length>27)p.pop()}n=1===p.length?u(this,v(e).call(this,"".concat(f," ").concat(p[0]))):u(this,v(e).call(this,"".concat(f,"\n\n").concat(p.join("\n"),"\n")))}else{var m=L(l),g="",b=O[o];"notDeepEqual"===o||"notEqual"===o?(m="".concat(O[o],"\n\n").concat(m),m.length>1024&&(m="".concat(m.slice(0,1021),"..."))):(g="".concat(L(d)),m.length>512&&(m="".concat(m.slice(0,509),"...")),g.length>512&&(g="".concat(g.slice(0,509),"...")),"deepEqual"===o||"equal"===o?m="".concat(b,"\n\n").concat(m,"\n\nshould equal\n\n"):g=" ".concat(o," ").concat(g)),n=u(this,v(e).call(this,"".concat(m).concat(g)))}return Error.stackTraceLimit=h,n.generatedMessage=!i,Object.defineProperty(c(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=l,n.expected=d,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(c(n),s),n.stack,n.name="AssertionError",u(n)}return d(e,t),l(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:_.custom,value:function(t,e){return _(this,i({},e,{customInspect:!1,depth:0}))}}]),e}(h(Error));t.exports=D},3326:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}n(1703);var c,d,h={};function f(t,e,n){function r(t,n,r){return"string"===typeof e?e:e(t,n,r)}n||(n=Error);var a=function(e){function n(e,a,l){var u;return i(this,n),u=o(this,s(n).call(this,r(e,a,l))),u.code=t,u}return l(n,e),n}(n);h[t]=a}function p(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function m(t,e,n){return t.substr(!n||n<0?0:+n,e.length)===e}function g(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}function v(t,e,n){return"number"!==typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}f("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),f("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,a;if(void 0===c&&(c=n(5130)),c("string"===typeof t,"'name' must be a string"),"string"===typeof e&&m(e,"not ")?(o="must not be",e=e.replace(/^not /,"")):o="must be",g(t," argument"))a="The ".concat(t," ").concat(o," ").concat(p(e,"type"));else{var s=v(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(s," ").concat(o," ").concat(p(e,"type"))}return a+=". Received type ".concat(r(i)),a}),TypeError),f("ERR_INVALID_ARG_VALUE",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===d&&(d=n(9242));var i=d.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),f("ERR_INVALID_RETURN_VALUE",(function(t,e,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),f("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];void 0===c&&(c=n(5130)),c(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments");break}return"".concat(i," must be specified")}),TypeError),t.exports.codes=h},3184:function(t,e,n){"use strict";function r(t,e){return a(t)||o(t,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){i=!0,o=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}function a(t){if(Array.isArray(t))return t}function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}n(1703),n(8675),n(3462);var l=void 0!==/a/g.flags,u=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},c=function(t){var e=[];return t.forEach((function(t,n){return e.push([n,t])})),e},d=Object.is?Object.is:n(7004),h=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:n(1185);function p(t){return t.call.bind(t)}var m=p(Object.prototype.hasOwnProperty),g=p(Object.prototype.propertyIsEnumerable),v=p(Object.prototype.toString),y=n(9242).types,b=y.isAnyArrayBuffer,_=y.isArrayBufferView,w=y.isDate,x=y.isMap,S=y.isRegExp,M=y.isSet,E=y.isNativeError,T=y.isBoxedPrimitive,A=y.isNumberObject,C=y.isStringObject,O=y.isBooleanObject,k=y.isBigIntObject,P=y.isSymbolObject,L=y.isFloat32Array,I=y.isFloat64Array;function D(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function R(t){return Object.keys(t).filter(D).concat(h(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}var B=void 0,F=!0,j=!1,z=0,V=1,U=2,H=3;function W(t,e){return l?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function G(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}function q(t,e){return t.byteLength===e.byteLength&&0===N(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function $(t,e){return t.byteLength===e.byteLength&&0===N(new Uint8Array(t),new Uint8Array(e))}function X(t,e){return A(t)?A(e)&&d(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):C(t)?C(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):O(t)?O(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):k(t)?k(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):P(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function Y(t,e,n,r){if(t===e)return 0!==t||(!n||d(t,e));if(n){if("object"!==s(t))return"number"===typeof t&&f(t)&&f(e);if("object"!==s(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==s(t))return(null===e||"object"!==s(e))&&t==e;if(null===e||"object"!==s(e))return!1}var i=v(t),o=v(e);if(i!==o)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var a=R(t,B),l=R(e,B);return a.length===l.length&&J(t,e,n,r,V,a)}if("[object Object]"===i&&(!x(t)&&x(e)||!M(t)&&M(e)))return!1;if(w(t)){if(!w(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(S(t)){if(!S(e)||!W(t,e))return!1}else if(E(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(_(t)){if(n||!L(t)&&!I(t)){if(!q(t,e))return!1}else if(!G(t,e))return!1;var u=R(t,B),c=R(e,B);return u.length===c.length&&J(t,e,n,r,z,u)}if(M(t))return!(!M(e)||t.size!==e.size)&&J(t,e,n,r,U);if(x(t))return!(!x(e)||t.size!==e.size)&&J(t,e,n,r,H);if(b(t)){if(!$(t,e))return!1}else if(T(t)&&!X(t,e))return!1}return J(t,e,n,r,z)}function Z(t,e){return e.filter((function(e){return g(t,e)}))}function J(t,e,n,r,i,o){if(5===arguments.length){o=Object.keys(t);var a=Object.keys(e);if(o.length!==a.length)return!1}for(var s=0;s<o.length;s++)if(!m(e,o[s]))return!1;if(n&&5===arguments.length){var l=h(t);if(0!==l.length){var u=0;for(s=0;s<l.length;s++){var c=l[s];if(g(t,c)){if(!g(e,c))return!1;o.push(c),u++}else if(g(e,c))return!1}var d=h(e);if(l.length!==d.length&&Z(e,d).length!==u)return!1}else{var f=h(e);if(0!==f.length&&0!==Z(e,f).length)return!1}}if(0===o.length&&(i===z||i===V&&0===t.length||0===t.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var p=r.val1.get(t);if(void 0!==p){var v=r.val2.get(e);if(void 0!==v)return p===v}r.position++}r.val1.set(t,r.position),r.val2.set(e,r.position);var y=ot(t,e,n,o,r,i);return r.val1.delete(t),r.val2.delete(e),y}function K(t,e,n,r){for(var i=u(t),o=0;o<i.length;o++){var a=i[o];if(Y(e,a,n,r))return t.delete(a),!0}return!1}function Q(t){switch(s(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(f(t))return!1}return!0}function tt(t,e,n){var r=Q(n);return null!=r?r:e.has(r)&&!t.has(r)}function et(t,e,n,r,i){var o=Q(n);if(null!=o)return o;var a=e.get(o);return!(void 0===a&&!e.has(o)||!Y(r,a,!1,i))&&(!t.has(o)&&Y(r,a,!1,i))}function nt(t,e,n,r){for(var i=null,o=u(t),a=0;a<o.length;a++){var l=o[a];if("object"===s(l)&&null!==l)null===i&&(i=new Set),i.add(l);else if(!e.has(l)){if(n)return!1;if(!tt(t,e,l))return!1;null===i&&(i=new Set),i.add(l)}}if(null!==i){for(var c=u(e),d=0;d<c.length;d++){var h=c[d];if("object"===s(h)&&null!==h){if(!K(i,h,n,r))return!1}else if(!n&&!t.has(h)&&!K(i,h,n,r))return!1}return 0===i.size}return!0}function rt(t,e,n,r,i,o){for(var a=u(t),s=0;s<a.length;s++){var l=a[s];if(Y(n,l,i,o)&&Y(r,e.get(l),i,o))return t.delete(l),!0}return!1}function it(t,e,n,i){for(var o=null,a=c(t),l=0;l<a.length;l++){var u=r(a[l],2),d=u[0],h=u[1];if("object"===s(d)&&null!==d)null===o&&(o=new Set),o.add(d);else{var f=e.get(d);if(void 0===f&&!e.has(d)||!Y(h,f,n,i)){if(n)return!1;if(!et(t,e,d,h,i))return!1;null===o&&(o=new Set),o.add(d)}}}if(null!==o){for(var p=c(e),m=0;m<p.length;m++){var g=r(p[m],2),v=(d=g[0],g[1]);if("object"===s(d)&&null!==d){if(!rt(o,t,d,v,n,i))return!1}else if(!n&&(!t.has(d)||!Y(t.get(d),v,!1,i))&&!rt(o,t,d,v,!1,i))return!1}return 0===o.size}return!0}function ot(t,e,n,r,i,o){var a=0;if(o===U){if(!nt(t,e,n,i))return!1}else if(o===H){if(!it(t,e,n,i))return!1}else if(o===V)for(;a<t.length;a++){if(!m(t,a)){if(m(e,a))return!1;for(var s=Object.keys(t);a<s.length;a++){var l=s[a];if(!m(e,l)||!Y(t[l],e[l],n,i))return!1}return s.length===Object.keys(e).length}if(!m(e,a)||!Y(t[a],e[a],n,i))return!1}for(a=0;a<r.length;a++){var u=r[a];if(!Y(t[u],e[u],n,i))return!1}return!0}function at(t,e){return Y(t,e,j)}function st(t,e){return Y(t,e,F)}t.exports={isDeepEqual:at,isDeepStrictEqual:st}},936:function(t,e,n){"use strict";n.d(e,{ZP:function(){return Wl}});n(1703),n(6699);var r=n(3396),i=n(7139),o=n(4870),a=n(3862),s=n(434),l=n.n(s),u=n(4313),c=n.n(u),d=n(1957),h=n.n(d),f=n(681),p=n.n(f),m=n(7972),g=n.n(m),v=n(4032),y=n.n(v),b=n(4810),_=n.n(b),w=n(2649),x=n.n(w),S=n(5941),M=Object.defineProperty,E=Object.defineProperties,T=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,k=(t,e,n)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||(e={}))C.call(e,n)&&k(t,n,e[n]);if(A)for(var n of A(e))O.call(e,n)&&k(t,n,e[n]);return t},L=(t,e)=>E(t,T(e));function I(t=""){return`__BVID__${Math.random().toString().substr(2,6)}___BV_${t}__`}function D(t,e){return(0,r.Fl)((()=>t||I(e)))}var R=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const N=Symbol(),B=(0,r.aZ)({name:"BAccordion",props:{flush:{type:Boolean,default:!1},free:{type:Boolean,default:!1},id:{type:String,default:void 0}},setup(t){const e=D(t.id,"accordion"),n=(0,r.Fl)((()=>({"accordion-flush":t.flush})));return t.free||(0,r.JJ)(N,`${e.value}`),{computedId:e,classes:n}}}),F=["id"];function j(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",{id:t.computedId,class:(0,i.C_)(["accordion",t.classes])},[(0,r.WI)(t.$slots,"default")],10,F)}var z=R(B,[["render",j]]);function V(t,e,n){(0,r.bv)((()=>{var r;null==(r=null==t?void 0:t.value)||r.addEventListener(e,n)})),(0,r.Jd)((()=>{var r;null==(r=null==t?void 0:t.value)||r.removeEventListener(e,n)}))}const U=(0,r.aZ)({name:"BCollapse",props:{accordion:{type:String,required:!1},id:{type:String,default:I()},modelValue:{type:Boolean,default:!1},tag:{type:String,default:"div"},toggle:{type:Boolean,default:!1},visible:{type:Boolean,default:!1}},emits:["update:modelValue","show","shown","hide","hidden"],setup(t,{emit:e}){const n=(0,o.iH)(),i=(0,o.iH)(),a=(0,r.Fl)((()=>({show:t.modelValue}))),s=()=>e("update:modelValue",!1);return V(n,"show.bs.collapse",(()=>{e("show"),e("update:modelValue",!0)})),V(n,"hide.bs.collapse",(()=>{e("hide"),e("update:modelValue",!1)})),V(n,"shown.bs.collapse",(()=>e("shown"))),V(n,"hidden.bs.collapse",(()=>e("hidden"))),(0,r.bv)((()=>{var r;i.value=new(l())(n.value,{parent:t.accordion?`#${t.accordion}`:void 0,toggle:t.toggle}),(t.visible||t.modelValue)&&(e("update:modelValue",!0),null==(r=i.value)||r.show())})),(0,r.YP)((()=>t.modelValue),(t=>{var e,n;t?null==(e=i.value)||e.show():null==(n=i.value)||n.hide()})),(0,r.YP)((()=>t.visible),(t=>{var n,r;t?(e("update:modelValue",!!t),null==(n=i.value)||n.show()):(e("update:modelValue",!!t),null==(r=i.value)||r.hide())})),{element:n,classes:a,close:s}}});function H(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{id:t.id,ref:"element",class:(0,i.C_)(["collapse",t.classes]),"data-bs-parent":t.accordion||null},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default",{visible:t.modelValue,close:t.close})])),_:3},8,["id","class","data-bs-parent"])}var W=R(U,[["render",H]]);const G=/_/g,q=/([a-z])([A-Z])/g,$=/(\s|^)(\w)/,X=/\s+/,Y=/^#/,Z=/^#[A-Za-z]+[\w\-:.]*$/,J=(t,e)=>-1!==t.indexOf(e),K=(...t)=>Array.from([...t]),Q=(...t)=>Array.prototype.concat.apply([],t),tt="undefined"!==typeof window,et="undefined"!==typeof document,nt="undefined"!==typeof navigator,rt=tt&&et&&nt,it=et?document:{},ot=tt?window.Element:class extends Object{},at=tt?window.HTMLElement:class extends ot{},st=/^[0-9]*\.?[0-9]+$/,lt=t=>"boolean"===gt(t),ut=t=>null!==t&&"object"===typeof t,ct=t=>"string"===typeof t,dt=t=>void 0===t,ht=t=>null===t,ft=t=>dt(t)||ht(t),pt=t=>st.test(String(t)),mt=t=>"number"===typeof t,gt=t=>typeof t,vt=t=>"function"===gt(t),yt=t=>"[object Object]"===Object.prototype.toString.call(t),bt=t=>Array.isArray(t),_t=(t,e=2)=>ft(t)?"":bt(t)||yt(t)&&t.toString===Object.prototype.toString?JSON.stringify(t,null,e):String(t),wt=t=>t.replace(G," ").replace(q,((t,e,n)=>`${e} ${n}`)).replace($,((t,e,n)=>e+n.toUpperCase())),xt=t=>(t=ct(t)?t.trim():String(t),t.charAt(0).toUpperCase()+t.slice(1)),St=t=>!(!t||t.nodeType!==Node.ELEMENT_NODE),Mt=t=>St(t)?t.getBoundingClientRect():null,Et=(t=[])=>{const{activeElement:e}=document;return e&&!t.some((t=>t===e))?e:null},Tt=t=>St(t)&&t===Et(),At=(t,e={})=>{try{t.focus(e)}catch(n){S.error(n)}return Tt(t)},Ct=(t,e)=>e&&St(t)&&t.getAttribute(e)||null,Ot=t=>{if("none"===Ct(t,"display"))return!1;const e=Mt(t);return!!(e&&e.height>0&&e.width>0)},kt=(t,e)=>!t||t(e).filter((t=>t.type!==r.sv)).length<1,Pt=(t,e)=>(St(e)?e:it).querySelector(t)||null,Lt=(t,e)=>K((St(e)?e:it).querySelectorAll(t)),It=(t,e)=>e&&St(t)?t.getAttribute(e):null,Dt=(t,e,n)=>{e&&St(t)&&t.setAttribute(e,n)},Rt=(t,e)=>{e&&St(t)&&t.removeAttribute(e)},Nt=(t,e)=>_t(t).toLowerCase()===_t(e).toLowerCase(),Bt=tt?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||(t=>setTimeout(t,16)):t=>setTimeout(t,0);function Ft(t){if(t.classList.contains("offcanvas"))return"offcanvas";if(t.classList.contains("collapse"))return"collapse";throw Error("Couldn't resolve toggle type")}const jt=(t,e)=>{const{modifiers:n,arg:r,value:i}=t,o=Object.keys(n||{}),a=ct(i)?i.split(X):i;if(Nt(e.tagName,"a")){const t=It(e,"href")||"";Z.test(t)&&o.push(t.replace(Y,""))}return Q(r,a).forEach((t=>ct(t)&&o.push(t))),o.filter(((t,e,n)=>t&&n.indexOf(t)===e))},zt={mounted(t,e){const n=jt(e,t),r=[];let i="data-bs-target";"a"===t.tagName&&(i="href");for(let o=0;o<n.length;o++){const e=n[o],i=document.getElementById(e);i&&(t.setAttribute("data-bs-toggle",Ft(i)),r.push(`#${e}`))}r.length>0&&t.setAttribute(i,r.join(","))}},Vt=(0,r.aZ)({name:"BAccordionItem",components:{BCollapse:W},directives:{BToggle:zt},props:{title:{type:String},id:{type:String},visible:{type:Boolean,default:!1}},setup(t){const e=D(t.id,"accordion_item"),n=(0,r.f3)(N,"");return{parent:n,computedId:e}}}),Ut={class:"accordion-item"},Ht=["id"],Wt=["aria-expanded","aria-controls"],Gt={class:"accordion-body"};function qt(t,e,n,o,a,s){const l=(0,r.up)("b-collapse"),u=(0,r.Q2)("b-toggle");return(0,r.wg)(),(0,r.iD)("div",Ut,[(0,r._)("h2",{id:`${t.computedId}heading`,class:"accordion-header"},[(0,r.wy)(((0,r.wg)(),(0,r.iD)("button",{class:(0,i.C_)(["accordion-button",{collapsed:!t.visible}]),type:"button","aria-expanded":t.visible?"true":"false","aria-controls":t.computedId},[(0,r.WI)(t.$slots,"title",{},(()=>[(0,r.Uk)((0,i.zw)(t.title),1)]))],10,Wt)),[[u,void 0,t.computedId]])],8,Ht),(0,r.Wm)(l,{id:t.computedId,class:"accordion-collapse",visible:t.visible,accordion:t.parent,"aria-labelledby":`heading${t.computedId}`},{default:(0,r.w5)((()=>[(0,r._)("div",Gt,[(0,r.WI)(t.$slots,"default")])])),_:3},8,["id","visible","accordion","aria-labelledby"])])}var $t=R(Vt,[["render",qt]]);const Xt=(t,e=NaN)=>Number.isInteger(t)?t:e,Yt=(t,e=NaN)=>{const n=parseInt(t,10);return isNaN(n)?e:n},Zt=(t,e=NaN)=>{const n=parseFloat(t.toString());return isNaN(n)?e:n},Jt=(0,r.aZ)({name:"BAlert",props:{dismissLabel:{type:String,default:"Close"},dismissible:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},modelValue:{type:[Boolean,Number],default:!1},show:{type:Boolean,default:!1},variant:{type:String,default:"info"}},emits:["dismissed","dismiss-count-down","update:modelValue"],setup(t,{emit:e}){const n=(0,o.iH)(),i=(0,o.iH)(),a=(0,r.Fl)((()=>({[`alert-${t.variant}`]:t.variant,show:t.modelValue,"alert-dismissible":t.dismissible,fade:t.modelValue})));let s=0;const l=t=>{if("boolean"===typeof t)return 0;const e=Xt(t,0);return e>0?e:0},u=()=>{void 0!==s&&(clearTimeout(s),s=void 0)},d=(0,o.iH)(l(t.modelValue)),h=(0,r.Fl)((()=>t.modelValue||t.show));(0,r.Jd)((()=>{var t;u(),null==(t=i.value)||t.dispose(),i.value=void 0}));const f=(0,r.Fl)((()=>!0===t.modelValue||!1!==t.modelValue&&(!(Xt(t.modelValue,0)<1)&&!!t.modelValue))),p=()=>{d.value=l(t.modelValue),!f.value&&!t.show||i.value||(i.value=new(c())(n.value))},m=()=>{"boolean"===typeof t.modelValue?e("update:modelValue",!1):e("update:modelValue",0),e("dismissed")};return(0,r.YP)((()=>t.modelValue),p),(0,r.YP)((()=>t.show),p),(0,r.YP)(d,(n=>{u(),"boolean"!==typeof t.modelValue&&(e("dismiss-count-down",n),0===n&&t.modelValue>0&&e("dismissed"),t.modelValue!==n&&e("update:modelValue",n),n>0&&(s=setTimeout((()=>{d.value--}),1e3)))})),{dismissClicked:m,isAlertVisible:h,element:n,classes:a}}}),Kt=["aria-label"];function Qt(t,e,n,o,a,s){return t.isAlertVisible?((0,r.wg)(),(0,r.iD)("div",{key:0,ref:"element",class:(0,i.C_)(["alert",t.classes]),role:"alert"},[(0,r.WI)(t.$slots,"default"),t.dismissible?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":t.dismissLabel,onClick:e[0]||(e[0]=(...e)=>t.dismissClicked&&t.dismissClicked(...e))},null,8,Kt)):(0,r.kq)("",!0)],2)):(0,r.kq)("",!0)}var te=R(Jt,[["render",Qt]]);const ee=Math.min,ne=Math.max,re=Symbol(),ie=(0,r.aZ)({name:"BAvatarGroup",props:{overlap:{type:[Number,String],default:.3},rounded:{type:[Boolean,String],default:!1},size:{type:String,required:!1},square:{type:Boolean,default:!1},tag:{type:String,default:"div"},variant:{type:String,required:!1}},setup(t){const e=(0,r.Fl)((()=>se(t.size))),n=t=>ct(t)&&pt(t)?Zt(t,0):t||0,i=(0,r.Fl)((()=>ee(ne(n(t.overlap),0),1)/2)),o=(0,r.Fl)((()=>{let{value:t}=e;return t=t?`calc(${t} * ${i.value})`:null,t?{paddingLeft:t,paddingRight:t}:{}}));return(0,r.JJ)(re,{overlapScale:i,size:t.size,square:t.square,rounded:t.rounded,variant:t.variant}),{paddingStyle:o}}});function oe(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:"b-avatar-group",role:"group"},{default:(0,r.w5)((()=>[(0,r._)("div",{class:"b-avatar-group-inner",style:(0,i.j5)(t.paddingStyle)},[(0,r.WI)(t.$slots,"default")],4)])),_:3})}var ae=R(ie,[["render",oe]]);const se=t=>{const e=ct(t)&&pt(t)?Zt(t,0):t;return mt(e)?`${e}px`:e||null},le=(0,r.aZ)({name:"BAvatar",props:{alt:{type:String,default:"avatar"},ariaLabel:{type:String,required:!1},badge:{type:[Boolean,String],default:!1},badgeLeft:{type:Boolean,default:!1},badgeOffset:{type:String,required:!1},badgeTop:{type:Boolean,default:!1},badgeVariant:{type:String,default:"primary"},button:{type:Boolean,default:!1},buttonType:{type:String,default:"button"},disabled:{type:Boolean,default:!1},icon:{type:String,required:!1},rounded:{type:[Boolean,String],default:"circle"},size:{type:[String,Number],required:!1},square:{type:Boolean,default:!1},src:{type:String,required:!1},text:{type:String,required:!1},textVariant:{type:String,default:void 0},variant:{type:String,default:"secondary"}},emits:["click","img-error"],setup(t,{emit:e,slots:n}){const i=["sm",null,"lg"],o=.4,a=.7*o,s=(0,r.f3)(re,null),l=t=>{const e=t;return"light"===e||"warning"===e?"dark":"light"},u=(0,r.Fl)((()=>!kt(n.default))),c=(0,r.Fl)((()=>!kt(n.badge))),d=(0,r.Fl)((()=>t.badge||""===t.badge||c.value)),h=(0,r.Fl)((()=>(null==s?void 0:s.size)?s.size:se(t.size))),f=(0,r.Fl)((()=>(null==s?void 0:s.variant)?s.variant:t.variant)),p=(0,r.Fl)((()=>(null==s?void 0:s.rounded)?s.rounded:t.rounded)),m=(0,r.Fl)((()=>({"aria-label":t.ariaLabel||null,disabled:t.disabled||null}))),g=(0,r.Fl)((()=>({[`bg-${t.badgeVariant}`]:t.badgeVariant}))),v=(0,r.Fl)((()=>!0===t.badge?"":t.badge)),y=(0,r.Fl)((()=>{const e=l(t.badgeVariant);return`text-${e}`})),b=(0,r.Fl)((()=>({[`b-avatar-${t.size}`]:t.size&&-1!==i.indexOf(se(t.size)),[`bg-${f.value}`]:f.value,["badge"]:!t.button&&f.value&&u.value,rounded:""===p.value||!0===p.value,["rounded-circle"]:!t.square&&"circle"===p.value,["rounded-0"]:t.square||"0"===p.value,["rounded-1"]:!t.square&&"sm"===p.value,["rounded-3"]:!t.square&&"lg"===p.value,["rounded-top"]:!t.square&&"top"===p.value,["rounded-bottom"]:!t.square&&"bottom"===p.value,["rounded-start"]:!t.square&&"left"===p.value,["rounded-end"]:!t.square&&"right"===p.value,btn:t.button,[`btn-${f.value}`]:t.button?f.value:null}))),_=(0,r.Fl)((()=>{const e=t.textVariant||l(f.value);return`text-${e}`})),w=(0,r.Fl)((()=>t.icon?t.icon:t.text||t.src?void 0:"person-fill")),x=(0,r.Fl)((()=>{const e=t.badgeOffset||"0px",n=-1===i.indexOf(h.value||null)?`calc(${h.value} * ${a})`:"";return{fontSize:n||"",top:t.badgeTop?e:"",bottom:t.badgeTop?"":e,left:t.badgeLeft?e:"",right:t.badgeLeft?"":e}})),S=(0,r.Fl)((()=>{const t=-1===i.indexOf(h.value||null)?`calc(${h.value} * ${o})`:null;return t?{fontSize:t}:{}})),M=(0,r.Fl)((()=>{var t;const e=(null==(t=null==s?void 0:s.overlapScale)?void 0:t.value)||0,n=h.value&&e?`calc(${h.value} * -${e})`:null;return n?{marginLeft:n,marginRight:n}:{}})),E=(0,r.Fl)((()=>t.button?t.buttonType:"span")),T=(0,r.Fl)((()=>L(P({},M.value),{width:h.value,height:h.value}))),A=function(n){!t.disabled&&t.button&&e("click",n)},C=t=>e("img-error",t);return{attrs:m,badgeClasses:g,badgeStyle:x,badgeText:v,badgeTextClasses:y,classes:b,clicked:A,fontStyle:S,hasBadgeSlot:c,hasDefaultSlot:u,iconName:w,onImgError:C,showBadge:d,tag:E,tagStyle:T,textClasses:_}}}),ue={key:0,class:"b-avatar-custom"},ce={key:1,class:"b-avatar-img"},de=["src","alt"];function he(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),(0,r.dG)({class:["b-avatar",t.classes],style:t.tagStyle},t.attrs,{onClick:t.clicked}),{default:(0,r.w5)((()=>[t.hasDefaultSlot?((0,r.wg)(),(0,r.iD)("span",ue,[(0,r.WI)(t.$slots,"default")])):t.src?((0,r.wg)(),(0,r.iD)("span",ce,[(0,r._)("img",{src:t.src,alt:t.alt,onError:e[0]||(e[0]=(...e)=>t.onImgError&&t.onImgError(...e))},null,40,de)])):t.text?((0,r.wg)(),(0,r.iD)("span",{key:2,class:(0,i.C_)(["b-avatar-text",t.textClasses]),style:(0,i.j5)(t.fontStyle)},(0,i.zw)(t.text),7)):(0,r.kq)("",!0),t.showBadge?((0,r.wg)(),(0,r.iD)("span",{key:3,class:(0,i.C_)(["b-avatar-badge",t.badgeClasses]),style:(0,i.j5)(t.badgeStyle)},[t.hasBadgeSlot?(0,r.WI)(t.$slots,"badge",{key:0}):((0,r.wg)(),(0,r.iD)("span",{key:1,class:(0,i.C_)(t.badgeTextClasses)},(0,i.zw)(t.badgeText),3))],6)):(0,r.kq)("",!0)])),_:3},16,["class","style","onClick"])}var fe=R(le,[["render",he]]);const pe=(t,...e)=>Object.assign(t,...e),me=(t,e)=>Object.defineProperties(t,e),ge=(t,e,n)=>Object.defineProperty(t,e,n),ve=(t,e)=>Object.keys(t).filter((t=>-1===e.indexOf(t))).reduce(((e,n)=>L(P({},e),{[n]:t[n]})),{}),ye=()=>({enumerable:!0,configurable:!1,writable:!1}),be={active:{type:Boolean,default:!1},activeClass:{type:String,default:"router-link-active"},append:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},event:{type:[String,Array],default:"click"},exact:{type:Boolean,default:!1},exactActiveClass:{type:String,default:"router-link-exact-active"},href:{type:String},rel:{type:String,default:null},replace:{type:Boolean,default:!1},routerComponentName:{type:String,default:"router-link"},routerTag:{type:String,default:"a"},target:{type:String,default:"_self"},to:{type:[String,Object],default:null}},_e=(0,r.aZ)({name:"BLink",props:be,emits:["click"],setup(t,{emit:e,attrs:n}){const i=(0,r.FN)(),a=(0,o.iH)(null),s=(0,r.Fl)((()=>{const e=t.routerComponentName.split("-").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(""),n=void 0!==(null==i?void 0:i.appContext.app.component(e));return n&&!t.disabled&&t.to?t.routerComponentName:"a"})),l=(0,r.Fl)((()=>{const e="#";if(t.href)return t.href;if("string"===typeof t.to)return t.to||e;const n=t.to;if("[object Object]"===Object.prototype.toString.call(n)&&(n.path||n.query||n.hash)){const t=n.path||"",r=n.query?`?${Object.keys(n.query).map((t=>`${t}=${n.query[t]}`)).join("=")}`:"",i=n.hash&&"#"!==n.hash.charAt(0)?`#${n.hash}`:n.hash||"";return`${t}${r}${i}`||e}return e})),u=function(n){if(t.disabled)return n.preventDefault(),void n.stopImmediatePropagation();e("click",n)},c=(0,r.Fl)((()=>({to:t.to,href:l.value,target:t.target,rel:"_blank"===t.target&&null===t.rel?"noopener":t.rel||null,tabindex:t.disabled?"-1":"undefined"===typeof n.tabindex?null:n.tabindex,"aria-disabled":t.disabled?"true":null})));return{tag:s,routerAttr:c,link:a,clicked:u}}});function we(t,e,n,i,o,a){return"router-link"===t.tag?((0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),(0,r.dG)({key:0},t.routerAttr,{custom:""}),{default:(0,r.w5)((({href:e,navigate:n,isActive:i,isExactActive:o})=>[((0,r.wg)(),(0,r.j4)((0,r.LL)(t.routerTag),(0,r.dG)({ref:"link",href:e,class:[i&&t.activeClass,o&&t.exactActiveClass]},t.$attrs,{onClick:n}),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:2},1040,["href","class","onClick"]))])),_:3},16)):((0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),(0,r.dG)({key:1,ref:"link",class:{active:t.active,disabled:t.disabled}},t.routerAttr,{onClick:t.clicked}),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["class","onClick"]))}var xe=R(_e,[["render",we]]);const Se=t=>!(!t.href&&!t.to),Me=(t,e)=>e+(t?xt(t):""),Ee=(t,e,n=(t=>t))=>(bt(t)?t.slice():Object.keys(t)).reduce(((t,r)=>(t[n(r)]=e[r],t)),{}),Te=ve(be,["event","routerTag"]),Ae=(0,r.aZ)({name:"BBadge",props:P({pill:{type:Boolean,default:!1},tag:{type:String,default:"span"},variant:{type:String,default:"secondary"},textIndicator:{type:Boolean,default:!1},dotIndicator:{type:Boolean,default:!1}},Te),setup(t){const e=(0,r.Fl)((()=>Se(t))),n=(0,r.Fl)((()=>e.value?"b-link":t.tag)),i=(0,r.Fl)((()=>({[`bg-${t.variant}`]:t.variant,active:t.active,disabled:t.disabled,"text-dark":["warning","info","light"].includes(t.variant),"rounded-pill":t.pill,"position-absolute top-0 start-100 translate-middle":t.textIndicator||t.dotIndicator,"p-2 border border-light rounded-circle":t.dotIndicator,"text-decoration-none":e})));return{classes:i,props:e.value?Ee(Te,t):{},computedTag:n}}});function Ce(t,e,n,i,o,a){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.computedTag),(0,r.dG)({class:["badge",t.classes]},t.props),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["class"])}var Oe=R(Ae,[["render",Ce]]);const ke=Symbol(),Pe={items:(0,o.qj)([]),reset(){this.items=(0,o.qj)([])}};function Le(t){t.provide(ke,Pe)}function Ie(){const t=(0,r.f3)(ke);return t||Pe}const De=(0,r.aZ)({name:"BBreadcrumbItem",props:L(P({},ve(be,["event","routerTag"])),{active:{type:Boolean,default:!1},ariaCurrent:{type:String,default:"location"},disabled:{type:Boolean,default:!1},text:{type:String,required:!1}}),emits:["click"],setup(t,{emit:e}){const n=(0,r.Fl)((()=>({active:t.active}))),i=(0,r.Fl)((()=>t.active?"span":"b-link")),o=(0,r.Fl)((()=>({"aria-current":t.active?t.ariaCurrent:void 0}))),a=function(n){if(t.disabled||t.active)return n.preventDefault(),void n.stopImmediatePropagation();t.disabled||e("click",n)};return{liClasses:n,computedTag:i,computedAriaCurrent:o,clicked:a}}});function Re(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("li",{class:(0,i.C_)(["breadcrumb-item",t.liClasses])},[((0,r.wg)(),(0,r.j4)((0,r.LL)(t.computedTag),(0,r.dG)({"aria-current":t.computedAriaCurrent},t.$props,{onClick:t.clicked}),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["aria-current","onClick"]))],2)}var Ne=R(De,[["render",Re]]);const Be=(0,r.aZ)({name:"BBreadcrumb",components:{BBreadcrumbItem:Ne},props:{items:{type:Array}},setup(t){const e=Ie(),n=(0,r.Fl)((()=>{const n=t.items||(null==e?void 0:e.items)||[];let r=!1;const i=n.map(((t,e)=>("string"===typeof t&&(t={text:t},e<n.length-1&&(t.href="#")),t.active&&(r=!0),t.active||r||(t.active=e+1===n.length),t)));return i}));return{computedItems:n}}}),Fe={"aria-label":"breadcrumb"},je={class:"breadcrumb"};function ze(t,e,n,o,a,s){const l=(0,r.up)("b-breadcrumb-item");return(0,r.wg)(),(0,r.iD)("nav",Fe,[(0,r._)("ol",je,[(0,r.WI)(t.$slots,"prepend"),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.computedItems,((t,e)=>((0,r.wg)(),(0,r.j4)(l,(0,r.dG)({key:e},t),{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.text),1)])),_:2},1040)))),128)),(0,r.WI)(t.$slots,"default"),(0,r.WI)(t.$slots,"append")])])}var Ve=R(Be,[["render",ze]]);const Ue=(0,r.aZ)({name:"BButton",props:L(P({},be),{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},href:{type:String,required:!1},pill:{type:Boolean,default:!1},pressed:{type:Boolean,default:null},rel:{type:String,default:null},size:{type:String},squared:{type:Boolean,default:!1},tag:{type:String,default:"button"},target:{type:String,default:"_self"},type:{type:String,default:"button"},variant:{type:String,default:"secondary"}}),emits:["click","update:pressed"],setup(t,{emit:e}){const n=null!==t.pressed,i="button"===t.tag&&!t.href&&!t.to,o=!(!t.href&&!t.to),a=!!t.to,s=!t.href&&!i,l=(0,r.Fl)((()=>({[`btn-${t.variant}`]:t.variant,[`btn-${t.size}`]:t.size,active:t.active||t.pressed,"rounded-pill":t.pill,"rounded-0":t.squared,disabled:t.disabled}))),u=(0,r.Fl)((()=>({"aria-disabled":s?String(t.disabled):null,"aria-pressed":n?String(t.pressed):null,autocomplete:n?"off":null,disabled:i?t.disabled:null,href:t.href,rel:o?t.rel:null,role:s||o?"button":null,target:o?t.target:null,type:i?t.type:null,to:i?null:t.to,append:o?t.append:null,activeClass:a?t.activeClass:null,event:a?t.event:null,exact:a?t.exact:null,exactActiveClass:a?t.exactActiveClass:null,replace:a?t.replace:null,routerComponentName:a?t.routerComponentName:null,routerTag:a?t.routerTag:null}))),c=function(r){if(t.disabled)return r.preventDefault(),void r.stopPropagation();e("click",r),n&&e("update:pressed",!t.pressed)},d=(0,r.Fl)((()=>a?"b-link":t.href?"a":t.tag));return{classes:l,attrs:u,computedTag:d,clicked:c}}});function He(t,e,n,i,o,a){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.computedTag),(0,r.dG)({class:["btn",t.classes]},t.attrs,{onClick:t.clicked}),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["class","onClick"])}var We=R(Ue,[["render",He]]);const Ge=(0,r.aZ)({name:"BButtonGroup",props:{ariaRole:{type:String,default:"group"},size:{type:String,required:!1},tag:{type:String,default:"div"},vertical:{type:Boolean,default:!1}},setup(t){const e=(0,r.Fl)((()=>({"btn-group":!t.vertical,"btn-group-vertical":t.vertical,[`btn-group-${t.size}`]:t.size})));return{classes:e}}});function qe(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:(0,i.C_)(t.classes),role:"group","aria-role":t.ariaRole},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},8,["class","aria-role"])}var $e=R(Ge,[["render",qe]]);const Xe=(0,r.aZ)({name:"BButtonToolbar",props:{ariaRole:{type:String,default:"group"},justify:{type:Boolean,default:!1}},setup(t){const e=(0,r.Fl)((()=>({"justify-content-between":t.justify})));return{classes:e}}}),Ye=["aria-label"];function Ze(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)([t.classes,"btn-toolbar"]),role:"toolbar","aria-label":t.ariaRole},[(0,r.WI)(t.$slots,"default")],10,Ye)}var Je=R(Xe,[["render",Ze]]);const Ke=(0,r.aZ)({name:"BCard",props:{align:{type:String,required:!1},bgVariant:{type:String,required:!1},bodyBgVariant:{type:String,required:!1},bodyClass:{type:[Array,Object,String],required:!1},bodyTag:{type:String,default:"div"},bodyTextVariant:{type:String,required:!1},borderVariant:{type:String,required:!1},footer:{type:String,required:!1},footerBgVariant:{type:String,required:!1},footerBorderVariant:{type:String,required:!1},footerClass:{type:[Array,Object,String],required:!1},footerHtml:{type:String,default:""},footerTag:{type:String,default:"div"},footerTextVariant:{type:String,required:!1},header:{type:String,required:!1},headerBgVariant:{type:String,required:!1},headerBorderVariant:{type:String,required:!1},headerClass:{type:[Array,Object,String],required:!1},headerHtml:{type:String,default:""},headerTag:{type:String,default:"div"},headerTextVariant:{type:String,required:!1},imgAlt:{type:String,required:!1},imgBottom:{type:Boolean,default:!1},imgEnd:{type:Boolean,default:!1},imgHeight:{type:[String,Number],required:!1},imgLeft:{type:Boolean,default:!1},imgRight:{type:Boolean,default:!1},imgSrc:{type:String,required:!1},imgStart:{type:Boolean,default:!1},imgTop:{type:Boolean,default:!1},imgWidth:{type:[String,Number],required:!1},noBody:{type:Boolean,default:!1},overlay:{type:Boolean,default:!1},subTitle:{type:String,required:!1},subTitleTag:{type:String,default:"h6"},subTitleTextVariant:{type:String,default:"muted"},tag:{type:String,default:"div"},textVariant:{type:String,required:!1},title:{type:String,required:!1},titleTag:{type:String,default:"h4"}},setup(t){const e=(0,r.Fl)((()=>({[`text-${t.align}`]:t.align,[`text-${t.textVariant}`]:t.textVariant,[`bg-${t.bgVariant}`]:t.bgVariant,[`border-${t.borderVariant}`]:t.borderVariant,"flex-row":t.imgLeft||t.imgStart,"flex-row-reverse":t.imgEnd||t.imgRight}))),n=(0,r.Fl)((()=>({"card-body":!t.noBody,"card-img-overlay":t.overlay,[`bg-${t.bodyBgVariant}`]:t.bodyBgVariant,[`text-${t.bodyTextVariant}`]:t.bodyTextVariant}))),i=(0,r.Fl)((()=>({[`bg-${t.footerBgVariant}`]:t.footerBgVariant,[`border-${t.footerBorderVariant}`]:t.footerBorderVariant,[`text-${t.footerTextVariant}`]:t.footerTextVariant}))),o=(0,r.Fl)((()=>({[`bg-${t.headerBgVariant}`]:t.headerBgVariant,[`border-${t.headerBorderVariant}`]:t.headerBorderVariant,[`text-${t.headerTextVariant}`]:t.headerTextVariant}))),a=(0,r.Fl)((()=>({"card-img":!t.imgEnd&&!t.imgRight&&!t.imgStart&&!t.imgLeft&&!t.imgTop&&!t.imgTop,"card-img-right":t.imgEnd||t.imgRight,"card-img-left":t.imgStart||t.imgLeft,"card-img-top":t.imgTop,"card-img-bottom":t.imgBottom}))),s=(0,r.Fl)((()=>({src:t.imgSrc,alt:t.imgAlt,height:t.imgHeight,width:t.imgWidth}))),l=(0,r.Fl)((()=>({[`text-${t.subTitleTextVariant}`]:t.subTitleTextVariant})));return{classes:e,bodyClasses:n,footerClasses:i,headerClasses:o,imgClasses:a,imgAttr:s,subTitleClasses:l}}}),Qe=["innerHTML"],tn=["innerHTML"];function en(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:(0,i.C_)(["card",t.classes])},{default:(0,r.w5)((()=>[t.imgSrc&&!t.imgBottom?((0,r.wg)(),(0,r.iD)("img",(0,r.dG)({key:0},t.imgAttr,{class:t.imgClasses}),null,16)):(0,r.kq)("",!0),t.header||t.$slots.header||t.headerHtml?((0,r.wg)(),(0,r.j4)((0,r.LL)(t.headerTag),{key:1,class:(0,i.C_)(["card-header",[t.headerClass,t.headerClasses]])},{default:(0,r.w5)((()=>[t.headerHtml?((0,r.wg)(),(0,r.iD)("div",{key:0,innerHTML:t.headerHtml},null,8,Qe)):(0,r.WI)(t.$slots,"header",{key:1},(()=>[(0,r.Uk)((0,i.zw)(t.header),1)]))])),_:3},8,["class"])):(0,r.kq)("",!0),t.noBody?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)((0,r.LL)(t.bodyTag),{key:2,class:(0,i.C_)([t.bodyClass,t.bodyClasses])},{default:(0,r.w5)((()=>[t.title&&!t.noBody?((0,r.wg)(),(0,r.j4)((0,r.LL)(t.titleTag),{key:0,class:"card-title"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.title),1)])),_:1})):(0,r.kq)("",!0),t.subTitle&&!t.noBody?((0,r.wg)(),(0,r.j4)((0,r.LL)(t.subTitleTag),{key:1,class:(0,i.C_)(["card-subtitle mb-2",t.subTitleClasses])},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.subTitle),1)])),_:1},8,["class"])):(0,r.kq)("",!0),(0,r.WI)(t.$slots,"default")])),_:3},8,["class"])),t.noBody?(0,r.WI)(t.$slots,"default",{key:3}):(0,r.kq)("",!0),t.footer||t.$slots.footer||t.footerHtml?((0,r.wg)(),(0,r.j4)((0,r.LL)(t.footerTag),{key:4,class:(0,i.C_)(["card-footer",[t.footerClass,t.footerClasses]])},{default:(0,r.w5)((()=>[t.footerHtml?((0,r.wg)(),(0,r.iD)("div",{key:0,innerHTML:t.footerHtml},null,8,tn)):(0,r.WI)(t.$slots,"footer",{key:1},(()=>[(0,r.Uk)((0,i.zw)(t.footer),1)]))])),_:3},8,["class"])):(0,r.kq)("",!0),t.imgSrc&&t.imgBottom?((0,r.wg)(),(0,r.iD)("img",(0,r.dG)({key:5},t.imgAttr,{class:t.imgClasses}),null,16)):(0,r.kq)("",!0)])),_:3},8,["class"])}var nn=R(Ke,[["render",en]]);const rn=(0,r.aZ)({name:"BCardBody",props:{bodyBgVariant:{type:String,required:!1},bodyClass:{type:[Array,Object,String],required:!1},bodyTag:{type:String,default:"div"},bodyTextVariant:{type:String,required:!1},overlay:{type:Boolean,default:!1},subTitle:{type:String,required:!1},subTitleTag:{type:String,default:"h4"},subTitleTextVariant:{type:String,required:!1},title:{type:String,required:!1},titleTag:{type:String,default:"h4"}},setup(t){const e=(0,r.Fl)((()=>({[`text-${t.bodyTextVariant}`]:t.bodyTextVariant,[`bg-${t.bodyBgVariant}`]:t.bodyBgVariant})));return{classes:e}}});function on(t,e,n,o,a,s){const l=(0,r.up)("b-card-title"),u=(0,r.up)("b-card-sub-title");return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.bodyTag),{class:(0,i.C_)(["card-body",t.classes])},{default:(0,r.w5)((()=>[t.title?((0,r.wg)(),(0,r.j4)(l,{key:0,"title-tag":t.titleTag,title:t.title},null,8,["title-tag","title"])):(0,r.kq)("",!0),t.subTitle?((0,r.wg)(),(0,r.j4)(u,{key:1,"sub-title-tag":t.subTitleTag,"sub-title":t.subTitle,"sub-title-text-variant":t.subTitleTextVariant},null,8,["sub-title-tag","sub-title","sub-title-text-variant"])):(0,r.kq)("",!0),(0,r.WI)(t.$slots,"default")])),_:3},8,["class"])}var an=R(rn,[["render",on]]);const sn=(0,r.aZ)({name:"BCardFooter",props:{footer:{type:String},footerBgVariant:{type:String,required:!1},footerBorderVariant:{type:String,required:!1},footerClass:{type:[Array,Object,String],required:!1},footerHtml:{type:String,required:!1},footerTag:{type:String,default:"div"},footerTextVariant:{type:String,required:!1}},setup(t){const e=(0,r.Fl)((()=>({[`text-${t.footerTextVariant}`]:t.footerTextVariant,[`bg-${t.footerBgVariant}`]:t.footerBgVariant,[`border-${t.footerBorderVariant}`]:t.footerBorderVariant})));return{classes:e}}}),ln=["innerHTML"];function un(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.footerTag),{class:(0,i.C_)(["card-footer",[t.footerClass,t.classes]])},{default:(0,r.w5)((()=>[t.footerHtml?((0,r.wg)(),(0,r.iD)("div",{key:0,innerHTML:t.footerHtml},null,8,ln)):(0,r.WI)(t.$slots,"default",{key:1},(()=>[(0,r.Uk)((0,i.zw)(t.footer),1)]))])),_:3},8,["class"])}var cn=R(sn,[["render",un]]);const dn=(0,r.aZ)({name:"BCardGroup",props:{columns:{type:Boolean,default:!1},deck:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(t){const e=(0,r.Fl)((()=>t.deck?"card-deck":t.columns?"card-columns":"card-group"));return{classes:e}}});function hn(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:(0,i.C_)(t.classes)},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},8,["class"])}var fn=R(dn,[["render",hn]]);const pn=(0,r.aZ)({name:"BCardHeader",props:{header:{type:String,required:!1},headerBgVariant:{type:String,required:!1},headerBorderVariant:{type:String,required:!1},headerClass:{type:[Array,Object,String],required:!1},headerHtml:{type:String,required:!1},headerTag:{type:String,default:"div"},headerTextVariant:{type:String,required:!1}},setup(t){const e=(0,r.Fl)((()=>({[`text-${t.headerTextVariant}`]:t.headerTextVariant,[`bg-${t.headerBgVariant}`]:t.headerBgVariant,[`border-${t.headerBorderVariant}`]:t.headerBorderVariant})));return{classes:e}}}),mn=["innerHTML"];function gn(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.headerTag),{class:(0,i.C_)(["card-header",[t.headerClass,t.classes]])},{default:(0,r.w5)((()=>[t.headerHtml?((0,r.wg)(),(0,r.iD)("div",{key:0,innerHTML:t.headerHtml},null,8,mn)):(0,r.WI)(t.$slots,"default",{key:1},(()=>[(0,r.Uk)((0,i.zw)(t.header),1)]))])),_:3},8,["class"])}var vn=R(pn,[["render",gn]]);const yn=(0,r.aZ)({name:"BCardImage",props:{alt:{type:String,default:null},bottom:{type:Boolean,default:!1},end:{type:Boolean,default:!1},height:{type:[Number,String],required:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},src:{type:String,required:!1},start:{type:Boolean,default:!1},top:{type:Boolean,default:!1},width:{type:[Number,String],required:!1}},setup(t){const e=(0,r.Fl)((()=>({src:t.src,alt:t.alt,width:("number"===typeof t.width?t.width:parseInt(t.width,10))||void 0,height:("number"===typeof t.height?t.height:parseInt(t.height,10))||void 0}))),n=(0,r.Fl)((()=>{const e=t.left?"float-left":t.right?"float-right":"";let n="card-img";return t.top?n+="-top":t.right||t.end?n+="-right":t.bottom?n+="-bottom":(t.left||t.start)&&(n+="-left"),{[e]:!!e,[n]:!0}}));return{attrs:e,classes:n}}});function bn(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("img",(0,r.dG)({class:t.classes},t.attrs),null,16)}var _n=R(yn,[["render",bn]]);const wn=(0,r.aZ)({name:"BCardSubTitle",props:{subTitle:{type:String},subTitleTag:{type:String,default:"h6"},subTitleTextVariant:{type:String,default:"muted"}},setup(t){const e=(0,r.Fl)((()=>({[`text-${t.subTitleTextVariant}`]:t.subTitleTextVariant})));return{classes:e}}});function xn(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.subTitleTag),{class:(0,i.C_)(["card-subtitle mb-2",t.classes])},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default",{},(()=>[(0,r.Uk)((0,i.zw)(t.subTitle),1)]))])),_:3},8,["class"])}var Sn=R(wn,[["render",xn]]);const Mn=(0,r.aZ)({name:"BCardText"}),En={class:"card-text"};function Tn(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("p",En,[(0,r.WI)(t.$slots,"default")])}var An=R(Mn,[["render",Tn]]);const Cn=(0,r.aZ)({name:"BCardTitle",props:{title:{type:String},titleTag:{type:String,default:"h4"}}});function On(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.titleTag),{class:"card-title"},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default",{},(()=>[(0,r.Uk)((0,i.zw)(t.title),1)]))])),_:3})}var kn=R(Cn,[["render",On]]);const Pn=Symbol(),Ln=(0,r.aZ)({name:"BCarousel",props:{background:{type:String,required:!1},modelValue:{type:Number,default:0},controls:{type:Boolean,default:!1},id:{type:String},imgHeight:{type:String},imgWidth:{type:String},indicators:{type:Boolean,default:!1},interval:{type:Number,default:5e3},noTouch:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1}},emits:["sliding-start","sliding-end"],setup(t,{slots:e,emit:n}){const i=(0,o.iH)(),a=(0,o.iH)(),s=D(t.id,"accordion"),l=(0,o.iH)([]);return V(i,"slide.bs.carousel",(t=>n("sliding-start",t))),V(i,"slid.bs.carousel",(t=>n("sliding-end",t))),(0,r.bv)((()=>{a.value=new(h())(i.value,{wrap:!t.noTouch,interval:t.interval,touch:!t.noTouch}),e.default&&(l.value=e.default().filter((t=>{var e;return"BCarouselSlide"===(null==(e=t.type)?void 0:e.name)})))})),(0,r.JJ)(Pn,{background:t.background,width:t.imgWidth,height:t.imgHeight}),{element:i,computedId:s,slides:l}}}),In=["id"],Dn={key:0,class:"carousel-indicators"},Rn=["data-bs-target","data-bs-slide-to","aria-label"],Nn={class:"carousel-inner"},Bn=["data-bs-target"],Fn=(0,r._)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1),jn=(0,r._)("span",{class:"visually-hidden"},"Previous",-1),zn=[Fn,jn],Vn=["data-bs-target"],Un=(0,r._)("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1),Hn=(0,r._)("span",{class:"visually-hidden"},"Next",-1),Wn=[Un,Hn];function Gn(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",{id:t.computedId,ref:"element",class:"carousel slide","data-bs-ride":"carousel"},[t.indicators?((0,r.wg)(),(0,r.iD)("div",Dn,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.slides,((e,n)=>((0,r.wg)(),(0,r.iD)("button",{key:n,type:"button","data-bs-target":`#${t.computedId}`,"data-bs-slide-to":n,class:(0,i.C_)(0===n?"active":""),"aria-current":"true","aria-label":`Slide ${n}`},null,10,Rn)))),128))])):(0,r.kq)("",!0),(0,r._)("div",Nn,[(0,r.WI)(t.$slots,"default")]),t.controls?((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r._)("button",{class:"carousel-control-prev",type:"button","data-bs-target":`#${t.computedId}`,"data-bs-slide":"prev"},zn,8,Bn),(0,r._)("button",{class:"carousel-control-next",type:"button","data-bs-target":`#${t.computedId}`,"data-bs-slide":"next"},Wn,8,Vn)],64)):(0,r.kq)("",!0)],8,In)}var qn=R(Ln,[["render",Gn]]);const $n=(0,r.aZ)({name:"BCarouselSlide",props:{active:{type:Boolean,default:!1},background:{type:String,required:!1},caption:{type:String,required:!1},captionHtml:{type:String,required:!1},captionTag:{type:String,default:"h3"},contentTag:{type:String,default:"div"},contentVisibleUp:{type:String,required:!1},id:{type:String,required:!1},imgAlt:{type:String,required:!1},imgBlank:{type:Boolean,default:!1},imgBlankColor:{type:String,default:"transparent"},imgHeight:{type:String},imgSrc:{type:String},imgWidth:{type:String},interval:{type:[String,Number]},text:{type:String,required:!1},textHtml:{type:String,required:!1},textTag:{type:String,default:"p"}},setup(t){const e=(0,r.f3)(Pn,{}),n=D(t.id,"accordion"),i=(0,r.Fl)((()=>t.imgBlank?t.imgBlank:t.imgSrc)),o=(0,r.Fl)((()=>({background:`${t.background||e.background||"rgb(171, 171, 171)"} none repeat scroll 0% 0%`}))),a=(0,r.Fl)((()=>({"d-none":t.contentVisibleUp,[`d-${t.contentVisibleUp}-block`]:t.contentVisibleUp}))),s=(0,r.Fl)((()=>t.text&&!t.textHtml)),l=(0,r.Fl)((()=>t.textHtml)),u=(0,r.Fl)((()=>t.caption&&!t.captionHtml)),c=(0,r.Fl)((()=>t.captionHtml));return{computedAttr:o,computedContentClasses:a,computedId:n,height:e.height,img:i,showCaption:u,showCaptionAsHtml:c,showText:s,showTextAsHtml:l,width:e.width}}}),Xn=["id","data-bs-interval"],Yn={key:0},Zn=["innerHTML"],Jn={key:0},Kn=["innerHTML"];function Qn(t,e,n,o,a,s){const l=(0,r.up)("b-img");return(0,r.wg)(),(0,r.iD)("div",{id:t.computedId,class:(0,i.C_)(["carousel-item",{active:t.active}]),"data-bs-interval":t.interval,style:(0,i.j5)(t.computedAttr)},[(0,r.WI)(t.$slots,"img",{},(()=>[(0,r.Wm)(l,{class:"d-block w-100",alt:t.imgAlt,src:t.imgSrc,width:t.imgWidth||t.width,height:t.imgHeight||t.height,blank:t.imgBlank,"blank-color":t.imgBlankColor},null,8,["alt","src","width","height","blank","blank-color"])])),t.caption||t.captionHtml||t.text||t.textHtml||t.$slots.default?((0,r.wg)(),(0,r.j4)((0,r.LL)(t.contentTag),{key:0,class:(0,i.C_)(["carousel-caption",t.computedContentClasses])},{default:(0,r.w5)((()=>[t.caption||t.captionHtml?((0,r.wg)(),(0,r.j4)((0,r.LL)(t.captionTag),{key:0},{default:(0,r.w5)((()=>[t.showCaption?((0,r.wg)(),(0,r.iD)("span",Yn,(0,i.zw)(t.caption),1)):(0,r.kq)("",!0),t.showCaptionAsHtml?((0,r.wg)(),(0,r.iD)("span",{key:1,innerHTML:t.captionHtml},null,8,Zn)):(0,r.kq)("",!0)])),_:1})):(0,r.kq)("",!0),t.text||t.textHtml?((0,r.wg)(),(0,r.j4)((0,r.LL)(t.textTag),{key:1},{default:(0,r.w5)((()=>[t.showText?((0,r.wg)(),(0,r.iD)("span",Jn,(0,i.zw)(t.text),1)):(0,r.kq)("",!0),t.showTextAsHtml?((0,r.wg)(),(0,r.iD)("span",{key:1,innerHTML:t.textHtml},null,8,Kn)):(0,r.kq)("",!0)])),_:1})):(0,r.kq)("",!0),(0,r.WI)(t.$slots,"default")])),_:3},8,["class"])):(0,r.kq)("",!0)],14,Xn)}var tr=R($n,[["render",Qn]]);const er=(0,r.aZ)({name:"BCloseButton",props:{disabled:{type:Boolean,default:!1},white:{type:Boolean,default:!1}},setup(t){const e=(0,r.Fl)((()=>({"btn-close-white":t.white})));return{classes:e}}}),nr=["disabled"];function rr(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("button",{type:"button",class:(0,i.C_)(["btn-close",t.classes]),disabled:t.disabled,"aria-label":"Close"},null,10,nr)}var ir=R(er,[["render",rr]]),or=(t,e,n)=>e.concat(["sm","md","lg","xl","xxl"]).reduce(((e,r)=>(e[t?`${t}${r.charAt(0).toUpperCase()+r.slice(1)}`:r]=n,e)),Object.create(null)),ar=(t,e,n,r=n)=>Object.keys(e).reduce(((e,i)=>t[i]?(e.push([r,i.replace(n,""),t[i]].filter((t=>t&&"boolean"!==typeof t)).join("-").toLowerCase()),e):e),[]);const sr=or("",[],{type:[Boolean,String,Number],default:!1}),lr=or("offset",[""],{type:[String,Number],default:null}),ur=or("order",[""],{type:[String,Number],default:null}),cr=(0,r.aZ)({name:"BCol",props:L(P(L(P(L(P({col:{type:Boolean,default:!1},cols:{type:[String,Number],default:null}},sr),{offset:{type:[String,Number],default:null}}),lr),{order:{type:[String,Number],default:null}}),ur),{alignSelf:{type:String,default:null},tag:{type:String,default:"div"}}),setup(t){let e=[];const n=[{content:sr,propPrefix:"cols",classPrefix:"col"},{content:lr,propPrefix:"offset"},{content:ur,propPrefix:"order"}];n.forEach((n=>{e=e.concat(ar(t,n.content,n.propPrefix,n.classPrefix))}));const i=(0,r.Fl)((()=>({col:t.col||!e.some((e=>/^col-/.test(e)&&!t.cols)),[`col-${t.cols}`]:!!t.cols,[`offset-${t.offset}`]:!!t.offset,[`order-${t.order}`]:!!t.order,[`align-self-${t.alignSelf}`]:!!t.alignSelf})));return{classes:i,classList:e}}});function dr(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:(0,i.C_)([t.classes,t.classList])},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},8,["class"])}var hr=R(cr,[["render",dr]]);let fr={delay:5e3,value:!0,pos:"top-right"};class pr{constructor(t){(0,o.PG)(t)?this.vm=t:this.vm=(0,o.qj)(t),this.containerPositions=(0,r.Fl)((()=>{let t=new Set([]);return this.vm.toasts.map((e=>{e.options.pos&&t.add(e.options.pos)})),t}))}toasts(t){return t?(0,r.Fl)((()=>this.vm.toasts.filter((e=>{if(e.options.pos==t&&e.options.value)return e})))):(0,r.Fl)((()=>this.vm.toasts))}remove(...t){this.vm.toasts=this.vm.toasts.filter((e=>{if(!t.includes(e.options.id))return e}))}isRoot(){var t;return null!=(t=this.vm.root)&&t}show(t,e=fr){let n=P(P({id:I()},fr),e),r={options:(0,o.qj)(n),content:t};return this.vm.toasts.push(r),r}info(t,e=fr){return this.show(t,P({variant:"info"},e))}danger(t,e=fr){return this.show(t,P({variant:"danger"},e))}warning(t,e=fr){return this.show(t,P({variant:"warning"},e))}success(t,e=fr){return this.show(t,P({variant:"success"},e))}hide(){}}class mr{constructor(){this.useToast=yr,this.vms={}}getOrCreateViewModel(t){if(t){if(t.root){if(this.rootInstance)return this.vms[this.rootInstance];this.rootInstance=t.id}return this.vms[t.id]=t,t}if(this.rootInstance)return this.vms[this.rootInstance];{let t={root:!0,toasts:[],container:void 0,id:Symbol("toast")};return this.rootInstance=t.id,this.vms[t.id]=t,t}}getVM(t){return!t&&this.rootInstance?this.vms[this.rootInstance]:t?this.vms[t]:void 0}}let gr=Symbol(),vr={container:void 0,toasts:[],root:!1};function yr(t,e=gr){let n=(0,r.f3)(null!==e?e:gr);if(!t){let t=new pr(n.getOrCreateViewModel());return t}let i={id:Symbol("toastInstance")},o=P(P(P({},vr),i),t),a=n.getOrCreateViewModel(o);return new pr(a)}const br={install:(t,e={})=>{var n,r;t.provide(null!=(r=null==(n=null==e?void 0:e.BToast)?void 0:n.injectkey)?r:gr,new mr)}},_r={"top-left":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-right":"top-0 end-0","middle-left":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-right":"top-50 end-0 translate-middle-y","bottom-left":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-right":"bottom-0 end-0"},wr=(0,r.aZ)({name:"BToaster",props:{position:{type:String,default:"top-right"},instance:{type:Object}},setup(t,{emit:e}){const n=(0,r.Fl)((()=>_r[t.position])),i=e=>{var n;null==(n=t.instance)||n.remove(e)};return{positionClass:n,handleDestroy:i}},computed:{}});function xr(t,e,n,o,a,s){const l=(0,r.up)("b-toast");return(0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)([[t.positionClass],"b-toaster position-fixed p-3"]),style:{"z-index":"11"}},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.instance.toasts(t.position).value,(e=>((0,r.wg)(),(0,r.j4)(l,{id:e.options.id,key:e.options.id,modelValue:e.options.value,"onUpdate:modelValue":t=>e.options.value=t,title:e.content.title,body:e.content.body,component:e.content.vnode,variant:e.options.variant,onDestroyed:t.handleDestroy},null,8,["id","modelValue","onUpdate:modelValue","title","body","component","variant","onDestroyed"])))),128))],2)}var Sr=R(wr,[["render",xr]]);const Mr=(0,r.aZ)({name:"BContainer",props:{gutterX:{type:String,default:null},gutterY:{type:String,default:null},fluid:{type:[Boolean,String],default:!1},toast:{type:Object},position:{type:String,required:!1}},setup(t,{slots:e,expose:n}){const i=(0,o.iH)();let a;const s=(0,r.Fl)((()=>({container:!t.fluid,["container-fluid"]:"boolean"===typeof t.fluid&&t.fluid,[`container-${t.fluid}`]:"string"===typeof t.fluid,[`gx-${t.gutterX}`]:null!==t.gutterX,[`gy-${t.gutterY}`]:null!==t.gutterY})));return(0,r.bv)((()=>{t.toast})),t.toast&&(a=yr({container:i,root:t.toast.root}),n({})),()=>{var n;const o=[];return null==a||a.containerPositions.value.forEach((t=>{o.push((0,r.h)(Sr,{key:t,instance:a,position:t}))})),(0,r.h)("div",{class:[s.value,t.position],ref:i},[...o,null==(n=e.default)?void 0:n.call(e)])}},methods:{}});function Er(t){return t&&"object"===typeof t&&t.constructor===Object}function Tr(t,e,n=!0){const r=t instanceof Date&&"function"===typeof t.getMonth?new Date(t):Object.assign({},t);return Er(t)&&Er(e)&&Object.keys(e).forEach((i=>{Er(e[i])?i in t?r[i]=Tr(t[i],e[i],n):Object.assign(r,{[i]:e[i]}):Array.isArray(e[i])&&Array.isArray(t[i])?Object.assign(r,{[i]:n?t[i].concat(e[i].filter((e=>!t[i].includes(e)))):e[i]}):Object.assign(r,{[i]:e[i]})})),r}const Ar=(0,r.aZ)({name:"BDropdown",components:{BButton:We},props:{autoClose:{type:[Boolean,String],default:!0},block:{type:Boolean,default:!1},boundary:{type:[at,String],default:"clippingParents"},dark:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dropup:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},id:{type:String},menuClass:{type:[Array,Object,String]},noFlip:{type:Boolean,default:!1},offset:{type:[Number,String],default:0},popperOpts:{type:Object,default:()=>({})},right:{type:Boolean,default:!1},role:{type:String,default:"menu"},size:{type:String},split:{type:Boolean,default:!1},splitButtonType:{type:String,default:"button"},splitClass:{type:[Array,Object,String]},splitHref:{type:String,default:null},noCaret:{type:Boolean,default:!1},splitVariant:{type:String},text:{type:String},toggleClass:{type:[Array,Object,String]},toggleText:{type:String,default:"Toggle dropdown"},variant:{type:String,default:"secondary"}},emits:["show","shown","hide","hidden"],setup(t,{emit:e}){const n=(0,o.iH)(),i=(0,o.iH)(),a=(0,o.iH)(),s=D(t.id,"dropdown");V(n,"show.bs.dropdown",(()=>e("show"))),V(n,"shown.bs.dropdown",(()=>e("shown"))),V(n,"hide.bs.dropdown",(()=>e("hide"))),V(n,"hidden.bs.dropdown",(()=>e("hidden")));const l=(0,r.Fl)((()=>({"d-grid":t.block,"d-flex":t.block&&t.split}))),u=(0,r.Fl)((()=>({"dropdown-toggle":!t.split,"dropdown-toggle-no-caret":t.noCaret&&!t.split,"w-100":t.split&&t.block}))),c=(0,r.Fl)((()=>({"dropdown-menu-dark":t.dark}))),d=(0,r.Fl)((()=>({"data-bs-toggle":t.split?null:"dropdown","aria-expanded":!!t.split&&null,ref:t.split?null:i,href:t.split?t.splitHref:null}))),h=(0,r.Fl)((()=>({ref:t.split?i:null}))),f=()=>{var t;null==(t=a.value)||t.hide()};return(0,r.bv)((()=>{var e;a.value=new(p())(null==(e=i.value)?void 0:e.$el,{autoClose:t.autoClose,boundary:t.boundary,offset:t.offset.toString(),reference:t.offset||t.split?"parent":"toggle",popperConfig:e=>{const n={placement:"bottom-start",modifiers:t.noFlip?[{name:"flip",options:{fallbackPlacements:[]}}]:[]};return t.dropup?n.placement=t.right?"top-end":"top-start":t.dropright?n.placement="right-start":t.dropleft?n.placement="left-start":t.right&&(n.placement="bottom-end"),Tr(e,Tr(n,t.popperOpts))}})})),{parent:n,computedId:s,classes:l,buttonClasses:u,buttonAttr:d,splitAttr:h,dropdownMenuClasses:c,dropdown:i,hide:f}}}),Cr={class:"visually-hidden"},Or=["aria-labelledby","role"];function kr(t,e,n,o,a,s){const l=(0,r.up)("b-button");return(0,r.wg)(),(0,r.iD)("div",{ref:"parent",class:(0,i.C_)([t.classes,"btn-group"])},[(0,r.Wm)(l,(0,r.dG)({id:t.computedId,variant:t.splitVariant||t.variant,size:t.size,class:[t.buttonClasses,t.split?t.splitClass:t.toggleClass],disabled:t.disabled,type:t.splitButtonType},t.buttonAttr),{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.text)+" ",1),(0,r.WI)(t.$slots,"button-content")])),_:3},16,["id","variant","size","class","disabled","type"]),t.split?((0,r.wg)(),(0,r.j4)(l,(0,r.dG)({key:0,variant:t.variant,size:t.size,disabled:t.disabled},t.splitAttr,{class:[t.toggleClass,"dropdown-toggle-split dropdown-toggle"],"data-bs-toggle":"dropdown","aria-expanded":"false"}),{default:(0,r.w5)((()=>[(0,r._)("span",Cr,(0,i.zw)(t.toggleText),1)])),_:1},16,["variant","size","disabled","class"])):(0,r.kq)("",!0),(0,r._)("ul",{class:(0,i.C_)(["dropdown-menu",[t.menuClass,t.dropdownMenuClasses]]),"aria-labelledby":t.computedId,role:t.role},[(0,r.WI)(t.$slots,"default")],10,Or)],2)}var Pr=R(Ar,[["render",kr]]);const Lr=(0,r.aZ)({name:"BDropdownDivider",props:{tag:{type:String,default:"hr"}}}),Ir={role:"presentation"};function Dr(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("li",Ir,[((0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:"dropdown-divider",role:"separator","aria-orientation":"horizontal"}))])}var Rr=R(Lr,[["render",Dr]]);const Nr=(0,r.aZ)({name:"BDropdownForm"}),Br={role:"presentation"},Fr={class:"px-4 py-3"};function jr(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("li",Br,[(0,r._)("form",Fr,[(0,r.WI)(t.$slots,"default")])])}var zr=R(Nr,[["render",jr]]);const Vr=(0,r.aZ)({name:"BDropdownGroup",inheritAttrs:!1,props:{ariaDescribedby:{type:String},header:{type:String},headerClasses:{type:[String,Array,Object],default:null},headerTag:{type:String,default:"header"},headerVariant:{type:String,default:null},id:{type:String}},setup(t){const e=(0,r.Fl)((()=>t.id?[t.id,"group_dd_header"].join("_"):null)),n=(0,r.Fl)((()=>"header"===t.headerTag?null:"heading")),i=(0,r.Fl)((()=>({[`text-${t.headerVariant}`]:t.headerVariant})));return{classes:i,headerId:e,headerRole:n}}}),Ur={role:"presentation"},Hr=["id","aria-describedby"];function Wr(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("li",Ur,[((0,r.wg)(),(0,r.j4)((0,r.LL)(t.headerTag),{id:t.headerId,class:(0,i.C_)(["dropdown-header",[t.classes,t.headerClasses]]),role:t.headerRole},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"header",{},(()=>[(0,r.Uk)((0,i.zw)(t.header),1)]))])),_:3},8,["id","class","role"])),(0,r._)("ul",(0,r.dG)({id:t.id,role:"group",class:"list-unstyled"},t.$attrs,{"aria-describedby":t.ariaDescribedby||t.headerId}),[(0,r.WI)(t.$slots,"default")],16,Hr)])}var Gr=R(Vr,[["render",Wr]]);const qr={},$r={class:"dropdown-header"};function Xr(t,e){return(0,r.wg)(),(0,r.iD)("li",null,[(0,r._)("h6",$r,[(0,r.WI)(t.$slots,"default")])])}var Yr=R(qr,[["render",Xr]]);const Zr=(0,r.aZ)({name:"BDropdownItem",inheritAttrs:!1,props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},href:{type:String},linkClass:{type:[Array,Object,String]},rel:{type:String,default:null},target:{type:String,default:"_self"},variant:{type:String,default:null}},emits:["click"],setup(t,{attrs:e}){const n=(0,r.Fl)((()=>({active:t.active,disabled:t.disabled,[`text-${t.variant}`]:t.variant}))),i=(0,r.Fl)((()=>t.href?"a":e.to?"b-link":"button")),o=(0,r.Fl)((()=>P({"aria-current":t.active?"true":null,href:"a"===i.value?t.href:null,rel:t.rel,type:"button"===i.value?"button":null,target:t.target},e.to?P({activeClass:"active"},e):{})));return{classes:n,tag:i,componentAttrs:o}}}),Jr={role:"presentation"};function Kr(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("li",Jr,[((0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),(0,r.dG)({class:["dropdown-item",[t.classes,t.linkClass]]},t.componentAttrs,{onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["class"]))])}var Qr=R(Zr,[["render",Kr]]);const ti=(0,r.aZ)({name:"BDropdownItemButton",inheritAttrs:!1,props:{active:{type:Boolean,default:!1},activeClass:{type:String,default:"active"},buttonClass:{type:[String,Array,Object]},disabled:{type:Boolean,default:!1},variant:{type:String,default:null}},emits:["click"],setup(t){const e=(0,r.Fl)((()=>({[t.activeClass]:t.active,disabled:t.disabled,[`text-${t.variant}`]:t.variant}))),n=(0,r.Fl)((()=>({role:"menuitem",type:"button",disabled:t.disabled})));return{classes:e,attrs:n}}}),ei={role:"presentation"};function ni(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("li",ei,[(0,r._)("button",(0,r.dG)({class:["dropdown-item",[t.classes,t.buttonClass]]},t.attrs,{onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[(0,r.WI)(t.$slots,"default")],16)])}var ri=R(ti,[["render",ni]]);const ii=(0,r.aZ)({name:"BDropdownText"}),oi={role:"presentation"},ai={class:"px-4 py-1 mb-0 text-muted"};function si(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("li",oi,[(0,r._)("p",ai,[(0,r.WI)(t.$slots,"default")])])}var li=R(ii,[["render",si]]);const ui=(0,r.aZ)({name:"BForm",props:{id:{type:String,required:!1},floating:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},emits:["submit"],setup(t){const e=(0,r.Fl)((()=>({"form-floating":t.floating,"was-validated":t.validated})));return{classes:e}}}),ci=["id","novalidate"];function di(t,e,n,o,s,l){return(0,r.wg)(),(0,r.iD)("form",{id:t.id,novalidate:t.novalidate,class:(0,i.C_)(t.classes),onSubmit:e[0]||(e[0]=(0,a.iM)((e=>t.$emit("submit",e)),["prevent"]))},[(0,r.WI)(t.$slots,"default")],42,ci)}var hi=R(ui,[["render",di]]);const fi=t=>(0,r.Fl)((()=>{if(!0===t.ariaInvalid||"true"===t.ariaInvalid||""===t.ariaInvalid)return"true";const e="boolean"===typeof t.state?t.state:null;return!1===e?"true":t.ariaInvalid})),pi=t=>(0,r.Fl)((()=>({"form-check":!t.plain&&!t.button,"form-check-inline":t.inline,"form-switch":t.switch,[`form-control-${t.size}`]:t.size&&"md"!==t.size}))),mi=t=>(0,r.Fl)((()=>({"form-check-input":!t.plain&&!t.button,"is-valid":!0===t.state,"is-invalid":!1===t.state,"btn-check":t.button}))),gi=t=>(0,r.Fl)((()=>({"form-check-label":!t.plain&&!t.button,btn:t.button,[`btn-${t.buttonVariant}`]:t.button,[`btn-${t.size}`]:t.button&&t.size&&"md"!==t.size}))),vi=t=>(0,r.Fl)((()=>({"aria-invalid":fi(t).value,"aria-required":"true"===t.required.toString()?"true":null}))),yi=t=>(0,r.Fl)((()=>({"was-validated":t.validated,"btn-group":t.buttons&&!t.stacked,"btn-group-vertical":t.stacked,[`btn-group-${t.size}`]:t.size}))),bi=(t,e,n)=>t.filter((t=>t.type.name===e)).map((t=>{const e=(t.children.default?t.children.default():[]).find((t=>"Symbol(Text)"===t.type.toString()));return{props:P({disabled:n},t.props),text:e?e.children:""}})),_i=(t,e)=>"string"===typeof t?{props:{value:t,disabled:e.disabled},text:t}:{props:P({value:t[e.valueField],disabled:e.disabled||t[e.disabledField]},t.props),text:t[e.textField],html:t[e.htmlField]},wi=(t,e,n,r,i)=>L(P({},t),{props:P({"button-variant":n.buttonVariant,form:n.form,name:r.value,id:`${i.value}_option_${e}`,button:n.buttons,state:n.state,plain:n.plain,size:n.size,inline:!n.stacked,required:n.required},t.props)}),xi=(0,r.aZ)({name:"BFormCheckbox",inheritAttrs:!1,props:{id:{type:String,default:void 0},ariaLabel:{type:String},ariaLabelledBy:{type:String},autofocus:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},button:{type:Boolean,default:!1},switch:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"},form:{type:String},indeterminate:{type:Boolean},inline:{type:Boolean,default:!1},name:{type:String},required:{type:Boolean,default:void 0},size:{type:String,default:"md"},state:{type:Boolean,default:null},uncheckedValue:{type:[Boolean,String,Array,Object,Number],default:!1},value:{type:[Boolean,String,Array,Object,Number],default:!0},modelValue:{type:[Boolean,String,Array,Object,Number],default:null}},emits:["update:modelValue","input","change"],setup(t,{emit:e}){const n=D(t.id,"form-check"),i=(0,o.iH)(null),a=(0,o.iH)(!1),s=(0,r.Fl)({get:()=>t.uncheckedValue?Array.isArray(t.modelValue)?t.modelValue.indexOf(t.value)>-1:t.modelValue===t.value:t.modelValue,set:n=>{let r=n;Array.isArray(t.modelValue)?t.uncheckedValue&&(r=t.modelValue,n?(r.indexOf(t.uncheckedValue)>-1&&r.splice(r.indexOf(t.uncheckedValue),1),r.push(t.value)):(r.indexOf(t.value)>-1&&r.splice(r.indexOf(t.value),1),r.push(t.uncheckedValue))):r=n?t.value:t.uncheckedValue,e("input",r),e("update:modelValue",r),e("change",r)}}),l=(0,r.Fl)((()=>Array.isArray(t.modelValue)?t.modelValue.indexOf(t.value)>-1:JSON.stringify(t.modelValue)===JSON.stringify(t.value))),u=pi(t),c=mi(t),d=gi(t);return t.autofocus&&(0,r.bv)((()=>{i.value.focus()})),{input:i,computedId:n,classes:u,inputClasses:c,labelClasses:d,localValue:s,isChecked:l,isFocused:a}}}),Si=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","indeterminate"],Mi=["for"];function Ei(t,e,n,o,s,l){return(0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)(t.classes)},[(0,r.wy)((0,r._)("input",(0,r.dG)({id:t.computedId},t.$attrs,{ref:"input","onUpdate:modelValue":e[0]||(e[0]=e=>t.localValue=e),class:t.inputClasses,type:"checkbox",disabled:t.disabled,required:t.name&&t.required,name:t.name,form:t.form,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledBy,"aria-required":t.name&&t.required?"true":null,value:t.value,indeterminate:t.indeterminate,onFocus:e[1]||(e[1]=e=>t.isFocused=!0),onBlur:e[2]||(e[2]=e=>t.isFocused=!1)}),null,16,Si),[[a.e8,t.localValue]]),t.$slots.default||!t.plain?((0,r.wg)(),(0,r.iD)("label",{key:0,for:t.computedId,class:(0,i.C_)([t.labelClasses,{active:t.isChecked,focus:t.isFocused}])},[(0,r.WI)(t.$slots,"default")],10,Mi)):(0,r.kq)("",!0)],2)}var Ti=R(xi,[["render",Ei]]);const Ai=(0,r.aZ)({name:"BFormCheckboxGroup",props:{modelValue:{type:Array,default:()=>[]},ariaInvalid:{type:[Boolean,String],default:null},autofocus:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"},buttons:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{type:String,default:"disabled"},form:{type:String},htmlField:{type:String,default:"html"},id:{type:String},name:{type:String},options:{type:Array,default:()=>[]},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String},stacked:{type:Boolean,default:!1},state:{type:Boolean,default:null},switches:{type:Boolean,default:!1},textField:{type:String,default:"text"},validated:{type:Boolean,default:!1},valueField:{type:String,default:"value"}},emits:["update:modelValue","change","input"],setup(t,{emit:e,slots:n}){const i="BFormCheckbox",o=D(t.id,"checkbox"),a=D(t.name,"checkbox"),s=(0,r.Fl)({get:()=>t.modelValue,set:n=>{JSON.stringify(n)!==JSON.stringify(t.modelValue)&&(e("input",n),e("update:modelValue",n),e("change",n))}}),l=(0,r.Fl)((()=>(n.first?bi(n.first(),i,t.disabled):[]).concat(t.options.map((e=>_i(e,t)))).concat(n.default?bi(n.default(),i,t.disabled):[]).map(((e,n)=>wi(e,n,t,a,o))).map((e=>L(P({},e),{props:P({switch:t.switches},e.props)}))))),u=vi(t),c=yi(t);return{attrs:u,classes:c,checkboxList:l,computedId:o,localValue:s}}}),Ci=["id"],Oi=["innerHTML"],ki=["textContent"];function Pi(t,e,n,o,a,s){const l=(0,r.up)("b-form-checkbox");return(0,r.wg)(),(0,r.iD)("div",(0,r.dG)(t.attrs,{id:t.computedId,role:"group",class:[t.classes,"bv-no-focus-ring"],tabindex:"-1"}),[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.checkboxList,((n,o)=>((0,r.wg)(),(0,r.j4)(l,(0,r.dG)({key:o,modelValue:t.localValue,"onUpdate:modelValue":e[0]||(e[0]=e=>t.localValue=e)},n.props),{default:(0,r.w5)((()=>[n.html?((0,r.wg)(),(0,r.iD)("span",{key:0,innerHTML:n.html},null,8,Oi)):((0,r.wg)(),(0,r.iD)("span",{key:1,textContent:(0,i.zw)(n.text)},null,8,ki))])),_:2},1040,["modelValue"])))),128))],16,Ci)}var Li=R(Ai,[["render",Pi]]);const Ii=(0,r.aZ)({name:"BFormFloatingLabel",props:{labelFor:{type:String},label:{type:String}}}),Di={class:"form-floating"},Ri=["for"];function Ni(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",Di,[(0,r.WI)(t.$slots,"default"),(0,r._)("label",{for:t.labelFor},(0,i.zw)(t.label),9,Ri)])}var Bi=R(Ii,[["render",Ni]]);const Fi=t=>"\\"+t,ji=t=>{t=_t(t);const e=t.length,n=t.charCodeAt(0);return t.split("").reduce(((r,i,o)=>{const a=t.charCodeAt(o);return 0===a?r+"�":127===a||a>=1&&a<=31||0===o&&a>=48&&a<=57||1===o&&a>=48&&a<=57&&45===n?r+Fi(`${a.toString(16)} `):0===o&&45===a&&1===e?r+Fi(i):a>=128||45===a||95===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+i:r+Fi(i)}),"")},zi=(t,e={},n={})=>{const r=[t];let i;for(let o=0;o<r.length&&!i;o++){const t=r[o];i=n[t]}return i&&vt(i)?i(e):i},Vi=(0,r.aZ)({name:"BFormValidFeedback",props:{ariaLive:{type:String,required:!1},forceShow:{type:Boolean,default:!1},id:{type:String,required:!1},role:{type:String,required:!1},state:{type:Boolean,default:void 0},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1}},setup(t){const e=(0,r.Fl)((()=>!0===t.forceShow||!0===t.state)),n=(0,r.Fl)((()=>({"d-block":e.value,"valid-feedback":!t.tooltip,"valid-tooltip":t.tooltip}))),i=(0,r.Fl)((()=>({id:t.id||null,role:t.role||null,"aria-live":t.ariaLive||null,"aria-atomic":t.ariaLive?"true":null})));return{attrs:i,classes:n,computedShow:e}}});function Ui(t,e,n,i,o,a){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),(0,r.dG)({class:t.classes},t.attrs),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["class"])}var Hi=R(Vi,[["render",Ui]]);const Wi=(0,r.aZ)({name:"BFormInvalidFeedback",props:{ariaLive:{type:String,required:!1},forceShow:{type:Boolean,default:!1},id:{type:String,required:!1},role:{type:String,required:!1},state:{type:Boolean,default:void 0},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1}},setup(t){const e=(0,r.Fl)((()=>!0===t.forceShow||!1===t.state)),n=(0,r.Fl)((()=>({"d-block":e.value,"invalid-feedback":!t.tooltip,"invalid-tooltip":t.tooltip}))),i=(0,r.Fl)((()=>({id:t.id||null,role:t.role||null,"aria-live":t.ariaLive||null,"aria-atomic":t.ariaLive?"true":null})));return{attrs:i,classes:n,computedShow:e}}});function Gi(t,e,n,i,o,a){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),(0,r.dG)({class:t.classes},t.attrs),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["class"])}var qi=R(Wi,[["render",Gi]]);const $i=(0,r.aZ)({name:"BFormRow",props:{tag:{type:String,default:"div"}}});function Xi(t,e,n,i,o,a){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:"row d-flex flex-wrap"},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3})}var Yi=R($i,[["render",Xi]]);const Zi=(0,r.aZ)({name:"BFormText",props:{id:{type:String,required:!1},inline:{type:Boolean,default:!1},tag:{type:String,default:"small"},textVariant:{type:String,default:"muted"}},setup(t){const e=(0,r.Fl)((()=>({"form-text":!t.inline,[`text-${t.textVariant}`]:t.textVariant}))),n=(0,r.Fl)((()=>({id:t.id||null})));return{attrs:n,classes:e}}});function Ji(t,e,n,i,o,a){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),(0,r.dG)({class:t.classes},t.attrs),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["class"])}var Ki=R(Zi,[["render",Ji]]);const Qi=["input","select","textarea"],to=Qi.map((t=>`${t}:not([disabled])`)).join(),eo=[...Qi,"a","button","label"],no="label",ro="invalid-feedback",io="valid-feedback",oo="description",ao="default",so=(0,r.aZ)({name:"BFormGroup",components:{BCol:hr,BFormInvalidFeedback:qi,BFormRow:Yi,BFormText:Ki,BFormValidFeedback:Hi},props:{contentCols:{type:[Boolean,String,Number],required:!1},contentColsLg:{type:[Boolean,String,Number],required:!1},contentColsMd:{type:[Boolean,String,Number],required:!1},contentColsSm:{type:[Boolean,String,Number],required:!1},contentColsXl:{type:[Boolean,String,Number],required:!1},description:{type:[String],required:!1},disabled:{type:Boolean,default:!1},feedbackAriaLive:{type:String,default:"assertive"},id:{type:String,required:!1},invalidFeedback:{type:String,required:!1},label:{type:String,required:!1},labelAlign:{type:[Boolean,String,Number],required:!1},labelAlignLg:{type:[Boolean,String,Number],required:!1},labelAlignMd:{type:[Boolean,String,Number],required:!1},labelAlignSm:{type:[Boolean,String,Number],required:!1},labelAlignXl:{type:[Boolean,String,Number],required:!1},labelClass:{type:[Array,Object,String],required:!1},labelCols:{type:[Boolean,String,Number],required:!1},labelColsLg:{type:[Boolean,String,Number],required:!1},labelColsMd:{type:[Boolean,String,Number],required:!1},labelColsSm:{type:[Boolean,String,Number],required:!1},labelColsXl:{type:[Boolean,String,Number],required:!1},labelFor:{type:String,required:!1},labelSize:{type:String,required:!1},labelSrOnly:{type:Boolean,default:!1},state:{type:Boolean,default:null},tooltip:{type:Boolean,default:!1},validFeedback:{type:String,required:!1},validated:{type:Boolean,default:!1},floating:{type:Boolean,default:!1}},setup(t,{attrs:e}){const n=null,i=["xs","sm","md","lg","xl"],a=(t,e)=>{const n=i.reduce(((n,r)=>{const i=t[Me(r,`${e}Align`)]||null;return i&&n.push(["text",r,i].filter((t=>t)).join("-")),n}),[]);return n},s=(t,e)=>{const n=i.reduce(((n,r)=>{let i=t[Me(r,`${e}Cols`)];return i=""===i||(i||!1),lt(i)||"auto"===i||(i=Yt(i,0),i=i>0&&i),i&&(n[r||(lt(i)?"col":"cols")]=i),n}),{});return n},l=(0,o.iH)(),u=(e,n=null)=>{if(rt&&t.labelFor){const r=Pt(`#${ji(t.labelFor)}`,l);if(r){const t="aria-describedby",i=(e||"").split(X),o=(n||"").split(X),a=(It(r,t)||"").split(X).filter((t=>!J(o,t))).concat(i).filter(((t,e,n)=>n.indexOf(t)===e)).filter((t=>t)).join(" ").trim();a?Dt(r,t,a):Rt(r,t)}}},c=(0,r.Fl)((()=>s(t,"content"))),d=(0,r.Fl)((()=>a(t,"label"))),h=(0,r.Fl)((()=>s(t,"label"))),f=(0,r.Fl)((()=>Object.keys(c.value).length>0||Object.keys(h.value).length>0)),p=(0,r.Fl)((()=>lt(t.state)?t.state:null)),m=(0,r.Fl)((()=>{const t=p.value;return!0===t?"is-valid":!1===t?"is-invalid":null})),g=(0,r.Fl)((()=>!0===e.ariaInvalid||"true"===e.ariaInvalid||""===e.ariaInvalid||!1===p.value?"true":e.ariaInvalid));(0,r.YP)((()=>n),((t,e)=>{t!==e&&u(t,e)})),(0,r.bv)((()=>{(0,r.Y3)((()=>{u(n)}))}));const v=e=>{if(t.labelFor)return;const{target:n}=e,r=n?n.tagName:"";if(-1!==eo.indexOf(r))return;const i=Lt(to,l).filter(Ot);1===i.length&&At(i[0])};return{ariaDescribedby:n,computedAriaInvalid:g,contentColProps:c,isHorizontal:f,labelAlignClasses:d,labelColProps:h,onLegendClick:v,stateClass:m}},render(){const t=this.$props,e=this.$slots,n=D(),i=!t.labelFor;let o=null;const a=zi(no,{},e)||t.label,s=a?I("_BV_label_"):null;if(a||this.isHorizontal){const e=i?"legend":"label";if(t.labelSrOnly)a&&(o=(0,r.h)(e,{class:"visually-hidden",id:s,for:t.labelFor||null},a)),o=this.isHorizontal?(0,r.h)(hr,this.labelColProps,{default:()=>o}):(0,r.h)("div",{},[o]);else{const n=L(P({onClick:i?this.onLegendClick:null},this.isHorizontal?this.labelColProps:{}),{tag:this.isHorizontal?e:null,id:s,for:t.labelFor||null,tabIndex:i?"-1":null,class:[this.isHorizontal?"col-form-label":"form-label",{"bv-no-focus-ring":i,"col-form-label":this.isHorizontal||i,"pt-0":!this.isHorizontal&&i,"d-block":!this.isHorizontal&&!i,[`col-form-label-${t.labelSize}`]:!!t.labelSize},this.labelAlignClasses,t.labelClass]});o=this.isHorizontal?(0,r.h)(hr,n,{default:()=>a}):(0,r.h)(e,n,a)}}let l=null;const u=zi(ro,{},e)||this.invalidFeedback,c=u?I("_BV_feedback_invalid_"):null;u&&(l=(0,r.h)(qi,{ariaLive:t.feedbackAriaLive,id:c,state:t.state,tooltip:t.tooltip,tabindex:u?"-1":null},{default:()=>u}));let d=null;const h=zi(io,{},e)||this.validFeedback,f=h?I("_BV_feedback_valid_"):null;h&&(d=(0,r.h)(Hi,{ariaLive:t.feedbackAriaLive,id:f,state:t.state,tooltip:t.tooltip,tabindex:h?"-1":null},{default:()=>h}));let p=null;const m=zi(oo,{},e)||this.description,g=m?I("_BV_description_"):null;m&&(p=(0,r.h)(Ki,{id:g,tabindex:"-1"},{default:()=>m}));const v=this.ariaDescribedby=[g,!1===t.state?c:null,!0===t.state?f:null].filter((t=>t)).join(" ")||null,y=[zi(ao,{ariaDescribedby:v,descriptionId:g,id:n,labelId:s},e)||"",l,d,p];!this.isHorizontal&&t.floating&&y.push(o);let b=(0,r.h)("div",{ref:"content",class:[{"form-floating":!this.isHorizontal&&t.floating}]},y);this.isHorizontal&&(b=(0,r.h)(hr,P({ref:"content"},this.contentColProps),{default:()=>y}));const _={class:["mb-3",this.stateClass,{"was-validated":t.validated}],id:D(t.id).value,disabled:i?t.disabled:null,role:i?null:"group","aria-invalid":this.computedAriaInvalid,"aria-labelledby":i&&this.isHorizontal?s:null};return this.isHorizontal&&!i?(0,r.h)(Yi,_,{default:()=>[o,b]}):(0,r.h)(i?"fieldset":"div",_,this.isHorizontal&&i?[(0,r.h)(Yi,{},{default:()=>[o,b]})]:this.isHorizontal||!t.floating?[o,b]:[b])}}),lo={ariaInvalid:{type:[Boolean,String],default:!1},autocomplete:{type:String,required:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{type:String,required:!1},formatter:{type:Function,required:!1},id:{type:String,required:!1},lazy:{type:Boolean,default:!1},lazyFormatter:{type:Boolean,default:!1},list:{type:String,required:!1},modelValue:{type:[String,Number],default:""},name:{type:String,required:!1},number:{type:Boolean,default:!1},placeholder:{type:String,required:!1},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String,required:!1},state:{type:Boolean,default:null},trim:{type:Boolean,default:!1}};function uo(t,e){const n=(0,o.iH)();let i=null,a=!0;const s=D(t.id,"input"),l=(e,n,r=!1)=>(e=String(e),"function"!==typeof t.formatter||t.lazyFormatter&&!r?e:(a=!1,t.formatter(e,n))),u=e=>t.trim?e.trim():t.number?parseFloat(e):e,c=()=>{(0,r.Y3)((()=>{var e;t.autofocus&&(null==(e=n.value)||e.focus())}))};(0,r.bv)(c),(0,r.bv)((()=>{n.value&&(n.value.value=t.modelValue)})),(0,r.dl)(c);const d=(0,r.Fl)((()=>t.ariaInvalid?t.ariaInvalid.toString():!1===t.state?"true":void 0)),h=n=>{const{value:r}=n.target,o=l(r,n);if(!1===o||n.defaultPrevented)return void n.preventDefault();if(t.lazy)return;e("input",o);const a=u(o);t.modelValue!==a&&(i=r,e("update:modelValue",a))},f=n=>{const{value:r}=n.target,o=l(r,n);if(!1===o||n.defaultPrevented)return void n.preventDefault();if(!t.lazy)return;i=r,e("update:modelValue",o);const a=u(o);t.modelValue!==a&&e("change",o)},p=n=>{if(e("blur",n),!t.lazy&&!t.lazyFormatter)return;const{value:r}=n.target,o=l(r,n,!0);i=r,e("update:modelValue",o)},m=()=>{var e;t.disabled||null==(e=n.value)||e.focus()},g=()=>{var e;t.disabled||null==(e=n.value)||e.blur()};return(0,r.YP)((()=>t.modelValue),(t=>{n.value&&(n.value.value=i&&a?i:t,i=null,a=!0)})),{input:n,computedId:s,computedAriaInvalid:d,onInput:h,onChange:f,onBlur:p,focus:m,blur:g}}const co=["text","number","email","password","search","url","tel","date","time","range","color"],ho=(0,r.aZ)({name:"BFormInput",props:L(P({},lo),{max:{type:[String,Number],required:!1},min:{type:[String,Number],required:!1},step:{type:[String,Number],required:!1},type:{type:String,default:"text",validator:t=>co.includes(t)}}),emits:["update:modelValue","change","blur","input"],setup(t,{emit:e}){const n=(0,r.Fl)((()=>{const e="range"===t.type,n="color"===t.type;return{"form-range":e,"form-control":n||!t.plaintext&&!e,"form-control-color":n,"form-control-plaintext":t.plaintext&&!e&&!n,[`form-control-${t.size}`]:t.size,"is-valid":!0===t.state,"is-invalid":!1===t.state}})),i=(0,r.Fl)((()=>co.includes(t.type)?t.type:"text")),{input:o,computedId:a,computedAriaInvalid:s,onInput:l,onChange:u,onBlur:c,focus:d,blur:h}=uo(t,e);return{classes:n,localType:i,input:o,computedId:a,computedAriaInvalid:s,onInput:l,onChange:u,onBlur:c,focus:d,blur:h}}}),fo=["id","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"];function po(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("input",(0,r.dG)({id:t.computedId,ref:"input",class:t.classes,name:t.name||void 0,form:t.form||void 0,type:t.localType,disabled:t.disabled,placeholder:t.placeholder,required:t.required,autocomplete:t.autocomplete||void 0,readonly:t.readonly||t.plaintext,min:t.min,max:t.max,step:t.step,list:"password"!==t.type?t.list:void 0,"aria-required":t.required?"true":void 0,"aria-invalid":t.computedAriaInvalid},t.$attrs,{onInput:e[0]||(e[0]=e=>t.onInput(e)),onChange:e[1]||(e[1]=e=>t.onChange(e)),onBlur:e[2]||(e[2]=e=>t.onBlur(e))}),null,16,fo)}var mo=R(ho,[["render",po]]);const go=(0,r.aZ)({name:"BFormRadio",props:{ariaLabel:{type:String},ariaLabelledBy:{type:String},autofocus:{type:Boolean,default:!1},modelValue:{type:[Boolean,String,Array,Object,Number],default:null},plain:{type:Boolean,default:!1},button:{type:Boolean,default:!1},switch:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"},form:{type:String},id:{type:String},inline:{type:Boolean,default:!1},name:{type:String},required:{type:Boolean,default:!1},size:{type:String},state:{type:Boolean,default:null},value:{type:[String,Boolean,Object,Number],default:!0}},emits:["update:modelValue","change","input"],setup(t,{emit:e}){const n=D(t.id,"form-check"),i=(0,o.iH)(null),a=(0,o.iH)(!1),s=(0,r.Fl)({get:()=>Array.isArray(t.modelValue)?t.modelValue[0]:t.modelValue,set:n=>{const r=!!n&&t.value,i=Array.isArray(t.modelValue)?[r]:r;e("input",i),e("change",i),e("update:modelValue",i)}}),l=(0,r.Fl)((()=>Array.isArray(t.modelValue)?(t.modelValue||[]).find((e=>e===t.value)):JSON.stringify(t.modelValue)===JSON.stringify(t.value))),u=pi(t),c=mi(t),d=gi(t);return t.autofocus&&(0,r.bv)((()=>{i.value.focus()})),{localValue:s,computedId:n,classes:u,inputClasses:c,labelClasses:d,isChecked:l,isFocused:a,input:i}}}),vo=["id","disabled","required","name","form","aria-label","aria-labelledby","value","aria-required"],yo=["for"];function bo(t,e,n,o,s,l){return(0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)(t.classes)},[(0,r.wy)((0,r._)("input",(0,r.dG)({id:t.computedId},t.$attrs,{ref:"input","onUpdate:modelValue":e[0]||(e[0]=e=>t.localValue=e),class:t.inputClasses,type:"radio",disabled:t.disabled,required:t.name&&t.required,name:t.name,form:t.form,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledBy,value:t.value,"aria-required":t.name&&t.required?"true":null,onFocus:e[1]||(e[1]=e=>t.isFocused=!0),onBlur:e[2]||(e[2]=e=>t.isFocused=!1)}),null,16,vo),[[a.G2,t.localValue]]),t.$slots.default||!t.plain?((0,r.wg)(),(0,r.iD)("label",{key:0,for:t.computedId,class:(0,i.C_)([t.labelClasses,{active:t.isChecked,focus:t.isFocused}])},[(0,r.WI)(t.$slots,"default")],10,yo)):(0,r.kq)("",!0)],2)}var _o=R(go,[["render",bo]]);const wo=(0,r.aZ)({name:"BFormRadioGroup",props:{modelValue:{type:[String,Boolean,Array,Object,Number],default:""},ariaInvalid:{type:[Boolean,String],default:null},autofocus:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"},buttons:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{type:String,default:"disabled"},form:{type:String},htmlField:{type:String,default:"html"},id:{type:String},name:{type:String},options:{type:Array,default:()=>[]},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String},stacked:{type:Boolean,default:!1},state:{type:Boolean,default:null},textField:{type:String,default:"text"},validated:{type:Boolean,default:!1},valueField:{type:String,default:"value"}},emits:["update:modelValue","input","change"],setup(t,{emit:e,slots:n}){const i="BFormRadio",o=D(t.id,"radio"),a=D(t.name,"checkbox"),s=(0,r.Fl)({get:()=>t.modelValue,set:t=>{e("input",t),e("update:modelValue",t),e("change",t)}}),l=(0,r.Fl)((()=>(n.first?bi(n.first(),i,t.disabled):[]).concat(t.options.map((e=>_i(e,t)))).concat(n.default?bi(n.default(),i,t.disabled):[]).map(((e,n)=>wi(e,n,t,a,o))).map((t=>P({},t))))),u=vi(t),c=yi(t);return{attrs:u,classes:c,checkboxList:l,computedId:o,localValue:s}}}),xo=["id"],So=["innerHTML"],Mo=["textContent"];function Eo(t,e,n,o,a,s){const l=(0,r.up)("b-form-radio");return(0,r.wg)(),(0,r.iD)("div",(0,r.dG)(t.attrs,{id:t.computedId,role:"radiogroup",class:[t.classes,"bv-no-focus-ring"],tabindex:"-1"}),[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.checkboxList,((n,o)=>((0,r.wg)(),(0,r.j4)(l,(0,r.dG)({key:o,modelValue:t.localValue,"onUpdate:modelValue":e[0]||(e[0]=e=>t.localValue=e)},n.props),{default:(0,r.w5)((()=>[n.html?((0,r.wg)(),(0,r.iD)("span",{key:0,innerHTML:n.html},null,8,So)):((0,r.wg)(),(0,r.iD)("span",{key:1,textContent:(0,i.zw)(n.text)},null,8,Mo))])),_:2},1040,["modelValue"])))),128))],16,xo)}var To=R(wo,[["render",Eo]]);const Ao=(0,r.aZ)({name:"BFormSelectOption",props:{value:{required:!0},disabled:{type:Boolean,default:!1}}}),Co=["value","disabled"];function Oo(t,e,n,i,o,a){var s;return(0,r.wg)(),(0,r.iD)("option",{value:null!=(s=t.value)?s:"",disabled:t.disabled},[(0,r.WI)(t.$slots,"default")],8,Co)}var ko=R(Ao,[["render",Oo]]);const Po=(t,e)=>{if(!t)return t;if(e in t)return t[e];const n=e.split(".");return Po(t[n[0]],n.splice(1).join("."))},Lo=(t,e=null,n,r)=>{if("[object Object]"===Object.prototype.toString.call(t)){const i=Po(t,r.valueField),o=Po(t,r.textField),a=Po(t,r.htmlField),s=Po(t,r.disabledField),l=t[r.optionsField]||null;return null!==l?{label:String(Po(t,r.labelField)||o),options:Io(l,n,r)}:{value:"undefined"===typeof i?e||o:i,text:String("undefined"===typeof o?e:o),html:a,disabled:Boolean(s)}}return{value:e||t,text:String(t),disabled:!1}},Io=(t,e,n)=>Array.isArray(t)?t.map((t=>Lo(t,null,e,n))):"[object Object]"===Object.prototype.toString.call(t)?(S.warn(`[BootstrapVue warn]: ${e} - Setting prop "options" to an object is deprecated. Use the array format instead.`),Object.keys(t).map((r=>{const i=t[r];switch(typeof i){case"object":return Lo(i.text,String(i.value),e,n);default:return Lo(i,String(r),e,n)}}))):[],Do=(0,r.aZ)({name:"BFormSelectOptionGroup",components:{BFormSelectOption:ko},props:{label:{type:String,required:!0},disabledField:{type:String,default:"disabled"},htmlField:{type:String,default:"html"},options:{type:[Array,Object],default:()=>[]},textField:{type:String,default:"text"},valueField:{type:String,default:"value"}},setup(t){const e=(0,r.Fl)((()=>Io(t.options,"BFormSelectOptionGroup",t)));return{formOptions:e}}}),Ro=["label"];function No(t,e,n,i,o,a){const s=(0,r.up)("b-form-select-option");return(0,r.wg)(),(0,r.iD)("optgroup",{label:t.label},[(0,r.WI)(t.$slots,"first"),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.formOptions,((e,n)=>((0,r.wg)(),(0,r.j4)(s,(0,r.dG)({key:`option_${n}`,value:e.value,disabled:e.disabled},t.$attrs,{innerHTML:e.html||e.text}),null,16,["value","disabled","innerHTML"])))),128)),(0,r.WI)(t.$slots,"default")],8,Ro)}var Bo=R(Do,[["render",No]]);const Fo=(0,r.aZ)({name:"BFormSelect",components:{BFormSelectOption:ko,BFormSelectOptionGroup:Bo},props:{ariaInvalid:{type:[Boolean,String],default:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{type:String,default:"disabled"},form:{type:String,required:!1},htmlField:{type:String,default:"html"},id:{type:String,required:!1},labelField:{type:String,default:"label"},multiple:{type:Boolean,default:!1},name:{type:String,required:!1},options:{type:[Array,Object],default:()=>[]},optionsField:{type:String,default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{type:Number,default:0},size:{type:String,required:!1},state:{type:Boolean,default:null},textField:{type:String,default:"text"},valueField:{type:String,default:"value"},modelValue:{type:[String,Array,Object,Number],default:""}},emits:["update:modelValue","change","input"],setup(t,{emit:e}){const n=(0,o.iH)(),i=D(t.id,"input"),a=()=>{(0,r.Y3)((()=>{var e;t.autofocus&&(null==(e=n.value)||e.focus())}))};(0,r.bv)(a),(0,r.dl)(a);const s=(0,r.Fl)((()=>({"form-control":t.plain,[`form-control-${t.size}`]:t.size&&t.plain,"form-select":!t.plain,[`form-select-${t.size}`]:t.size&&!t.plain,"is-valid":!0===t.state,"is-invalid":!1===t.state}))),l=(0,r.Fl)((()=>t.selectSize||t.plain?t.selectSize:null)),u=(0,r.Fl)((()=>t.ariaInvalid?t.ariaInvalid.toString():!1===t.state?"true":null)),c=(0,r.Fl)((()=>Io(t.options,"BFormSelect",t))),d=(0,r.Fl)({get(){return t.modelValue},set(t){e("change",t),e("update:modelValue",t),e("input",t)}}),h=()=>{var e;t.disabled||null==(e=n.value)||e.focus()},f=()=>{var e;t.disabled||null==(e=n.value)||e.blur()};return{input:n,computedId:i,computedSelectSize:l,computedAriaInvalid:u,classes:s,formOptions:c,localValue:d,focus:h,blur:f}}}),jo=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"];function zo(t,e,n,i,o,s){const l=(0,r.up)("b-form-select-option-group"),u=(0,r.up)("b-form-select-option");return(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",(0,r.dG)({id:t.computedId,ref:"input"},t.$attrs,{"onUpdate:modelValue":e[0]||(e[0]=e=>t.localValue=e),class:t.classes,name:t.name,form:t.form||null,multiple:t.multiple||null,size:t.computedSelectSize,disabled:t.disabled,required:t.required,"aria-required":t.required?"true":null,"aria-invalid":t.computedAriaInvalid}),[(0,r.WI)(t.$slots,"first"),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.formOptions,((t,e)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[Array.isArray(t.options)?((0,r.wg)(),(0,r.j4)(l,{key:`option_${e}`,label:t.label,options:t.options},null,8,["label","options"])):((0,r.wg)(),(0,r.j4)(u,{key:`option2_${e}`,value:t.value,disabled:t.disabled,innerHTML:t.html||t.text},null,8,["value","disabled","innerHTML"]))],64)))),256)),(0,r.WI)(t.$slots,"default")],16,jo)),[[a.bM,t.localValue]])}var Vo=R(Fo,[["render",zo]]);const Uo=["id"],Ho=["aria-label","aria-controls","aria-describedby"],Wo=(0,r.aZ)({props:{disabled:{type:Boolean,default:!1},id:{type:String},noRemove:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},removeLabel:{type:String,default:"Remove tag"},tag:{type:String,default:"span"},title:{type:String},variant:{type:String,default:"secondary"}},emits:["remove"],setup(t){const e=t,n=(0,r.Rr)(),a=(0,r.Fl)((()=>{var t;return(null==(t=n.default)?void 0:t.call(n)[0].children)||e.title})),s=D(e.id),l=(0,r.Fl)((()=>`${s.value}taglabel__`)),u=(0,r.Fl)((()=>[`bg-${e.variant}`,{"text-dark":["warning","info","light"].includes(e.variant),"rounded-pill":e.pill,disabled:e.disabled}]));return(e,n)=>((0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{id:(0,o.SU)(s),title:(0,o.SU)(a),class:(0,i.C_)(["badge b-form-tag d-inline-flex align-items-center mw-100",(0,o.SU)(u)]),"aria-labelledby":(0,o.SU)(l)},{default:(0,r.w5)((()=>[(0,r._)("span",{id:(0,o.SU)(l),class:"b-form-tag-content flex-grow-1 text-truncate"},[(0,r.WI)(e.$slots,"default",{},(()=>[(0,r.Uk)((0,i.zw)((0,o.SU)(a)),1)]))],8,Uo),t.disabled||t.noRemove?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,"aria-keyshortcuts":"Delete",type:"button","aria-label":t.removeLabel,class:(0,i.C_)(["btn-close b-form-tag-remove",{"btn-close-white":!["warning","info","light"].includes(t.variant)}]),"aria-controls":t.id,"aria-describedby":(0,o.SU)(l),onClick:n[0]||(n[0]=t=>e.$emit("remove",(0,o.SU)(a)))},null,10,Ho))])),_:3},8,["id","title","class","aria-labelledby"]))}}),Go=["id"],qo=["id","for","aria-live"],$o=["id","aria-live"],Xo=["id"],Yo=["aria-controls"],Zo={role:"group",class:"d-flex"},Jo=["id","disabled","value","type","placeholder","form","required"],Ko=["disabled"],Qo={"aria-live":"polite","aria-atomic":"true"},ta={key:0,class:"d-block invalid-feedback"},ea={key:1,class:"form-text text-muted"},na={key:2,class:"form-text text-muted"},ra=["name","value"],ia=(0,r.aZ)({props:{addButtonText:{type:String,default:"Add"},addButtonVariant:{type:String,default:"outline-secondary"},addOnChange:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},duplicateTagText:{type:String,default:"Duplicate tag(s)"},inputAttrs:{type:Object},inputClass:{type:[Array,Object,String]},inputId:{type:String},inputType:{type:String,default:"text"},invalidTagText:{type:String,default:"Invalid tag(s)"},form:{type:String},limit:{type:Number},limitTagsText:{type:String,default:"Tag limit reached"},modelValue:{type:Array,default:()=>[]},name:{type:String},noAddOnEnter:{type:Boolean,default:!1},noOuterFocus:{type:Boolean,default:!1},noTagRemove:{type:Boolean,default:!1},placeholder:{type:String,default:"Add tag..."},removeOnDelete:{type:Boolean,default:!1},required:{type:Boolean,default:!1},separator:{type:[String,Array]},state:{type:Boolean,default:null},size:{type:String},tagClass:{type:[String,Array,Object]},tagPills:{type:Boolean,default:!1},tagRemoveLabel:{type:String},tagRemovedLabel:{type:String,default:"Tag removed"},tagValidator:{type:Function,default:()=>!0},tagVariant:{type:String,default:"secondary"}},emits:["update:modelValue","input","tag-state","focus","focusin","focusout","blur"],setup(t,{emit:e}){const n=t,a=(0,o.iH)(null),s=D(),l=(0,r.Fl)((()=>n.inputId||`${s.value}input__`));(0,r.bv)((()=>{x(),n.modelValue.length>0&&(d.value=!0)})),(0,r.dl)((()=>x())),(0,r.YP)((()=>n.modelValue),(t=>{u.value=t}));const u=(0,o.iH)(n.modelValue),c=(0,o.iH)(""),d=(0,o.iH)(!1),h=(0,o.iH)(!1),f=(0,o.iH)(""),p=(0,o.iH)([]),m=(0,o.iH)([]),g=(0,o.iH)([]),v=(0,r.Fl)((()=>({[`form-control-${n.size}`]:n.size,disabled:n.disabled,focus:h.value,"is-invalid":!1===n.state,"is-valid":!0===n.state}))),y=(0,r.Fl)((()=>u.value.includes(c.value))),b=(0,r.Fl)((()=>""!==c.value&&!n.tagValidator(c.value))),_=(0,r.Fl)((()=>u.value.length===n.limit)),w=(0,r.Fl)((()=>!b.value&&!y.value));function x(){var t;n.autofocus&&(null==(t=a.value)||t.focus())}function S(t){if(n.disabled){const e=t.target;e.blur()}else e("focusin",t)}function M(t){n.disabled||n.noOuterFocus||(h.value=!0,e("focus",t))}function E(t){h.value=!1,e("blur",t)}function T(t){var r,i;const o="string"===typeof t?t:t.target.value;d.value=!1,(null==(r=n.separator)?void 0:r.includes(o.charAt(0)))&&o.length>0?a.value&&(a.value.value=""):(c.value=o,(null==(i=n.separator)?void 0:i.includes(o.charAt(o.length-1)))?O(o.slice(0,o.length-1)):(p.value=n.tagValidator(o)&&!y.value?[o]:[],m.value=n.tagValidator(o)?[]:[o],g.value=y.value?[o]:[],e("tag-state",p,m,g)))}function A(t){n.addOnChange&&(T(t),y.value||O(c.value))}function C(t){"Enter"!==t.key||n.noAddOnEnter?("Backspace"===t.key||"Delete"===t.key)&&n.removeOnDelete&&""===c.value&&d.value&&u.value.length>0?k(u.value[u.value.length-1]):d.value=!0:O(c.value)}function O(t){var r;if(t=(t||c.value).trim(),""===t||y.value||!n.tagValidator(t)||n.limit&&_.value)return;const i=[...n.modelValue,t];c.value="",d.value=!0,e("update:modelValue",i),e("input",i),null==(r=a.value)||r.focus()}function k(t){const n=u.value.indexOf(t);f.value=u.value.splice(n,1).toString(),e("update:modelValue",u.value)}return(e,n)=>((0,r.wg)(),(0,r.iD)("div",{id:(0,o.SU)(s),class:(0,i.C_)(["b-form-tags form-control h-auto",(0,o.SU)(v)]),role:"group",tabindex:"-1",onFocusin:S,onFocusout:n[1]||(n[1]=t=>e.$emit("focusout",t))},[(0,r._)("output",{id:`${(0,o.SU)(s)}selected_tags__`,class:"visually-hidden",role:"status",for:(0,o.SU)(l),"aria-live":h.value?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"},(0,i.zw)(u.value.join(", ")),9,qo),(0,r._)("div",{id:`${(0,o.SU)(s)}removed_tags__`,role:"status","aria-live":h.value?"assertive":"off","aria-atomic":"true",class:"visually-hidden"}," ("+(0,i.zw)(t.tagRemovedLabel)+") "+(0,i.zw)(f.value),9,$o),(0,r.WI)(e.$slots,"default",(0,i.vs)((0,r.F4)({addButtonText:t.addButtonText,addButtonVariant:t.addButtonVariant,addTag:O,disableAddButton:(0,o.SU)(w),disabled:t.disabled,duplicateTagText:t.duplicateTagText,duplicateTags:g.value,form:t.form,inputAttrs:L(P({},t.inputAttrs),{disabled:t.disabled,form:t.form,id:(0,o.SU)(l),value:c.value}),inputHandlers:{input:T,keydown:C,change:A},inputId:(0,o.SU)(l),inputType:t.inputType,invalidTagText:t.invalidTagText,invalidTags:m.value,isDuplicate:(0,o.SU)(y),isInvalid:(0,o.SU)(b),isLimitReached:(0,o.SU)(_),limitTagsText:t.limitTagsText,limit:t.limit,noTagRemove:t.noTagRemove,placeholder:t.placeholder,removeTag:k,required:t.required,separator:t.separator,size:t.size,state:t.state,tagClass:t.tagClass,tagPills:t.tagPills,tagRemoveLabel:t.tagRemoveLabel,tagVariant:t.tagVariant,tags:u.value})),(()=>[(0,r._)("ul",{id:`${(0,o.SU)(s)}tag_list__`,class:"b-form-tags-list list-unstyled mb-0 d-flex flex-wrap align-items-center"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.value,(e=>((0,r.wg)(),(0,r.j4)(Wo,{key:e,class:(0,i.C_)(t.tagClass),tag:"li",variant:t.tagVariant,pill:t.tagPills,onRemove:k},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e),1)])),_:2},1032,["class","variant","pill"])))),128)),(0,r._)("li",{role:"none","aria-live":"off",class:"b-from-tags-field flex-grow-1","aria-controls":`${(0,o.SU)(s)}tag_list__`},[(0,r._)("div",Zo,[(0,r._)("input",(0,r.dG)({id:(0,o.SU)(l),ref_key:"input",ref:a,disabled:t.disabled,value:c.value,type:t.inputType,placeholder:t.placeholder,class:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",style:{outline:"currentcolor none 0px","min-width":"5rem"}},t.inputAttrs,{form:t.form,required:t.required,onInput:T,onChange:A,onKeydown:C,onFocus:M,onBlur:E}),null,16,Jo),(0,o.SU)(w)?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:(0,i.C_)(["btn b-form-tags-button py-0",[`btn-${t.addButtonVariant}`,{"disabled invisible":0===c.value.length},t.inputClass]]),style:{"font-size":"90%"},disabled:t.disabled||0===c.value.length||(0,o.SU)(_),onClick:n[0]||(n[0]=t=>O(c.value))},[(0,r.WI)(e.$slots,"add-button-text",{},(()=>[(0,r.Uk)((0,i.zw)(t.addButtonText),1)]))],10,Ko)):(0,r.kq)("",!0)])],8,Yo)],8,Xo),(0,r._)("div",Qo,[(0,o.SU)(b)?((0,r.wg)(),(0,r.iD)("div",ta,(0,i.zw)(t.invalidTagText)+": "+(0,i.zw)(c.value),1)):(0,r.kq)("",!0),(0,o.SU)(y)?((0,r.wg)(),(0,r.iD)("small",ea,(0,i.zw)(t.duplicateTagText)+": "+(0,i.zw)(c.value),1)):(0,r.kq)("",!0),u.value.length===t.limit?((0,r.wg)(),(0,r.iD)("small",na,"Tag limit reached")):(0,r.kq)("",!0)])])),t.name?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(u.value,(e=>((0,r.wg)(),(0,r.iD)("input",{key:e,type:"hidden",name:t.name,value:e},null,8,ra)))),128)):(0,r.kq)("",!0)],42,Go))}}),oa=(0,r.aZ)({name:"BFormTextarea",props:L(P({},lo),{noResize:{type:Boolean,default:!1},rows:{type:[String,Number],required:!1,default:2},wrap:{type:String,default:"soft"}}),emits:["update:modelValue","change","blur","input"],setup(t,{emit:e}){const n=(0,r.Fl)((()=>({"form-control":!t.plaintext,"form-control-plaintext":t.plaintext,[`form-control-${t.size}`]:t.size,"is-valid":!0===t.state,"is-invalid":!1===t.state}))),i=(0,r.Fl)((()=>t.noResize?{resize:"none"}:void 0)),{input:o,computedId:a,computedAriaInvalid:s,onInput:l,onChange:u,onBlur:c,focus:d,blur:h}=uo(t,e);return{input:o,computedId:a,computedAriaInvalid:s,onInput:l,onChange:u,onBlur:c,focus:d,blur:h,classes:n,computedStyles:i}}}),aa=["id","name","form","disabled","placeholder","required","autocomplete","readonly","aria-required","aria-invalid","rows","wrap"];function sa(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("textarea",(0,r.dG)({id:t.computedId,ref:"input",class:t.classes,name:t.name||void 0,form:t.form||void 0,disabled:t.disabled,placeholder:t.placeholder,required:t.required,autocomplete:t.autocomplete||void 0,readonly:t.readonly||t.plaintext,"aria-required":t.required?"true":void 0,"aria-invalid":t.computedAriaInvalid,rows:t.rows,style:t.computedStyles,wrap:t.wrap||void 0},t.$attrs,{onInput:e[0]||(e[0]=e=>t.onInput(e)),onChange:e[1]||(e[1]=e=>t.onChange(e)),onBlur:e[2]||(e[2]=e=>t.onBlur(e))}),null,16,aa)}var la=R(oa,[["render",sa]]);const ua='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>',ca=(t,e,n)=>{const r=encodeURIComponent(ua.replace("%{w}",String(t)).replace("%{h}",String(e)).replace("%{f}",n));return`data:image/svg+xml;charset=UTF-8,${r}`},da=(0,r.aZ)({name:"BImg",props:{alt:{type:String,default:void 0},blank:{type:Boolean,default:!1},blankColor:{type:String,default:"transparent"},block:{type:Boolean,default:!1},center:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},height:{type:[Number,String],required:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},sizes:{type:[String,Array],required:!1},src:{type:String,required:!1},srcset:{type:[String,Array],required:!1},thumbnail:{type:Boolean,default:!1},width:{type:[Number,String],required:!1}},setup(t){const e=(0,r.Fl)((()=>{let e=t.src,n=("number"===typeof t.width?t.width:parseInt(t.width,10))||null,r=("number"===typeof t.height?t.height:parseInt(t.height,10))||null,i="";"string"===typeof t.srcset?i=t.srcset.split(",").filter((t=>t)).join(","):Array.isArray(t.srcset)&&(i=t.srcset.filter((t=>t)).join(","));let o="";return"string"===typeof t.sizes?o=t.sizes.split(",").filter((t=>t)).join(","):Array.isArray(t.sizes)&&(o=t.sizes.filter((t=>t)).join(",")),t.blank&&(!r&&n?r=n:!n&&r&&(n=r),n||r||(n=1,r=1),e=ca(n,r,t.blankColor||"transparent"),i="",o=""),{src:e,alt:t.alt,width:n||null,height:r||null,srcset:i||null,sizes:o||null}})),n=(0,r.Fl)((()=>{let e="",n=t.block;return t.left?e="float-start":t.right?e="float-end":t.center&&(e="mx-auto",n=!0),{"img-thumbnail":t.thumbnail,"img-fluid":t.fluid||t.fluidGrow,"w-100":t.fluidGrow,rounded:""===t.rounded||!0===t.rounded,[`rounded-${t.rounded}`]:"string"===typeof t.rounded&&""!==t.rounded,[e]:!!e,"d-block":n}}));return{attrs:e,classes:n}}});function ha(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("img",(0,r.dG)({class:t.classes},t.attrs),null,16)}var fa=R(da,[["render",ha]]);const pa=(0,r.aZ)({name:"BInputGroup",props:{append:{type:String,required:!1},appendHtml:{type:String,required:!1},id:{type:String,required:!1},prepend:{type:String,required:!1},prependHtml:{type:String,required:!1},size:{type:String,required:!1},tag:{type:String,default:"div"}},setup(t){const e=(0,r.Fl)((()=>({"input-group-sm":"sm"===t.size,"input-group-lg":"lg"===t.size}))),n=(0,r.Fl)((()=>t.append||t.appendHtml)),i=(0,r.Fl)((()=>t.prepend||t.prependHtml)),o=(0,r.Fl)((()=>!!t.appendHtml)),a=(0,r.Fl)((()=>!!t.prependHtml));return{classes:e,hasAppend:n,hasPrepend:i,showAppendHtml:o,showPrependHtml:a}}}),ma={key:0,class:"input-group-text"},ga={key:0},va=["innerHTML"],ya={key:0,class:"input-group-text"},ba={key:0},_a=["innerHTML"];function wa(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{id:t.id,class:(0,i.C_)(["input-group",t.classes]),role:"group"},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"prepend",{},(()=>[t.hasPrepend?((0,r.wg)(),(0,r.iD)("span",ma,[t.showPrependHtml?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",ga,(0,i.zw)(t.prepend),1)),t.showPrependHtml?((0,r.wg)(),(0,r.iD)("span",{key:1,innerHTML:t.prependHtml},null,8,va)):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])),(0,r.WI)(t.$slots,"default"),(0,r.WI)(t.$slots,"append",{},(()=>[t.hasAppend?((0,r.wg)(),(0,r.iD)("span",ya,[t.showAppendHtml?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",ba,(0,i.zw)(t.append),1)),t.showAppendHtml?((0,r.wg)(),(0,r.iD)("span",{key:1,innerHTML:t.appendHtml},null,8,_a)):(0,r.kq)("",!0)])):(0,r.kq)("",!0)]))])),_:3},8,["id","class"])}var xa=R(pa,[["render",wa]]);const Sa=(0,r.aZ)({name:"BInputGroupText",props:{tag:{type:String,default:"div"}}});function Ma(t,e,n,i,o,a){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:"input-group-text"},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3})}var Ea=R(Sa,[["render",Ma]]);const Ta=(0,r.aZ)({name:"BInputGroupAddon",components:{BInputGroupText:Ea},props:{append:{type:Boolean,default:!1},id:{type:String,required:!1},isText:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(t){const e=(0,r.Fl)((()=>({"input-group-append":t.append,"input-group-prepend":!t.append})));return{computedClasses:e}}});function Aa(t,e,n,o,a,s){const l=(0,r.up)("b-input-group-text");return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{id:t.id,class:(0,i.C_)(["d-flex",t.computedClasses])},{default:(0,r.w5)((()=>[t.isText?((0,r.wg)(),(0,r.j4)(l,{key:0},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3})):(0,r.kq)("",!0),t.isText?(0,r.kq)("",!0):(0,r.WI)(t.$slots,"default",{key:1})])),_:3},8,["id","class"])}var Ca=R(Ta,[["render",Aa]]);const Oa=(0,r.aZ)({name:"BInputGroupAppend",components:{BInputGroupAddon:Ca},props:{id:{type:String,required:!1},isText:{type:Boolean,default:!1},tag:{type:String,default:"div"}}});function ka(t,e,n,i,o,a){const s=(0,r.up)("b-input-group-addon");return(0,r.wg)(),(0,r.j4)(s,{id:t.id,"is-text":t.isText,tag:t.tag,append:""},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},8,["id","is-text","tag"])}var Pa=R(Oa,[["render",ka]]);const La=(0,r.aZ)({name:"BInputGroupPrepend",components:{BInputGroupAddon:Ca},props:{id:{type:String,required:!1},isText:{type:Boolean,default:!1},tag:{type:String,default:"div"}}});function Ia(t,e,n,i,o,a){const s=(0,r.up)("b-input-group-addon");return(0,r.wg)(),(0,r.j4)(s,{id:t.id,"is-text":t.isText,tag:t.tag,append:!1},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},8,["id","is-text","tag"])}var Da=R(La,[["render",Ia]]);const Ra=Symbol(),Na=(0,r.aZ)({name:"BListGroup",props:{flush:{type:Boolean,default:!1},horizontal:{type:[Boolean,String],default:!1},numbered:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(t){const e=(0,r.Fl)((()=>{const e=!t.flush&&t.horizontal;return{"list-group-flush":t.flush,"list-group-horizontal":!0===e,[`list-group-horizontal-${e}`]:"string"===typeof e,"list-group-numbered":t.numbered}})),n=()=>!0===t.numbered?"ol":t.tag,i=(0,o.iH)(n());return(0,r.YP)((()=>t.tag),(()=>i.value=n())),(0,r.YP)((()=>t.numbered),(()=>i.value=n())),(0,r.JJ)(Ra,{numbered:t.numbered}),{classes:e,computedTag:i}}});function Ba(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.computedTag),{class:(0,i.C_)(["list-group",t.classes])},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},8,["class"])}var Fa=R(Na,[["render",Ba]]);const ja=["a","router-link","button","b-link"],za=(0,r.aZ)({name:"BListGroupItem",props:{action:{type:Boolean,default:!1},active:{type:Boolean,default:!1},button:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},href:{type:String},tag:{type:String,default:"div"},target:{type:String,default:"_self"},variant:{type:String}},setup(t,e){const n=(0,r.f3)(Ra,null),i=(0,r.Fl)((()=>!t.button&&t.href)),o=(0,r.Fl)((()=>(null==n?void 0:n.numbered)?"li":t.button?"button":i.value?"a":t.tag)),a=(0,r.Fl)((()=>{const e=t.action||i.value||t.button||ja.includes(t.tag);return{[`list-group-item-${t.variant}`]:t.variant,"list-group-item-action":e,active:t.active,disabled:t.disabled}})),s=(0,r.Fl)((()=>{const n={};return t.button&&(e.attrs&&e.attrs.type||(n.type="button"),t.disabled&&(n.disabled=!0)),n}));return{tagComputed:o,classes:a,attrs:s,link:i}}});function Va(t,e,n,i,o,a){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tagComputed),(0,r.dG)({class:["list-group-item",t.classes],"aria-current":!!t.active||null,"aria-disabled":!!t.disabled||null,target:t.link?t.target:null,href:t.button?null:t.href},t.attrs),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["class","aria-current","aria-disabled","target","href"])}var Ua=R(za,[["render",Va]]);const Ha=(0,r.aZ)({name:"BModal",components:{BButton:We},inheritAttrs:!1,props:{bodyBgVariant:{type:String,required:!1},bodyClass:{type:String,required:!1},bodyTextVariant:{type:String,required:!1},busy:{type:Boolean,default:!1},buttonSize:{type:String,default:"md"},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{type:String,default:"Cancel"},cancelVariant:{type:String,default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{type:String,required:!1},dialogClass:{type:String,required:!1},footerBgVariant:{type:String,required:!1},footerBorderVariant:{type:String,required:!1},footerClass:{type:String,required:!1},footerTextVariant:{type:String,required:!1},fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:{type:String,required:!1},headerBorderVariant:{type:String,required:!1},headerClass:{type:String,required:!1},headerCloseLabel:{type:String,default:"Close"},headerCloseWhite:{type:Boolean,default:!1},headerTextVariant:{type:String,required:!1},hideBackdrop:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},hideHeaderClose:{type:Boolean,default:!1},id:{type:String,required:!1},modalClass:{type:String,required:!1},modelValue:{type:Boolean,default:!1},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noFocus:{type:Boolean,default:!1},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{type:String,default:"Ok"},okVariant:{type:String,default:"primary"},scrollable:{type:Boolean,default:!1},show:{type:Boolean,default:!1},size:{type:String,required:!1},title:{type:String,required:!1},titleClass:{type:String,required:!1},titleSrOnly:{type:Boolean,default:!1},titleTag:{type:String,default:"h5"}},emits:["update:modelValue","show","shown","hide","hidden","hide-prevented","ok","cancel"],setup(t,{emit:e,slots:n}){const i=(0,o.iH)(),a=(0,o.iH)(),s=(0,r.Fl)((()=>[{fade:!t.noFade,show:t.show},t.modalClass])),l=(0,r.Fl)((()=>[{"modal-fullscreen":"boolean"===typeof t.fullscreen&&t.fullscreen,[`modal-fullscreen-${t.fullscreen}-down`]:"string"===typeof t.fullscreen&&t.fullscreen,[`modal-${t.size}`]:t.size,"modal-dialog-centered":t.centered,"modal-dialog-scrollable":t.scrollable},t.dialogClass])),u=(0,r.Fl)((()=>[{[`bg-${t.bodyBgVariant}`]:t.bodyBgVariant,[`text-${t.bodyTextVariant}`]:t.bodyTextVariant},t.bodyClass])),c=(0,r.Fl)((()=>[{[`bg-${t.headerBgVariant}`]:t.headerBgVariant,[`border-${t.headerBorderVariant}`]:t.headerBorderVariant,[`text-${t.headerTextVariant}`]:t.headerTextVariant},t.headerClass])),d=(0,r.Fl)((()=>[{[`bg-${t.footerBgVariant}`]:t.footerBgVariant,[`border-${t.footerBorderVariant}`]:t.footerBorderVariant,[`text-${t.footerTextVariant}`]:t.footerTextVariant},t.footerClass])),h=(0,r.Fl)((()=>[{["visually-hidden"]:t.titleSrOnly},t.titleClass])),f=(0,r.Fl)((()=>!!n["header-close"])),p=(0,r.Fl)((()=>[{["btn-close-content"]:f.value,["d-flex"]:f.value,["btn-close-white"]:!f.value&&t.headerCloseWhite}])),m=(0,r.Fl)((()=>t.cancelDisabled||t.busy)),v=(0,r.Fl)((()=>t.okDisabled||t.busy));return V(i,"shown.bs.modal",(t=>e("shown",t))),V(i,"hidden.bs.modal",(t=>e("hidden",t))),V(i,"hidePrevented.bs.modal",(t=>e("hide-prevented",t))),V(i,"show.bs.modal",(t=>{e("show",t),t.defaultPrevented||e("update:modelValue",!0)})),V(i,"hide.bs.modal",(t=>{e("hide",t),t.defaultPrevented||e("update:modelValue",!1)})),(0,r.bv)((()=>{var e;a.value=new(g())(i.value,{backdrop:!t.hideBackdrop&&(t.noCloseOnBackdrop?"static":!t.hideBackdrop),keyboard:!t.noCloseOnEsc,focus:!t.noFocus}),t.modelValue&&(null==(e=a.value)||e.show())})),(0,r.YP)((()=>t.modelValue),(t=>{var e,n;t?null==(e=a.value)||e.show():null==(n=a.value)||n.hide()})),{element:i,disableCancel:m,disableOk:v,modalClasses:s,modalDialogClasses:l,computedBodyClasses:u,computedFooterClasses:d,computedHeaderClasses:c,computedTitleClasses:h,computedCloseButtonClasses:p}}}),Wa=["id"],Ga=["aria-label"];function qa(t,e,n,o,a,s){const l=(0,r.up)("b-button");return(0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[(0,r._)("div",(0,r.dG)({id:t.id,ref:"element",class:["modal",t.modalClasses],tabindex:"-1"},t.$attrs),[(0,r._)("div",{class:(0,i.C_)(["modal-dialog",t.modalDialogClasses])},[(0,r._)("div",{class:(0,i.C_)(["modal-content",t.contentClass])},[t.hideHeader?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,i.C_)(["modal-header",t.computedHeaderClasses])},[((0,r.wg)(),(0,r.j4)((0,r.LL)(t.titleTag),{class:(0,i.C_)(["modal-title",t.computedTitleClasses])},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"title",{},(()=>[(0,r.Uk)((0,i.zw)(t.title),1)]))])),_:3},8,["class"])),t.hideHeaderClose?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:(0,i.C_)(["btn-close",t.computedCloseButtonClasses]),"data-bs-dismiss":"modal","aria-label":t.headerCloseLabel},[(0,r.WI)(t.$slots,"header-close")],10,Ga))],2)),(0,r._)("div",{class:(0,i.C_)(["modal-body",t.computedBodyClasses])},[(0,r.WI)(t.$slots,"default")],2),t.hideFooter?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,i.C_)(["modal-footer",t.computedFooterClasses])},[(0,r.WI)(t.$slots,"footer",{},(()=>[t.okOnly?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(l,{key:0,type:"button",class:"btn","data-bs-dismiss":"modal",disabled:t.disableCancel,size:t.buttonSize,variant:t.cancelVariant,onClick:e[0]||(e[0]=e=>t.$emit("cancel"))},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.cancelTitle),1)])),_:1},8,["disabled","size","variant"])),(0,r.Wm)(l,{type:"button",class:"btn","data-bs-dismiss":"modal",disabled:t.disableOk,size:t.buttonSize,variant:t.okVariant,onClick:e[1]||(e[1]=e=>t.$emit("ok"))},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.okTitle),1)])),_:1},8,["disabled","size","variant"])]))],2))],2)],2)],16,Wa)])}var $a=R(Ha,[["render",qa]]);const Xa=(0,r.aZ)({name:"BNav",props:{align:{type:String},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},tabs:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1}},setup(t){const e=(0,r.Fl)((()=>({"flex-column":t.vertical,[`justify-content-${t.align}`]:t.align,"nav-tabs":t.tabs,"nav-pills":t.pills,"nav-fill":t.fill,"nav-justified":t.justified})));return{classes:e}}});function Ya(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("ul",{class:(0,i.C_)(["nav",t.classes])},[(0,r.WI)(t.$slots,"default")],2)}var Za=R(Xa,[["render",Ya]]);const Ja=(0,r.aZ)({name:"BNavItem",props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},href:{type:String,required:!1}},setup(t){const e=(0,r.Fl)((()=>({active:t.active,disabled:t.disabled})));return{classes:e}}}),Ka=["href","tabindex","aria-disabled"];function Qa(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("li",{class:(0,i.C_)(["nav-item",t.classes])},[(0,r._)("a",{href:t.href,class:"nav-link",tabindex:t.disabled?-1:null,"aria-disabled":!!t.disabled||null},[(0,r.WI)(t.$slots,"default")],8,Ka)],2)}var ts=R(Ja,[["render",Qa]]);const es=(0,r.aZ)({name:"BNavItemDropdown",components:{BDropdown:Pr},props:{autoClose:{type:String,default:"true"},id:{type:String},dark:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropup:{type:Boolean,default:!1},right:{type:[Boolean,String],default:!1},left:{type:[Boolean,String],default:!1},text:{type:String},offset:{type:String},offsetParent:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitVariant:{type:String},size:{type:String},variant:{type:String,default:"link"}},setup(t){return{props:t}}}),ns={class:"nav-item dropdown"};function rs(t,e,n,o,a,s){const l=(0,r.up)("b-dropdown");return(0,r.wg)(),(0,r.iD)("li",ns,[(0,r.Wm)(l,(0,i.vs)((0,r.F4)(t.$props)),(0,r.Nv)({_:2},[(0,r.Ko)(t.$slots,((e,n)=>({name:n,fn:(0,r.w5)((e=>[(0,r.WI)(t.$slots,n,(0,i.vs)((0,r.F4)(e||{})))]))})))]),1040)])}var is=R(es,[["render",rs]]);const os=(0,r.aZ)({name:"BOffcanvas",props:{modelValue:{type:Boolean,default:!1},bodyScrolling:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!0},placement:{type:String,default:"start"},title:{type:String,required:!0}},emits:["update:modelValue","show","shown","hide","hidden"],setup(t,{emit:e}){const n=(0,o.iH)(),i=(0,o.iH)();V(n,"shown.bs.offcanvas",(()=>e("shown"))),V(n,"hidden.bs.offcanvas",(()=>e("hidden"))),V(n,"show.bs.offcanvas",(()=>{e("show"),e("update:modelValue",!0)})),V(n,"hide.bs.offcanvas",(()=>{e("hide"),e("update:modelValue",!1)})),(0,r.bv)((()=>{var e;i.value=new(y())(n.value),t.modelValue&&(null==(e=i.value)||e.show(n.value))}));const a=(0,r.Fl)((()=>({[`offcanvas-${t.placement}`]:t.placement})));return(0,r.YP)((()=>t.modelValue),(t=>{var e,r;t?null==(e=i.value)||e.show(n.value):null==(r=i.value)||r.hide()})),{element:n,classes:a}}}),as=["data-bs-backdrop","data-bs-scroll"],ss={class:"offcanvas-header"},ls={id:"offcanvasLabel",class:"offcanvas-title"},us=(0,r._)("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),cs={class:"offcanvas-body"};function ds(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",{ref:"element",class:(0,i.C_)(["offcanvas",t.classes]),tabindex:"-1","aria-labelledby":"offcanvasLabel","data-bs-backdrop":t.backdrop,"data-bs-scroll":t.bodyScrolling},[(0,r._)("div",ss,[(0,r._)("h5",ls,[(0,r.WI)(t.$slots,"title",{},(()=>[(0,r.Uk)((0,i.zw)(t.title),1)]))]),us]),(0,r._)("div",cs,[(0,r.WI)(t.$slots,"default")])],10,as)}var hs=R(os,[["render",ds]]);const fs={name:"",enterActiveClass:"",enterToClass:"",leaveActiveClass:"",leaveToClass:"showing",enterFromClass:"showing",leaveFromClass:""},ps=L(P({},fs),{enterActiveClass:"fade showing",leaveActiveClass:"fade showing"}),ms=(0,r.aZ)({name:"BTransition",props:{appear:{type:Boolean,default:!1},mode:{type:String,required:!1},noFade:{type:Boolean,default:!1},transProps:{type:Object,required:!1}},setup(t,{slots:e}){const n=(0,o.iH)(t.transProps);return yt(n.value)||(n.value=t.noFade?fs:ps,t.appear&&(n.value=L(P({},n.value),{appear:!0,appearClass:n.value.enterClass,appearActiveClass:n.value.enterActiveClass,appearToClass:n.value.enterToClass}))),n.value=L(P({mode:t.mode},n.value),{css:!0}),()=>(0,r.h)(a.uT,P({},n.value),{default:()=>e.default?e.default():[]})}}),gs={top:0,left:0,bottom:0,right:0},vs="default",ys="overlay",bs=(0,r.aZ)({name:"BOverlay",components:{BTransition:ms},props:{bgColor:{type:String,required:!1},blur:{type:String,default:"2px"},fixed:{type:Boolean,default:!1},noCenter:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},opacity:{type:[Number,String],default:.85,validator:t=>{const e=Zt(t,0);return e>=0&&e<=1}},overlayTag:{type:String,default:"div"},rounded:{type:[Boolean,String],default:!1},show:{type:Boolean,default:!1},spinnerSmall:{type:Boolean,default:!1},spinnerType:{type:String,default:"border"},spinnerVariant:{type:String,required:!1},variant:{type:String,default:"light"},wrapTag:{type:String,default:"div"},zIndex:{type:[Number,String],default:10}},emits:["click","hidden","shown"],setup(t,{slots:e,emit:n}){const i=(0,r.Fl)((()=>!0===t.rounded||""===t.rounded?"rounded":t.rounded?`rounded-${t.rounded}`:"")),o=(0,r.Fl)((()=>t.variant&&!t.bgColor?`bg-${t.variant}`:"")),a=(0,r.Fl)((()=>({spinnerType:t.spinnerType||null,spinnerVariant:t.spinnerVariant||null,spinnerSmall:t.spinnerSmall})));return()=>{const s=t=>(0,r.h)((0,r.up)("BSpinner"),{type:t.spinnerType,variant:t.spinnerVariant,small:t.spinnerSmall});let l="";if(t.show){const u=(0,r.h)("div",{class:["position-absolute",o.value,i.value],style:L(P({},gs),{opacity:t.opacity,backgroundColor:t.bgColor||null,backdropFilter:t.blur?`blur(${t.blur})`:null})}),c=(0,r.h)("div",{class:"position-absolute",style:t.noCenter?P({},gs):{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}},zi(ys,a.value,e)||s(a.value)||"");l=(0,r.h)(t.overlayTag,{class:["b-overlay",{"position-absolute":!t.noWrap||t.noWrap&&!t.fixed,"position-fixed":t.noWrap&&t.fixed}],style:L(P({},gs),{zIndex:t.zIndex||10}),onClick:t=>n("click",t),key:"overlay"},[u,c])}const u=()=>(0,r.h)(ms,{noFade:t.noFade,transProps:{enterToClass:"show"},name:"fade",onAfterEnter:()=>n("shown"),onAfterLeave:()=>n("hidden")},{default:()=>l});if(t.noWrap)return u();const c=(0,r.h)(t.wrapTag,{class:["b-overlay-wrap position-relative"],"aria-busy":t.show?"true":null},[(0,r.h)("span",zi(vs,{},e)),u()]);return c}}});function _s(t){return(0,r.Fl)((()=>"center"===t.align?"justify-content-center":"end"===t.align?"justify-content-end":(t.align,"justify-content-start")))}class ws{constructor(t,e={}){if(this.cancelable=!0,this.componentId=null,this.defaultPrevented=!1,this.nativeEvent=null,this.relatedTarget=null,this.target=null,this.eventType="",this.vueTarget=null,!t)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);pe(this,ws.Defaults,this.constructor.Defaults,e,{eventType:t}),me(this,{type:ye(),cancelable:ye(),nativeEvent:ye(),target:ye(),relatedTarget:ye(),vueTarget:ye(),componentId:ye()});let n=!1;this.preventDefault=function(){this.cancelable&&(n=!0)},ge(this,"defaultPrevented",{enumerable:!0,get(){return n}})}static get Defaults(){return{eventType:"",cancelable:!0,nativeEvent:null,target:null,relatedTarget:null,vueTarget:null,componentId:null}}}const xs=5,Ss=20,Ms=0,Es=3,Ts="ellipsis-text",As="first-text",Cs="last-text",Os="next-text",ks="page",Ps="prev-text",Ls=t=>Math.max(Xt(t)||Ss,1),Is=t=>Math.max(Xt(t)||Ms,0),Ds=(t,e)=>{const n=Xt(t)||1;return n>e?e:n<1?1:n},Rs=(0,r.aZ)({name:"BPagination",props:{align:{type:String,default:"start"},ariaControls:{type:String,required:!1},ariaLabel:{type:String,default:"Pagination"},disabled:{type:Boolean,default:!1},ellipsisClass:{type:[Array,String],default:()=>[]},ellipsisText:{type:String,default:"…"},firstClass:{type:[Array,String],default:()=>[]},firstNumber:{type:Boolean,default:!1},firstText:{type:String,default:"«"},hideEllipsis:{type:Boolean,default:!1},hideGotoEndButtons:{type:Boolean,default:!1},labelFirstPage:{type:String,default:"Go to first page"},labelLastPage:{type:String,default:"Go to last page"},labelNextPage:{type:String,default:"Go to next page"},labelPage:{type:String,default:"Go to page"},labelPrevPage:{type:String,default:"Go to previous page"},lastClass:{type:[Array,String],default:()=>[]},lastNumber:{type:Boolean,default:!1},lastText:{type:String,default:"»"},limit:{type:Number,default:xs},modelValue:{type:Number,default:1},nextClass:{type:[Array,String],default:()=>[]},nextText:{type:String,default:"›"},pageClass:{type:[Array,String],default:()=>[]},perPage:{type:Number,default:Ss},pills:{type:Boolean,default:!1},prevClass:{type:[Array,String],default:()=>[]},prevText:{type:String,default:"‹"},size:{type:String,required:!1},totalRows:{type:Number,default:Ms}},emits:["update:modelValue","page-click"],setup(t,{emit:e,slots:n}){const i=_s(t),a=(0,r.Fl)((()=>Math.ceil(Is(t.totalRows)/Ls(t.perPage)))),s=(0,r.Fl)((()=>{let e=1;const n=a.value-t.modelValue;return e=n+2<t.limit&&t.limit>Es?a.value-u.value+1:t.modelValue-Math.floor(u.value/2),e<1?e=1:e>a.value-u.value&&(e=a.value-u.value+1),t.limit<=Es&&t.lastNumber&&a.value===e+u.value-1&&(e=Math.max(e-1,1)),e})),l=(0,r.Fl)((()=>{const e=a.value-t.modelValue;let n=!1;return e+2<t.limit&&t.limit>Es?t.limit>Es&&(n=!0):t.limit>Es&&(n=!(t.hideEllipsis&&!t.firstNumber)),s.value<=1&&(n=!1),n&&t.firstNumber&&s.value<4&&(n=!1),n})),u=(0,r.Fl)((()=>{let e=t.limit;return a.value<=t.limit?e=a.value:t.modelValue<t.limit-1&&t.limit>Es?(t.hideEllipsis&&!t.lastNumber||(e=t.limit-(t.firstNumber?0:1)),e=Math.min(e,t.limit)):a.value-t.modelValue+2<t.limit&&t.limit>Es?t.hideEllipsis&&!t.firstNumber||(e=t.limit-(t.lastNumber?0:1)):t.limit>Es&&(e=t.limit-(t.hideEllipsis?0:2)),e}));(0,r.Fl)((()=>{let e=u.value;l.value&&t.firstNumber&&s.value<4&&(e+=2);const n=s.value+e-1;return c.value&&t.lastNumber&&n>a.value-3&&(e+=n===a.value-2?2:3),e=Math.min(e,a.value-s.value+1),e}));const c=(0,r.Fl)((()=>{const e=a.value-u.value;let n=!1;t.modelValue<t.limit-1&&t.limit>Es?t.hideEllipsis&&!t.lastNumber||(n=!0):t.limit>Es&&(n=!(t.hideEllipsis&&!t.lastNumber)),s.value>e&&(n=!1);const r=s.value+u.value-1;return n&&t.lastNumber&&r>a.value-3&&(n=!1),n})),d=(0,o.qj)({pageSize:Ls(t.perPage),totalRows:Is(t.totalRows),numberOfPages:a.value}),h=(n,r)=>{if(r===t.modelValue)return;const{target:i}=n,o=new ws("page-click",{cancelable:!0,vueTarget:this,target:i});e("page-click",o,r),o.defaultPrevented||e("update:modelValue",r)},f=(0,r.Fl)((()=>t.size?`pagination-${t.size}`:"")),p=(0,r.Fl)((()=>t.pills?"b-pagination-pills":""));(0,r.YP)((()=>t.modelValue),(n=>{const r=Ds(n,a.value);r!==t.modelValue&&e("update:modelValue",r)})),(0,r.YP)(d,((n,r)=>{ft(n)||(r.pageSize!==n.pageSize&&r.totalRows===n.totalRows||r.numberOfPages!==n.numberOfPages&&t.modelValue>r.numberOfPages)&&e("update:modelValue",1)}));const m=(0,r.Fl)((()=>{const t=[];for(let e=0;e<u.value;e++)t.push({number:s.value+e,classes:null});return t}));return()=>{const e=[],o=m.value.map((t=>t.number)),s=e=>e===t.modelValue,u=t.modelValue<1,d="fill"===t.align,g=(e,i,o,l,c,f)=>{const p=t.disabled||s(f)||u||e<1||e>a.value,m=e<1?1:e>a.value?a.value:e,g={disabled:p,page:m,index:m-1},v=zi(o,g,n)||l||"";return(0,r.h)("li",{class:["page-item",{disabled:p,"flex-fill":d,"d-flex":d&&!p},c]},(0,r.h)(p?"span":"button",{class:["page-link",{"flex-grow-1":!p&&d}],"aria-label":i,"aria-controls":t.ariaControls||null,"aria-disabled":p?"true":null,role:"menuitem",type:p?null:"button",tabindex:p?null:"-1",onClick:t=>{p||h(t,m)}},v))},v=e=>(0,r.h)("li",{class:["page-item","disabled","bv-d-xs-down-none",d?"flex-fill":"",t.ellipsisClass],role:"separator",key:"ellipsis-"+(e?"last":"first")},[(0,r.h)("span",{class:["page-link"]},zi(Ts,{},n)||t.ellipsisText||"...")]),y=(e,i)=>{const o=s(e.number)&&!u,a=t.disabled?null:o||u&&0===i?"0":"-1",l={active:o,disabled:t.disabled,page:e.number,index:e.number-1,content:e.number},c=zi(ks,l,n)||e.number,f=(0,r.h)(t.disabled?"span":"button",{class:["page-link",{"flex-grow-1":!t.disabled&&d}],"aria-controls":t.ariaControls||null,"aria-disabled":t.disabled?"true":null,"aria-label":t.labelPage?`${t.labelPage} ${e.number}`:null,role:"menuitemradio",type:t.disabled?null:"button",tabindex:a,onClick:n=>{t.disabled||h(n,e.number)}},c);return(0,r.h)("li",{class:["page-item",{disabled:t.disabled,active:o,"flex-fill":d,"d-flex":d&&!t.disabled},t.pageClass],role:"presentation",key:`page-${e.number}`},f)};if(!t.hideGotoEndButtons&&!t.firstNumber){const n=g(1,t.labelFirstPage,As,t.firstText,t.firstClass,1);e.push(n)}const b=g(t.modelValue-1,t.labelFirstPage,Ps,t.prevText,t.prevClass,1);e.push(b),t.firstNumber&&1!==o[0]&&e.push(y({number:1},0)),l.value&&e.push(v(!1)),m.value.forEach(((n,r)=>{const i=l.value&&t.firstNumber&&1!==o[0]?1:0;e.push(y(n,r+i))})),c.value&&e.push(v(!0)),t.lastNumber&&o[o.length-1]!==a.value&&e.push(y({number:a.value},-1));const _=g(t.modelValue+1,t.labelNextPage,Os,t.nextText,t.nextClass,a.value);if(e.push(_),!t.lastNumber&&!t.hideGotoEndButtons){const n=g(a.value,t.labelLastPage,Cs,t.lastText,t.lastClass,a.value);e.push(n)}const w=(0,r.h)("ul",{class:["pagination",f.value,i.value,p.value],role:"menubar","aria-disabled":t.disabled,"aria-label":t.ariaLabel||null},e);return w}}}),Ns=(0,r.aZ)({name:"BPopover",props:{container:{type:[String,Object],default:"body"},content:{type:String},id:{type:String},noninteractive:{type:Boolean,default:!1},placement:{type:String,default:"right"},target:{type:[String,Object],default:void 0},title:{type:String},delay:{type:[Number,Object],default:0},triggers:{type:String,default:"click"},show:{type:Boolean,default:!1},variant:{type:String,default:void 0},html:{type:Boolean,default:!0},sanitize:{type:Boolean,default:!1}},emits:["show","shown","hide","hidden","inserted"],setup(t,{emit:e,slots:n}){const i=(0,o.iH)(),a=(0,o.iH)(),s=(0,o.iH)(),l=(0,o.iH)(),u=(0,o.iH)(),c=(0,r.Fl)((()=>({[`b-popover-${t.variant}`]:t.variant}))),d=t=>"string"===typeof t||t instanceof HTMLElement?t:"undefined"!==typeof t?t.$el:void 0,h=t=>{if(t){if("string"===typeof t){const e=document.getElementById(t);return e||void 0}return t}};return(0,r.bv)((()=>{var e,o,c;(0,r.Y3)((()=>{a.value=h(d(t.target)),a.value?s.value=new(_())(a.value,{container:d(t.container),trigger:t.triggers,placement:t.placement,title:t.title||n.title?l.value:"",content:u.value,html:t.html,delay:t.delay,sanitize:t.sanitize}):S.warn("[B-Popover] Target is a mandatory props.")})),null==(o=null==(e=i.value)?void 0:e.parentNode)||o.removeChild(i.value),t.show&&(null==(c=s.value)||c.show())})),(0,r.YP)((()=>t.show),((t,e)=>{var n,r;t!==e&&(t?null==(n=s.value)||n.show():null==(r=s.value)||r.hide())})),V(a,"show.bs.popover",(()=>e("show"))),V(a,"shown.bs.popover",(()=>e("shown"))),V(a,"hide.bs.popover",(()=>e("hide"))),V(a,"hidden.bs.popover",(()=>e("hidden"))),V(a,"inserted.bs.popover",(()=>e("inserted"))),{element:i,titleRef:l,contentRef:u,classes:c}}}),Bs=["id"],Fs={ref:"titleRef"},js={ref:"contentRef"};function zs(t,e,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",{id:t.id,ref:"element",class:(0,i.C_)(["popover b-popover",t.classes]),role:"tooltip",tabindex:"-1"},[(0,r._)("div",Fs,[(0,r.WI)(t.$slots,"title",{},(()=>[(0,r.Uk)((0,i.zw)(t.title),1)]))],512),(0,r._)("div",js,[(0,r.WI)(t.$slots,"default",{},(()=>[(0,r.Uk)((0,i.zw)(t.content),1)]))],512)],10,Bs)}var Vs=R(Ns,[["render",zs]]);const Us=Symbol(),Hs=(0,r.aZ)({name:"BProgress",props:{animated:{type:Boolean,default:!1},max:{type:[Number,String]},height:{type:String},precision:{type:[Number,String],default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},value:{type:[Number,String],default:0},variant:{type:String}},setup(t){(0,r.JJ)(Us,{animated:t.animated,max:t.max,showProgress:t.showProgress,showValue:t.showValue,striped:t.striped})}});function Ws(t,e,n,o,a,s){const l=(0,r.up)("b-progress-bar");return(0,r.wg)(),(0,r.iD)("div",{class:"progress",style:(0,i.j5)({height:t.height})},[(0,r.WI)(t.$slots,"default",{},(()=>[(0,r.Wm)(l,(0,i.vs)((0,r.F4)({animated:t.animated,max:t.max,precision:t.precision,showProgress:t.showProgress,showValue:t.showValue,striped:t.striped,value:t.value,variant:t.variant})),null,16)]))],4)}var Gs=R(Hs,[["render",Ws]]);const qs=(0,r.aZ)({name:"BProgressBar",props:{animated:{type:Boolean,default:!1},label:{type:String},labelHtml:{type:String},max:{type:[Number,String]},precision:{type:[Number,String],default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},value:{type:[Number,String],default:0},variant:{type:String}},setup(t,{slots:e}){const n=(0,r.f3)(Us),i=(0,r.Fl)((()=>({"progress-bar-animated":t.animated||(null==n?void 0:n.animated),"progress-bar-striped":t.striped||(null==n?void 0:n.striped)||t.animated||(null==n?void 0:n.animated),[`bg-${t.variant}`]:t.variant}))),o=(0,r.Fl)((()=>{if(t.showValue||(null==n?void 0:n.showValue))return parseFloat(t.value).toFixed(t.precision);if(t.showProgress||(null==n?void 0:n.showProgress)){const e=(100*t.value/parseInt(t.max||100)).toString();return parseFloat(e).toFixed(t.precision)}return t.label||""})),a=(0,r.Fl)((()=>t.max||(null==n?void 0:n.max)?100*t.value/parseInt(t.max||(null==n?void 0:n.max))+"%":"string"===typeof t.value?t.value:`${t.value}%`)),s=(0,r.Fl)((()=>{const e={class:["progress-bar",i.value],role:"progressbar","aria-valuenow":t.value,"aria-valuemin":0,"aria-valuemax":t.max,style:{width:a.value}};return t.labelHtml?L(P({},e),{innerHTML:t.labelHtml}):e}));return()=>{var t;return(0,r.h)("div",s.value,(null==(t=e.default)?void 0:t.call(e))||o.value)}}}),$s=or("cols",[""],{type:[String,Number],default:null}),Xs=(0,r.aZ)({name:"BRow",props:P({tag:{type:String,default:"div"},gutterX:{type:String,default:null},gutterY:{type:String,default:null},alignV:{type:String,default:null},alignH:{type:String,default:null},alignContent:{type:String,default:null}},$s),setup(t){const e=ar(t,$s,"cols","row-cols"),n=(0,r.Fl)((()=>({[`gx-${t.gutterX}`]:null!==t.gutterX,[`gy-${t.gutterY}`]:null!==t.gutterY,[`align-items-${t.alignV}`]:t.alignV,[`justify-content-${t.alignH}`]:t.alignH,[`align-content-${t.alignContent}`]:t.alignContent})));return{classes:n,rowColsClasses:e}}});function Ys(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:(0,i.C_)(["row",[t.classes,t.rowColsClasses]])},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},8,["class"])}var Zs=R(Xs,[["render",Ys]]);const Js=(0,r.aZ)({props:{animation:{type:String,default:"wave"},height:{type:String},size:{type:String},type:{type:String,default:"text"},variant:{type:String},width:{type:String}},setup(t){const e=t,n=(0,r.Fl)((()=>[`b-skeleton-${e.type}`,`b-skeleton-animate-${e.animation}`,{[`bg-${e.variant}`]:e.variant}])),a=(0,r.Fl)((()=>({width:e.size||e.width,height:e.size||e.height})));return(t,e)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)(["b-skeleton",(0,o.SU)(n)]),style:(0,i.j5)((0,o.SU)(a))},null,6))}}),Ks=(0,r.aZ)({props:{animation:{type:String,default:"wave"}},setup(t){const e=t,n=(0,r.Fl)((()=>[`b-skeleton-animate-${e.animation}`]));return(t,e)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)(["b-skeleton-icon-wrapper position-relative d-inline-block overflow-hidden",(0,o.SU)(n)])},[(0,r.WI)(t.$slots,"default")],2))}}),Qs=(0,r.aZ)({props:{bordered:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},borderVariant:{type:String},captionTop:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},responsive:{type:[Boolean,String],default:!1},stacked:{type:[Boolean,String],default:!1},striped:{type:Boolean,default:!1},small:{type:Boolean,default:!1},tableClass:{type:[Array,Object,String]},tableVariant:{type:String}},setup(t){var e;const n=t,i=(0,r.Rr)(),a=(0,r.Fl)((()=>[{"table-bordered":n.bordered,"table-borderless":n.borderless,[`border-${n.borderVariant}`]:n.borderVariant,"caption-top":n.captionTop,"table-dark":n.dark,"table-hover":n.hover,"b-table-stacked":"boolean"===typeof n.stacked&&n.stacked,[`b-table-stacked-${n.stacked}`]:"string"===typeof n.stacked,"table-striped":n.striped,"table-sm":n.small,[`table-${n.tableVariant}`]:n.tableVariant},n.tableClass])),s=(0,r.h)("table",{class:["table b-table",a.value],role:"table"},null==(e=i.default)?void 0:e.call(i));let l=s;return n.responsive&&(l=(0,r.h)("div",{class:{"table-responsive":"boolean"===typeof n.responsive&&n.responsive,[`table-responsive-${n.responsive}`]:"string"===typeof n.responsive}},s)),(t,e)=>((0,r.wg)(),(0,r.j4)((0,o.SU)(l)))}}),tl={key:0},el={key:1},nl=(0,r.aZ)({props:{animation:{type:String,default:"wave"},columns:{type:Number,default:5},hideHeader:{type:Boolean,default:!1},rows:{type:Number,default:3},showFooter:{type:Boolean,default:!1},tableProps:{type:Object}},setup(t){return(e,n)=>((0,r.wg)(),(0,r.j4)(Qs,(0,i.vs)((0,r.F4)(t.tableProps)),{default:(0,r.w5)((()=>[t.hideHeader?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("thead",tl,[(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.columns,((t,e)=>((0,r.wg)(),(0,r.iD)("th",{key:e},[(0,r.Wm)(Js)])))),128))])])),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.rows,((e,n)=>((0,r.wg)(),(0,r.iD)("tr",{key:n},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.columns,((t,e)=>((0,r.wg)(),(0,r.iD)("td",{key:e},[(0,r.Wm)(Js,{width:"75%"})])))),128))])))),128))]),t.showFooter?((0,r.wg)(),(0,r.iD)("tfoot",el,[(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.columns,((t,e)=>((0,r.wg)(),(0,r.iD)("th",{key:e},[(0,r.Wm)(Js)])))),128))])])):(0,r.kq)("",!0)])),_:1},16))}}),rl=(0,r.aZ)({props:{loading:{type:Boolean,default:!1}},setup(t){return(e,n)=>t.loading?(0,r.WI)(e.$slots,"loading",{key:0}):(0,r.WI)(e.$slots,"default",{key:1})}}),il=(0,r.aZ)({name:"BSpinner",props:{label:{type:String},role:{type:String,default:"status"},small:{type:Boolean,default:!1},tag:{type:String,default:"span"},type:{type:String,default:"border"},variant:{type:String}},setup(t){const e=(0,r.Fl)((()=>({"spinner-border":"border"===t.type,"spinner-border-sm":"border"===t.type&&t.small,"spinner-grow":"grow"===t.type,"spinner-grow-sm":"grow"===t.type&&t.small,[`text-${t.variant}`]:!!t.variant})));return{classes:e}}}),ol={key:0,class:"visually-hidden"};function al(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{class:(0,i.C_)(t.classes),role:t.label||t.$slots.label?t.role:null,"aria-hidden":!t.label&&!t.$slots.label||null},{default:(0,r.w5)((()=>[t.label||t.$slots.label?((0,r.wg)(),(0,r.iD)("span",ol,[(0,r.WI)(t.$slots,"label",{},(()=>[(0,r.Uk)((0,i.zw)(t.label),1)]))])):(0,r.kq)("",!0)])),_:3},8,["class","role","aria-hidden"])}var sl=R(il,[["render",al]]);const ll=Symbol(),ul=t=>t&&t.default?t.default().reduce(((t,e)=>("symbol"===typeof e.type?t=t.concat(e.children):t.push(e),t)),[]).filter((t=>{var e;return"BTab"===(null==(e=t.type)?void 0:e.name)})):[],cl=(0,r.aZ)({name:"BTabs",props:{activeNavItemClass:{type:[Array,Object,String],default:null},activeTabClass:{type:[Array,Object,String],default:null},align:{type:String,default:null},card:{type:Boolean,default:!1},contentClass:{type:[Array,Object,String],default:null},end:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},id:{type:String,default:null},justified:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},navClass:{type:[Array,Object,String],default:null},navWrapperClass:{type:[Array,Object,String],default:null},noFade:{type:Boolean,default:!1},noNavStyle:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},small:{type:Boolean,default:!1},tag:{type:String,default:"div"},vertical:{type:Boolean,default:!1},modelValue:{type:Number,default:-1}},emits:["update:modelValue","activate-tab","click"],setup(t,{slots:e,emit:n}){const i=(0,o.iH)(t.modelValue),a=(0,o.iH)(""),s=(0,r.Fl)({get:()=>i.value,set:t=>{i.value=t,l.value.length>0&&t>=0&&t<l.value.length?a.value=l.value[t].buttonId:a.value="",n("update:modelValue",t)}}),l=(0,r.Fl)((()=>{let n=[];return e.default&&(n=ul(e).map(((e,n)=>{e.props||(e.props={});const r=e.props["button-id"]||I("tab"),i=e.props.id||I(),o=s.value>-1?n===s.value:""===e.props.active,a=e.props["title-item-class"],l=e.props["title-link-attributes"];return{buttonId:r,contentId:i,active:o,disabled:""===e.props.disabled||!0===e.props.disabled,navItemClasses:[{active:o,disabled:""===e.props.disabled||!0===e.props.disabled},o&&t.activeNavItemClass?t.activeNavItemClass:null,e.props["title-link-class"]],tabClasses:[{fade:!t.noFade},o&&t.activeTabClass?t.activeTabClass:null],target:`#${i}`,title:e.props.title,titleItemClass:a,titleLinkAttributes:l,onClick:e.props.onClick,tab:e}}))),n})),u=(0,r.Fl)((()=>!((null==l?void 0:l.value)&&l.value.length>0))),c=(0,r.Fl)((()=>({"d-flex align-items-start":t.vertical}))),d=(0,r.Fl)((()=>({"nav-pills":t.pills,"flex-column me-3":t.vertical,[`justify-content-${t.align}`]:!!t.align,"nav-fill":t.fill,"card-header-tabs":t.card,"nav-justified":t.justified,"nav-tabs":!t.noNavStyle&&!t.pills,small:t.small}))),h=e=>{let r=!1;if(void 0!==e&&e>-1&&e<l.value.length&&!l.value[e].disabled&&(s.value<0||l.value[e].buttonId!==a.value)){const t=new ws("activate-tab",{cancelable:!0,vueTarget:this});n("activate-tab",e,s.value,t),t.defaultPrevented||(s.value=e,r=!0)}return r||t.modelValue===s.value||n("update:modelValue",s.value),r},f=(t,e)=>{var n;h(e),e>=0&&!l.value[e].disabled&&(null==(n=l.value[e])?void 0:n.onClick)&&vt(l.value[e].onClick)&&l.value[e].onClick(t)};return h(i.value),(0,r.YP)((()=>t.modelValue),((t,e)=>{if(t===e)return;if(t=ne(t,-1),e=ne(e,-1),l.value.length<=0)return void(s.value=-1);const n=t>e;let r=t;const i=l.value.length-1;while(r>=0&&r<=i&&l.value[r].disabled)r+=n?1:-1;r<0?h(0):r>=l.value.length?h(l.value.length-1):h(r)})),(0,r.YP)((()=>l.value),(()=>{let t=l.value.map((t=>t.active&&!t.disabled)).lastIndexOf(!0);t<0&&(s.value>=l.value.length?t=l.value.map((t=>!t.disabled)).lastIndexOf(!0):l.value[s.value]&&!l.value[s.value].disabled&&(t=s.value)),t<0&&(t=l.value.map((t=>!t.disabled)).indexOf(!0)),l.value.forEach(((e,n)=>e.active=n===t)),h(t)})),(0,r.bv)((()=>{if(s.value<0&&l.value.length>0&&!l.value.some((t=>t.active))){const t=l.value.map((t=>!t.disabled)).indexOf(!0);h(t>=0?t:-1)}})),(0,r.JJ)(ll,{lazy:t.lazy,card:t.card}),{tabs:l,showEmpty:u,classes:c,navTabsClasses:d,tabIndex:s,handleClick:f}}}),dl=["id","data-bs-target","aria-controls","aria-selected","onClick"];function hl(t,e,n,o,s,l){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{id:t.id,class:(0,i.C_)(["tabs",t.classes])},{default:(0,r.w5)((()=>[t.end?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,i.C_)(["tab-content",t.contentClass])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.tabs,(({tab:t,contentId:e,tabClasses:n,active:o},a)=>((0,r.wg)(),(0,r.j4)((0,r.LL)(t),{key:a,id:e,class:(0,i.C_)(n),active:o},null,8,["id","class","active"])))),128)),t.showEmpty?((0,r.wg)(),(0,r.iD)("div",{key:"bv-empty-tab",class:(0,i.C_)(["tab-pane active",{"card-body":t.card}])},[(0,r.WI)(t.$slots,"empty")],2)):(0,r.kq)("",!0)],2)):(0,r.kq)("",!0),(0,r._)("div",{class:(0,i.C_)([t.navWrapperClass,{"card-header":t.card,"ms-auto":t.vertical&&t.end}])},[(0,r._)("ul",{class:(0,i.C_)(["nav",[t.navTabsClasses,t.navClass]]),role:"tablist"},[(0,r.WI)(t.$slots,"tabs-start"),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.tabs,(({tab:e,buttonId:n,contentId:o,navItemClasses:s,active:l,target:u},c)=>((0,r.wg)(),(0,r.iD)("li",{key:c,class:(0,i.C_)(["nav-item",e.props["title-item-class"]])},[(0,r._)("button",(0,r.dG)({id:n,class:["nav-link",s],"data-bs-toggle":"tab","data-bs-target":u,role:"tab","aria-controls":o,"aria-selected":l},e.props["title-link-attributes"],{onClick:(0,a.iM)((e=>t.handleClick(e,c)),["stop","prevent"])}),[e.children&&e.children.title?((0,r.wg)(),(0,r.j4)((0,r.LL)(e.children.title),{key:0})):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Uk)((0,i.zw)(e.props.title),1)],64))],16,dl)],2)))),128)),(0,r.WI)(t.$slots,"tabs-end")],2)],2),t.end?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,i.C_)(["tab-content",t.contentClass])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.tabs,(({tab:t,contentId:e,tabClasses:n,active:o},a)=>((0,r.wg)(),(0,r.j4)((0,r.LL)(t),{key:a,id:e,class:(0,i.C_)(n),active:o},null,8,["id","class","active"])))),128)),t.showEmpty?((0,r.wg)(),(0,r.iD)("div",{key:"bv-empty-tab",class:(0,i.C_)(["tab-pane active",{"card-body":t.card}])},[(0,r.WI)(t.$slots,"empty")],2)):(0,r.kq)("",!0)],2))])),_:3},8,["id","class"])}var fl=R(cl,[["render",hl]]);const pl=(0,r.aZ)({name:"BTab",props:{active:{type:Boolean,default:!1},buttonId:{type:String,default:null},disabled:{type:Boolean,default:!1},id:{type:String},lazy:{type:Boolean,default:!1},noBody:{type:[Boolean,String],default:!1},tag:{type:String,default:"div"},title:{type:String},titleItemClass:{type:[Array,Object,String],default:null},titleLinkAttributes:{type:Object,default:null},titleLinkClass:{type:[Array,Object,String],default:null}},setup(t){const e=(0,r.f3)(ll),n=(0,r.Fl)((()=>(null==e?void 0:e.lazy)||t.lazy)),i=(0,r.Fl)((()=>t.active&&!t.disabled)),o=(0,r.Fl)((()=>i.value||!n.value)),a=(0,r.Fl)((()=>({active:t.active,show:t.active,"card-body":e.card&&!1===t.noBody})));return{classes:a,computedLazy:n,computedActive:i,showSlot:o}}});function ml(t,e,n,o,a,s){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.tag),{id:t.id,class:(0,i.C_)(["tab-pane",t.classes]),role:"tabpanel","aria-labelledby":"profile-tab"},{default:(0,r.w5)((()=>[t.showSlot?(0,r.WI)(t.$slots,"default",{key:0}):(0,r.kq)("",!0)])),_:3},8,["id","class"])}var gl=R(pl,[["render",ml]]);const vl=()=>{const t=(t,e)=>{const n=[];return!(null==t?void 0:t.length)&&(null==e?void 0:e.length)?(Object.keys(e[0]).forEach((t=>n.push({key:t,label:wt(t)}))),n):Array.isArray(t)?(t.forEach((t=>{"string"===typeof t?n.push({key:t,label:wt(t)}):ut(t)&&t.key&&ct(t.key)&&n.push(P({},t))})),n):n};return{normaliseFields:t}},yl=(0,r.aZ)({name:"BTable",props:{align:{type:String},caption:{type:String},captionTop:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},borderVariant:{type:String},dark:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]},footClone:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},responsive:{type:[Boolean,String],default:!1},small:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},variant:{type:String}},setup(t,{slots:e}){const n=(0,r.Fl)((()=>({[`align-${t.align}`]:t.align,[`table-${t.variant}`]:t.variant,"table-striped":t.striped,"table-hover":t.hover,"table-dark":t.dark,"table-bordered":t.bordered,[`border-${t.borderVariant}`]:t.borderVariant,"table-borderless":t.borderless,"table-sm":t.small,"caption-top":t.captionTop}))),i=vl(),o=(0,r.Fl)((()=>i.normaliseFields(t.fields,t.items)));return()=>{let i,a;i=null,e["thead-top"]&&(i=e["thead-top"]()),a=null,e["thead-sub"]&&(a=(0,r.h)("tr",o.value.map((t=>(0,r.h)("td",{scope:"col",class:[t.class,t.thClass,t.variant?`table-${t.variant}`:""]},e["thead-sub"](P({items:o.value},t)))))));const s=(0,r.h)("thead",[i,(0,r.h)("tr",o.value.map((t=>{var n;const i=`head(${t.key})`;let o=t.label;return e[i]&&(o=null==(n=e[i])?void 0:n.call(e,{label:t.label})),(0,r.h)("th",L(P({},t.thAttr),{scope:"col",class:[t.class,t.thClass,t.variant?`table-${t.variant}`:""],title:t.headerTitle,abbr:t.headerAbbr,style:t.thStyle}),o)}))),a]),l=[(0,r.h)("tbody",t.items.map(((n,i)=>(0,r.h)("tr",{class:[n._rowVariant?`table-${n._rowVariant}`:null]},o.value.map((o=>{var a;const s=`cell(${o.key})`;let l=n[o.key];return e[s]&&(l=null==(a=e[s])?void 0:a.call(e,{value:n[o.key],index:i,item:n,items:t.items})),(0,r.h)("td",L(P({},o.tdAttr),{class:[o.class,o.tdClass,o.variant?`table-${o.variant}`:"",(null==n?void 0:n._cellVariants)&&(null==n?void 0:n._cellVariants[o.key])?`table-${null==n?void 0:n._cellVariants[o.key]}`:""]}),l)}))))))],u=[s,l];if(e["table-caption"])u.push((0,r.h)("caption",e["table-caption"]()));else if(t.caption){const e=(0,r.h)("caption",t.caption);u.push(e)}if(t.footClone){const t=(0,r.h)("tfoot",(0,r.h)("tr",o.value.map((t=>(0,r.h)("th",L(P({},t.thAttr),{scope:"col",class:[t.class,t.thClass,t.variant?`table-${t.variant}`:""],title:t.headerTitle,abbr:t.headerAbbr,style:t.thStyle}),t.label)))));u.push(t)}const c=(0,r.h)("table",{class:["table",n.value]},u);return t.responsive?(0,r.h)("div",{class:{"table-responsive":"boolean"===typeof t.responsive&&t.responsive,[`table-responsive-${t.responsive}`]:"string"===typeof t.responsive}},c):c}}});function bl(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("div")}var _l=R(yl,[["render",bl]]);const wl=(0,r.aZ)({props:{headVariant:{type:Boolean,default:!1}},setup(t){const e=t,n=(0,r.Fl)((()=>({[`thead-${e.headVariant}`]:e.headVariant})));return(t,e)=>((0,r.wg)(),(0,r.iD)("tbody",{role:"rowgroup",class:(0,i.C_)((0,o.SU)(n))},[(0,r.WI)(t.$slots,"default")],2))}}),xl=(0,r.aZ)({props:{colspan:{type:[String,Number]},rowspan:{type:[String,Number]},stackedHeading:{type:String},stickyColumn:{type:Boolean,default:!1},variant:{type:String}},setup(t){const e=(0,r.Rr)(),n=(0,r.Fl)((()=>({[`table-${t.variant}`]:t.variant,"b-table-sticky-column":t.stickyColumn,"table-b-table-default":t.stickyColumn&&!t.variant}))),i=(0,r.Fl)((()=>t.colspan?"colspan":t.rowspan?"rowspan":"col")),o=(0,r.Fl)((()=>{var n,i;return t.stackedHeading?(0,r.h)("div",null==(n=e.default)?void 0:n.call(e)):null==(i=e.default)?void 0:i.call(e)}));return()=>(0,r.h)("td",{role:"cell",scope:i.value,class:n.value,colspan:t.colspan,rowspan:t.rowspan,"data-label":t.stackedHeading},o.value)}}),Sl=(0,r.aZ)({props:{footVariant:{type:String}},setup(t){const e=t,n=(0,r.Fl)((()=>({[`table-${e.footVariant}`]:e.footVariant})));return(t,e)=>((0,r.wg)(),(0,r.iD)("tfoot",{role:"rowgroup",class:(0,i.C_)((0,o.SU)(n))},[(0,r.WI)(t.$slots,"default")],2))}}),Ml=(0,r.aZ)({props:{colspan:{type:[String,Number]},rowspan:{type:[String,Number]},stackedHeading:{type:String},stickyColumn:{type:Boolean,default:!1},variant:{type:String}},setup(t){var e;const n=t,i=(0,r.Rr)(),a=(0,r.Fl)((()=>({[`table-${n.variant}`]:n.variant,"b-table-sticky-column":n.stickyColumn,"table-b-table-default":n.stickyColumn&&!n.variant}))),s=(0,r.Fl)((()=>n.colspan?"colspan":n.rowspan?"rowspan":"col"));let l=null==(e=i.default)?void 0:e.call(i);n.stackedHeading&&(l=(0,r.h)("div",l));const u=(0,r.h)("th",{role:"columnheader",scope:s.value,class:a.value,colspan:n.colspan,rowspan:n.rowspan,"data-label":n.stackedHeading},l);return(t,e)=>((0,r.wg)(),(0,r.j4)((0,o.SU)(u)))}}),El=(0,r.aZ)({props:{headVariant:{type:String}},setup(t){const e=t,n=(0,r.Fl)((()=>({[`table-${e.headVariant}`]:e.headVariant})));return(t,e)=>((0,r.wg)(),(0,r.iD)("thead",{role:"rowgroup",class:(0,i.C_)((0,o.SU)(n))},[(0,r.WI)(t.$slots,"default")],2))}}),Tl=(0,r.aZ)({props:{variant:{type:String}},setup(t){const e=t,n=(0,r.Fl)((()=>({[`table-${e.variant}`]:e.variant})));return(t,e)=>((0,r.wg)(),(0,r.iD)("tr",{role:"row",class:(0,i.C_)((0,o.SU)(n))},[(0,r.WI)(t.$slots,"default")],2))}}),Al="toast-title",Cl=5e3,Ol=(0,r.aZ)({name:"BToast",emits:["destroyed","update:modelValue"],props:L(P({},be),{delay:{type:Number,default:5e3},bodyClass:{type:String},body:{type:[Object,String]},headerClass:{type:String},headerTag:{type:String,default:"div"},animation:{type:Boolean,default:!0},id:{type:String},isStatus:{type:Boolean,default:!1},autoHide:{type:Boolean,default:!0},noCloseButton:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},solid:{type:Boolean,default:!1},static:{type:Boolean,default:!1},title:{type:String},modelValue:{type:Boolean,default:!1},toastClass:{type:Array},variant:{type:String}}),setup(t,{emit:e,slots:n}){const i=(0,o.iH)(!1),a=(0,o.iH)(!1),s=(0,o.iH)(!1),l=(0,r.Fl)((()=>({[`b-toast-${t.variant}`]:t.variant,show:s.value||i.value})));let u,c,d;const h=()=>{clearTimeout(u),u=void 0},f=(0,r.Fl)((()=>Math.max(Xt(t.delay,0),Cl))),p=()=>{t.modelValue&&(c=d=0,h(),a.value=!0,Bt((()=>{s.value=!1})))},m=()=>{h(),e("update:modelValue",!0),c=d=0,a.value=!1,(0,r.Y3)((()=>{Bt((()=>{s.value=!0}))}))},g=()=>{if(!t.autoHide||t.noHoverPause||!u||d)return;const e=Date.now()-c;e>0&&(h(),d=Math.max(f.value-e,Cl))},v=()=>{t.autoHide&&!t.noHoverPause&&d||(d=c=0),y()};(0,r.YP)((()=>t.modelValue),(t=>{t?m():p()}));const y=()=>{h(),t.autoHide&&(u=setTimeout(p,d||f.value),c=Date.now(),d=0)},b=()=>{i.value=!0,e("update:modelValue",!0)},_=()=>{i.value=!1,y()},w=()=>{i.value=!0},x=()=>{i.value=!1,d=c=0,e("update:modelValue",!1)};(0,r.Fl)((()=>({OnBeforeEnter:b,OnAfterEnter:_,OnBeforeLeave:w,OnAfterLeave:x}))),(0,r.Ah)((()=>{h(),t.autoHide&&e("destroyed",t.id)})),(0,r.bv)((()=>{(0,r.Y3)((()=>{t.modelValue&&Bt((()=>{m()}))}))}));const S=()=>{(0,r.Y3)((()=>{Bt((()=>{p()}))}))};return()=>{const e=()=>{const e=[],i=zi(Al,{hide:p},n);i?e.push((0,r.h)(i)):t.title&&e.push((0,r.h)("strong",{class:"me-auto"},t.title)),t.noCloseButton||0===e.length||e.push((0,r.h)(ir,{class:["btn-close"],onClick:()=>{p()}}));const o=[];if(e.length>0&&o.push((0,r.h)(t.headerTag,{class:"toast-header"},{default:()=>e})),zi("default",{hide:p},n)||t.body){const e=(0,r.h)(Se(t)?"b-link":"div",{class:["toast-body",t.bodyClass],onClick:Se(t)?{click:S}:{}},zi("default",{hide:p},n)||t.body);o.push(e)}return(0,r.h)("div",{class:["toast",t.toastClass,l.value],tabindex:"0"},o)},i=(0,r.h)("div",{class:["b-toast"],id:t.id,role:a.value?null:t.isStatus?"status":"alert","aria-live":a.value?null:t.isStatus?"polite":"assertive","aria-atomic":a.value?null:"true",onmouseenter:g,onmouseleave:v},[(0,r.h)(ms,{noFade:t.noFade,onAfterEnter:_,onBeforeEnter:b,onAfterLeave:x,onBeforeLeave:w},(()=>[s.value?e():""]))]);return i}}});var kl={BAccordion:z,BAccordionItem:$t,BAlert:te,BAvatar:fe,BAvatarGroup:ae,BBadge:Oe,BBreadcrumb:Ve,BBreadcrumbItem:Ne,BButton:We,BButtonGroup:$e,BButtonToolbar:Je,BCard:nn,BCardBody:an,BCardFooter:cn,BCardGroup:fn,BCardHeader:vn,BCardImg:_n,BCardSubTitle:Sn,BCardText:An,BCardTitle:kn,BCarousel:qn,BCarouselSlide:tr,BCloseButton:ir,BCol:hr,BCollapse:W,BContainer:Mr,BDropdown:Pr,BDropdownDivider:Rr,BDropdownForm:zr,BDropdownGroup:Gr,BDropdownHeader:Yr,BDropdownItem:Qr,BDropdownItemButton:ri,BDropdownText:li,BForm:hi,BFormCheckbox:Ti,BFormCheckboxGroup:Li,BFormFloatingLabel:Bi,BFormGroup:so,BFormInput:mo,BFormInvalidFeedback:qi,BFormRadio:_o,BFormRadioGroup:To,BFormRow:Yi,BFormSelect:Vo,BFormSelectOption:ko,BFormSelectOptionGroup:Bo,BFormText:Ki,BFormTextarea:la,BFormTag:Wo,BFormTags:ia,BFormValidFeedback:Hi,BImg:fa,BInputGroup:xa,BInputGroupAddon:Ca,BInputGroupAppend:Pa,BInputGroupPrepend:Da,BInputGroupText:Ea,BLink:xe,BListGroup:Fa,BListGroupItem:Ua,BModal:$a,BNav:Za,BNavItem:ts,BNavItemDropdown:is,BOffcanvas:hs,BOverlay:bs,BPagination:Rs,BPopover:Vs,BProgress:Gs,BProgressBar:qs,BRow:Zs,BSkeleton:Js,BSkeletonIcon:Ks,BSkeletonTable:nl,BSkeletonWrapper:rl,BSpinner:sl,BTab:gl,BTable:_l,BTableSimple:Qs,BTbody:wl,BTd:xl,BTfoot:Sl,BTh:Ml,BThead:El,BTr:Tl,BToast:Ol,BToaster:Sr,BToastContainer:Sr,BTabs:fl,BTransition:ms,BToastPlugin:br},Pl={mounted(t,e){let n=e.value;Object.keys(e.modifiers).length>0&&([n]=Object.keys(e.modifiers)),t.setAttribute("data-bs-toggle","modal"),t.setAttribute("data-bs-target",`#${n}`)}};const Ll={mounted(t,e){let n="right";const r=[];e.modifiers.left?n="left":e.modifiers.right?n="right":e.modifiers.bottom?n="bottom":e.modifiers.top&&(n="top"),e.modifiers.manual?r.push("manual"):(e.modifiers.click&&r.push("click"),e.modifiers.hover&&r.push("hover"),e.modifiers.focus&&r.push("focus")),t.setAttribute("data-bs-toggle","popover"),new(_())(t,{trigger:0===r.length?"click":r.join(" "),placement:n,content:e.value})},unmounted(t){const e=_().getInstance(t);null==e||e.dispose()}};function Il(t){if(t.manual)return"manual";const e=[];return t.click&&e.push("click"),t.hover&&e.push("hover"),t.focus&&e.push("focus"),e.length>0?e.join(" "):"hover focus"}function Dl(t){return t.left?"left":t.right?"right":t.bottom?"bottom":"top"}function Rl(t){return(null==t?void 0:t.delay)?t.delay:0}const Nl={beforeMount(t,e){t.setAttribute("data-bs-toggle","tooltip");const n=/<("[^"]*"|'[^']*'|[^'">])*>/.test(t.title),r=Il(e.modifiers),i=Dl(e.modifiers),o=Rl(e.value);new(x())(t,{trigger:r,placement:i,delay:o,html:n})},updated(t){const e=t.getAttribute("title");if(""!==e){const n=x().getInstance(t);null==n||n.toggle(),t.setAttribute("data-bs-original-title",e||""),t.setAttribute("title",""),null==n||n.toggle()}},unmounted(t){const e=x().getInstance(t);null==e||e.dispose()}},Bl=new Map;function Fl(t){if(Bl.has(t)){const e=Bl.get(t);e&&e.stop&&e.stop(),Bl.delete(t)}}function jl(t,e){const n={margin:"0px",once:!1,callback:e.value};Object.keys(e.modifiers).forEach((t=>{Number.isInteger(t)?n.margin=`${t}px`:"once"===t.toLowerCase()&&(n.once=!0)})),Fl(t);const r=new Vl(t,n.margin,n.once,n.callback,e.instance);Bl.set(t,r)}const zl={beforeMount(t,e){jl(t,e)},updated(t,e){jl(t,e)},unmounted(t){Fl(t)}};class Vl{constructor(t,e,n,r,i){this.element=t,this.margin=e,this.once=n,this.callback=r,this.instance=i,this.createObserver()}createObserver(){if(this.observer&&this.stop(),!this.doneOnce&&"function"===typeof this.callback){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch(t){return S.error("Intersection Observer not supported"),this.doneOnce=!0,this.observer=void 0,void this.callback(null)}this.instance.$nextTick((()=>{this.observer&&this.observer.observe(this.element)}))}}handler(t){const[e]=t,n=Boolean(e.isIntersecting||e.intersectionRatio>0);n!==this.visible&&(this.visible=n,this.callback(n),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}stop(){this.observer&&this.observer.disconnect(),this.observer=null}}var Ul={mounted(t,e){!1!==e.value&&t.focus()}},Hl={BModal:Pl,BPopover:Ll,BToggle:zt,BTooltip:Nl,BVisible:zl,focus:Ul};const Wl={install(t,e={}){Object.entries(kl).forEach((([e,n])=>{t.component(e,n)})),Object.entries(Hl).forEach((([e,n])=>{t.directive(e,n)})),Le(t)}}},4313:function(t,e,n){n(6699),n(1703),
/*!
  * Bootstrap alert.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,r){t.exports=r(n(4130),n(1884))}(0,(function(t,e){"use strict";const n=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},r=n(t),i=n(e),o=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},a=t=>{const e=o(t);return e?document.querySelector(e):null},s=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),l=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},u=[],c=t=>{"loading"===document.readyState?(u.length||document.addEventListener("DOMContentLoaded",(()=>{u.forEach((t=>t()))})),u.push(t)):t()},d=t=>{c((()=>{const e=l();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},h=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;r.default.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),s(this))return;const r=a(this)||this.closest(`.${i}`),o=t.getOrCreateInstance(r);o[e]()}))},f="alert",p="bs.alert",m=`.${p}`,g=`close${m}`,v=`closed${m}`,y="fade",b="show";class _ extends i.default{static get NAME(){return f}close(){const t=r.default.trigger(this._element,g);if(t.defaultPrevented)return;this._element.classList.remove(b);const e=this._element.classList.contains(y);this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),r.default.trigger(this._element,v),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=_.getOrCreateInstance(this);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return h(_,"close"),d(_),_}))},1884:function(t,e,n){n(1703),
/*!
  * Bootstrap base-component.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,r){t.exports=r(n(4777),n(4130))}(0,(function(t,e){"use strict";const n=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},r=n(t),i=n(e),o=1e3,a="transitionend",s=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*o):0},l=t=>{t.dispatchEvent(new Event(a))},u=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),c=t=>u(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,d=t=>{"function"===typeof t&&t()},h=(t,e,n=!0)=>{if(!n)return void d(t);const r=5,i=s(e)+r;let o=!1;const u=({target:n})=>{n===e&&(o=!0,e.removeEventListener(a,u),d(t))};e.addEventListener(a,u),setTimeout((()=>{o||l(e)}),i)},f="5.1.3";class p{constructor(t){t=c(t),t&&(this._element=t,r.default.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.default.remove(this._element,this.constructor.DATA_KEY),i.default.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((t=>{this[t]=null}))}_queueCallback(t,e,n=!0){h(t,e,n)}static getInstance(t){return r.default.get(c(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"===typeof e?e:null)}static get VERSION(){return f}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}return p}))},1957:function(t,e,n){n(6699),n(1703),
/*!
  * Bootstrap carousel.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,r){t.exports=r(n(4130),n(6221),n(7317),n(1884))}(0,(function(t,e,n,r){"use strict";const i=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},o=i(t),a=i(e),s=i(n),l=i(r),u="transitionend",c=t=>null===t||void 0===t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),d=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},h=t=>{const e=d(t);return e?document.querySelector(e):null},f=t=>{t.dispatchEvent(new Event(u))},p=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),m=(t,e,n)=>{Object.keys(n).forEach((r=>{const i=n[r],o=e[r],a=o&&p(o)?"element":c(o);if(!new RegExp(i).test(a))throw new TypeError(`${t.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}))},g=t=>!(!p(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),v=t=>{t.offsetHeight},y=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},b=[],_=t=>{"loading"===document.readyState?(b.length||document.addEventListener("DOMContentLoaded",(()=>{b.forEach((t=>t()))})),b.push(t)):t()},w=()=>"rtl"===document.documentElement.dir,x=t=>{_((()=>{const e=y();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},S=(t,e,n,r)=>{let i=t.indexOf(e);if(-1===i)return t[!n&&r?t.length-1:0];const o=t.length;return i+=n?1:-1,r&&(i=(i+o)%o),t[Math.max(0,Math.min(i,o-1))]},M="carousel",E="bs.carousel",T=`.${E}`,A=".data-api",C="ArrowLeft",O="ArrowRight",k=500,P=40,L={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},I={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},D="next",R="prev",N="left",B="right",F={[C]:B,[O]:N},j=`slide${T}`,z=`slid${T}`,V=`keydown${T}`,U=`mouseenter${T}`,H=`mouseleave${T}`,W=`touchstart${T}`,G=`touchmove${T}`,q=`touchend${T}`,$=`pointerdown${T}`,X=`pointerup${T}`,Y=`dragstart${T}`,Z=`load${T}${A}`,J=`click${T}${A}`,K="carousel",Q="active",tt="slide",et="carousel-item-end",nt="carousel-item-start",rt="carousel-item-next",it="carousel-item-prev",ot="pointer-event",at=".active",st=".active.carousel-item",lt=".carousel-item",ut=".carousel-item img",ct=".carousel-item-next, .carousel-item-prev",dt=".carousel-indicators",ht="[data-bs-target]",ft="[data-bs-slide], [data-bs-slide-to]",pt='[data-bs-ride="carousel"]',mt="touch",gt="pen";class vt extends l.default{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=s.default.findOne(dt,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return L}static get NAME(){return M}next(){this._slide(D)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(R)}pause(t){t||(this._isPaused=!0),s.default.findOne(ct,this._element)&&(f(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=s.default.findOne(st,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void o.default.one(this._element,z,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const n=t>e?D:R;this._slide(n,this._items[t])}_getConfig(t){return t={...L,...a.default.getDataAttributes(this._element),..."object"===typeof t?t:{}},m(M,t,I),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=P)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?B:N)}_addEventListeners(){this._config.keyboard&&o.default.on(this._element,V,(t=>this._keydown(t))),"hover"===this._config.pause&&(o.default.on(this._element,U,(t=>this.pause(t))),o.default.on(this._element,H,(t=>this.cycle(t)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&(t.pointerType===gt||t.pointerType===mt),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},n=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},r=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((t=>this.cycle(t)),k+this._config.interval))};s.default.find(ut,this._element).forEach((t=>{o.default.on(t,Y,(t=>t.preventDefault()))})),this._pointerEvent?(o.default.on(this._element,$,(t=>e(t))),o.default.on(this._element,X,(t=>r(t))),this._element.classList.add(ot)):(o.default.on(this._element,W,(t=>e(t))),o.default.on(this._element,G,(t=>n(t))),o.default.on(this._element,q,(t=>r(t))))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=F[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?s.default.find(lt,t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const n=t===D;return S(this._items,e,n,this._config.wrap)}_triggerSlideEvent(t,e){const n=this._getItemIndex(t),r=this._getItemIndex(s.default.findOne(st,this._element));return o.default.trigger(this._element,j,{relatedTarget:t,direction:e,from:r,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=s.default.findOne(at,this._indicatorsElement);e.classList.remove(Q),e.removeAttribute("aria-current");const n=s.default.find(ht,this._indicatorsElement);for(let r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[r].classList.add(Q),n[r].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||s.default.findOne(st,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const n=this._directionToOrder(t),r=s.default.findOne(st,this._element),i=this._getItemIndex(r),a=e||this._getItemByOrder(n,r),l=this._getItemIndex(a),u=Boolean(this._interval),c=n===D,d=c?nt:et,h=c?rt:it,f=this._orderToDirection(n);if(a&&a.classList.contains(Q))return void(this._isSliding=!1);if(this._isSliding)return;const p=this._triggerSlideEvent(a,f);if(p.defaultPrevented)return;if(!r||!a)return;this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(a),this._activeElement=a;const m=()=>{o.default.trigger(this._element,z,{relatedTarget:a,direction:f,from:i,to:l})};if(this._element.classList.contains(tt)){a.classList.add(h),v(a),r.classList.add(d),a.classList.add(d);const t=()=>{a.classList.remove(d,h),a.classList.add(Q),r.classList.remove(Q,h,d),this._isSliding=!1,setTimeout(m,0)};this._queueCallback(t,r,!0)}else r.classList.remove(Q),a.classList.add(Q),this._isSliding=!1,m();u&&this.cycle()}_directionToOrder(t){return[B,N].includes(t)?w()?t===N?R:D:t===N?D:R:t}_orderToDirection(t){return[D,R].includes(t)?w()?t===R?N:B:t===R?B:N:t}static carouselInterface(t,e){const n=vt.getOrCreateInstance(t,e);let{_config:r}=n;"object"===typeof e&&(r={...r,...e});const i="string"===typeof e?e:r.slide;if("number"===typeof e)n.to(e);else if("string"===typeof i){if("undefined"===typeof n[i])throw new TypeError(`No method named "${i}"`);n[i]()}else r.interval&&r.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each((function(){vt.carouselInterface(this,t)}))}static dataApiClickHandler(t){const e=h(this);if(!e||!e.classList.contains(K))return;const n={...a.default.getDataAttributes(e),...a.default.getDataAttributes(this)},r=this.getAttribute("data-bs-slide-to");r&&(n.interval=!1),vt.carouselInterface(e,n),r&&vt.getInstance(e).to(r),t.preventDefault()}}return o.default.on(document,J,ft,vt.dataApiClickHandler),o.default.on(window,Z,(()=>{const t=s.default.find(pt);for(let e=0,n=t.length;e<n;e++)vt.carouselInterface(t[e],vt.getInstance(t[e]))})),x(vt),vt}))},434:function(t,e,n){n(6699),n(1703),
/*!
  * Bootstrap collapse.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,r){t.exports=r(n(4777),n(4130),n(6221),n(7317),n(1884))}(0,(function(t,e,n,r,i){"use strict";const o=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},a=o(t),s=o(e),l=o(n),u=o(r),c=o(i),d=t=>null===t||void 0===t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),h=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},f=t=>{const e=h(t);return e&&document.querySelector(e)?e:null},p=t=>{const e=h(t);return e?document.querySelector(e):null},m=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),g=t=>m(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,v=(t,e,n)=>{Object.keys(n).forEach((r=>{const i=n[r],o=e[r],a=o&&m(o)?"element":d(o);if(!new RegExp(i).test(a))throw new TypeError(`${t.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}))},y=t=>{t.offsetHeight},b=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},_=[],w=t=>{"loading"===document.readyState?(_.length||document.addEventListener("DOMContentLoaded",(()=>{_.forEach((t=>t()))})),_.push(t)):t()},x=t=>{w((()=>{const e=b();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},S="collapse",M="bs.collapse",E=`.${M}`,T=".data-api",A={toggle:!0,parent:null},C={toggle:"boolean",parent:"(null|element)"},O=`show${E}`,k=`shown${E}`,P=`hide${E}`,L=`hidden${E}`,I=`click${E}${T}`,D="show",R="collapse",N="collapsing",B="collapsed",F=`:scope .${R} .${R}`,j="collapse-horizontal",z="width",V="height",U=".collapse.show, .collapse.collapsing",H='[data-bs-toggle="collapse"]';class W extends c.default{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const n=u.default.find(H);for(let r=0,i=n.length;r<i;r++){const t=n[r],e=f(t),i=u.default.find(e).filter((t=>t===this._element));null!==e&&i.length&&(this._selector=e,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return A}static get NAME(){return S}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=u.default.find(F,this._config.parent);e=u.default.find(U,this._config.parent).filter((e=>!t.includes(e)))}const n=u.default.findOne(this._selector);if(e.length){const r=e.find((t=>n!==t));if(t=r?W.getInstance(r):null,t&&t._isTransitioning)return}const r=s.default.trigger(this._element,O);if(r.defaultPrevented)return;e.forEach((e=>{n!==e&&W.getOrCreateInstance(e,{toggle:!1}).hide(),t||a.default.set(e,M,null)}));const i=this._getDimension();this._element.classList.remove(R),this._element.classList.add(N),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(N),this._element.classList.add(R,D),this._element.style[i]="",s.default.trigger(this._element,k)},l=i[0].toUpperCase()+i.slice(1),c=`scroll${l}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const t=s.default.trigger(this._element,P);if(t.defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,y(this._element),this._element.classList.add(N),this._element.classList.remove(R,D);const n=this._triggerArray.length;for(let i=0;i<n;i++){const t=this._triggerArray[i],e=p(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(N),this._element.classList.add(R),s.default.trigger(this._element,L)};this._element.style[e]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(D)}_getConfig(t){return t={...A,...l.default.getDataAttributes(this._element),...t},t.toggle=Boolean(t.toggle),t.parent=g(t.parent),v(S,t,C),t}_getDimension(){return this._element.classList.contains(j)?z:V}_initializeChildren(){if(!this._config.parent)return;const t=u.default.find(F,this._config.parent);u.default.find(H,this._config.parent).filter((e=>!t.includes(e))).forEach((t=>{const e=p(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}))}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach((t=>{e?t.classList.remove(B):t.classList.add(B),t.setAttribute("aria-expanded",e)}))}static jQueryInterface(t){return this.each((function(){const e={};"string"===typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const n=W.getOrCreateInstance(this,e);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}return s.default.on(document,I,H,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=f(this),n=u.default.find(e);n.forEach((t=>{W.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),x(W),W}))},4777:function(t,e,n){var r=n(5941);
/*!
  * Bootstrap data.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,n){t.exports=n()})(0,(function(){"use strict";const t=new Map,e={set(e,n,i){t.has(e)||t.set(e,new Map);const o=t.get(e);o.has(n)||0===o.size?o.set(n,i):r.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`)},get(e,n){return t.has(e)&&t.get(e).get(n)||null},remove(e,n){if(!t.has(e))return;const r=t.get(e);r.delete(n),0===r.size&&t.delete(e)}};return e}))},4130:function(t,e,n){n(6699),
/*!
  * Bootstrap event-handler.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,n){t.exports=n()}(0,(function(){"use strict";const t=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},e=/[^.]*(?=\..*)\.|.*/,n=/\..*/,r=/::\d+$/,i={};let o=1;const a={mouseenter:"mouseover",mouseleave:"mouseout"},s=/^(mouseenter|mouseleave)/i,l=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function u(t,e){return e&&`${e}::${o++}`||t.uidEvent||o++}function c(t){const e=u(t);return t.uidEvent=e,i[e]=i[e]||{},i[e]}function d(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&b.off(t,r.type,e),e.apply(t,[r])}}function h(t,e,n){return function r(i){const o=t.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(let s=o.length;s--;)if(o[s]===a)return i.delegateTarget=a,r.oneOff&&b.off(t,i.type,e,n),n.apply(a,[i]);return null}}function f(t,e,n=null){const r=Object.keys(t);for(let i=0,o=r.length;i<o;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function p(t,e,n){const r="string"===typeof e,i=r?n:e;let o=y(t);const a=l.has(o);return a||(o=t),[r,i,o]}function m(t,n,r,i,o){if("string"!==typeof n||!t)return;if(r||(r=i,i=null),s.test(n)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};i?i=t(i):r=t(r)}const[a,l,m]=p(n,r,i),g=c(t),v=g[m]||(g[m]={}),y=f(v,l,a?r:null);if(y)return void(y.oneOff=y.oneOff&&o);const b=u(l,n.replace(e,"")),_=a?h(t,r,i):d(t,r);_.delegationSelector=a?r:null,_.originalHandler=l,_.oneOff=o,_.uidEvent=b,v[b]=_,t.addEventListener(m,_,a)}function g(t,e,n,r,i){const o=f(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}function v(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach((o=>{if(o.includes(r)){const r=i[o];g(t,e,n,r.originalHandler,r.delegationSelector)}}))}function y(t){return t=t.replace(n,""),a[t]||t}const b={on(t,e,n,r){m(t,e,n,r,!1)},one(t,e,n,r){m(t,e,n,r,!0)},off(t,e,n,i){if("string"!==typeof e||!t)return;const[o,a,s]=p(e,n,i),l=s!==e,u=c(t),d=e.startsWith(".");if("undefined"!==typeof a){if(!u||!u[s])return;return void g(t,u,s,a,o?n:null)}d&&Object.keys(u).forEach((n=>{v(t,u,n,e.slice(1))}));const h=u[s]||{};Object.keys(h).forEach((n=>{const i=n.replace(r,"");if(!l||e.includes(i)){const e=h[n];g(t,u,s,e.originalHandler,e.delegationSelector)}}))},trigger(e,n,r){if("string"!==typeof n||!e)return null;const i=t(),o=y(n),a=n!==o,s=l.has(o);let u,c=!0,d=!0,h=!1,f=null;return a&&i&&(u=i.Event(n,r),i(e).trigger(u),c=!u.isPropagationStopped(),d=!u.isImmediatePropagationStopped(),h=u.isDefaultPrevented()),s?(f=document.createEvent("HTMLEvents"),f.initEvent(o,c,!0)):f=new CustomEvent(n,{bubbles:c,cancelable:!0}),"undefined"!==typeof r&&Object.keys(r).forEach((t=>{Object.defineProperty(f,t,{get(){return r[t]}})})),h&&f.preventDefault(),d&&e.dispatchEvent(f),f.defaultPrevented&&"undefined"!==typeof u&&u.preventDefault(),f}};return b}))},6221:function(t){
/*!
  * Bootstrap manipulator.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,n){t.exports=n()})(0,(function(){"use strict";function t(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function e(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const n={setDataAttribute(t,n,r){t.setAttribute(`data-bs-${e(n)}`,r)},removeDataAttribute(t,n){t.removeAttribute(`data-bs-${e(n)}`)},getDataAttributes(e){if(!e)return{};const n={};return Object.keys(e.dataset).filter((t=>t.startsWith("bs"))).forEach((r=>{let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),n[i]=t(e.dataset[r])})),n},getDataAttribute(n,r){return t(n.getAttribute(`data-bs-${e(r)}`))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position(t){return{top:t.offsetTop,left:t.offsetLeft}}};return n}))},7317:function(t){
/*!
  * Bootstrap selector-engine.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,n){t.exports=n()})(0,(function(){"use strict";const t=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),e=e=>!(!t(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility"),n=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),r=3,i={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter((t=>t.matches(e)))},parents(t,e){const n=[];let i=t.parentNode;while(i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==r)i.matches(e)&&n.push(i),i=i.parentNode;return n},prev(t,e){let n=t.previousElementSibling;while(n){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;while(n){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(", ");return this.find(r,t).filter((t=>!n(t)&&e(t)))}};return i}))},681:function(t,e,n){n(6699),n(1703),
/*!
  * Bootstrap dropdown.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,r){t.exports=r(n(1448),n(4130),n(6221),n(7317),n(1884))}(0,(function(t,e,n,r,i){"use strict";const o=t=>t&&"object"===typeof t&&"default"in t?t:{default:t};function a(t){if(t&&t.__esModule)return t;const e=Object.create(null);if(t)for(const n in t)if("default"!==n){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}return e.default=t,Object.freeze(e)}const s=a(t),l=o(e),u=o(n),c=o(r),d=o(i),h=t=>null===t||void 0===t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),f=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},p=t=>{const e=f(t);return e?document.querySelector(e):null},m=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),g=t=>m(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,v=(t,e,n)=>{Object.keys(n).forEach((r=>{const i=n[r],o=e[r],a=o&&m(o)?"element":h(o);if(!new RegExp(i).test(a))throw new TypeError(`${t.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}))},y=t=>!(!m(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),b=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),_=()=>{},w=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},x=[],S=t=>{"loading"===document.readyState?(x.length||document.addEventListener("DOMContentLoaded",(()=>{x.forEach((t=>t()))})),x.push(t)):t()},M=()=>"rtl"===document.documentElement.dir,E=t=>{S((()=>{const e=w();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},T=(t,e,n,r)=>{let i=t.indexOf(e);if(-1===i)return t[!n&&r?t.length-1:0];const o=t.length;return i+=n?1:-1,r&&(i=(i+o)%o),t[Math.max(0,Math.min(i,o-1))]},A="dropdown",C="bs.dropdown",O=`.${C}`,k=".data-api",P="Escape",L="Space",I="Tab",D="ArrowUp",R="ArrowDown",N=2,B=new RegExp(`${D}|${R}|${P}`),F=`hide${O}`,j=`hidden${O}`,z=`show${O}`,V=`shown${O}`,U=`click${O}${k}`,H=`keydown${O}${k}`,W=`keyup${O}${k}`,G="show",q="dropup",$="dropend",X="dropstart",Y="navbar",Z='[data-bs-toggle="dropdown"]',J=".dropdown-menu",K=".navbar-nav",Q=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",tt=M()?"top-end":"top-start",et=M()?"top-start":"top-end",nt=M()?"bottom-end":"bottom-start",rt=M()?"bottom-start":"bottom-end",it=M()?"left-start":"right-start",ot=M()?"right-start":"left-start",at={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},st={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class lt extends d.default{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return at}static get DefaultType(){return st}static get NAME(){return A}toggle(){return this._isShown()?this.hide():this.show()}show(){if(b(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element},e=l.default.trigger(this._element,z,t);if(e.defaultPrevented)return;const n=lt.getParentFromElement(this._element);this._inNavbar?u.default.setDataAttribute(this._menu,"popper","none"):this._createPopper(n),"ontouchstart"in document.documentElement&&!n.closest(K)&&[].concat(...document.body.children).forEach((t=>l.default.on(t,"mouseover",_))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(G),this._element.classList.add(G),l.default.trigger(this._element,V,t)}hide(){if(b(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){const e=l.default.trigger(this._element,F,t);e.defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>l.default.off(t,"mouseover",_))),this._popper&&this._popper.destroy(),this._menu.classList.remove(G),this._element.classList.remove(G),this._element.setAttribute("aria-expanded","false"),u.default.removeDataAttribute(this._menu,"popper"),l.default.trigger(this._element,j,t))}_getConfig(t){if(t={...this.constructor.Default,...u.default.getDataAttributes(this._element),...t},v(A,t,this.constructor.DefaultType),"object"===typeof t.reference&&!m(t.reference)&&"function"!==typeof t.reference.getBoundingClientRect)throw new TypeError(`${A.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if("undefined"===typeof s)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:m(this._config.reference)?e=g(this._config.reference):"object"===typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig(),r=n.modifiers.find((t=>"applyStyles"===t.name&&!1===t.enabled));this._popper=s.createPopper(e,this._menu,n),r&&u.default.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(G)}_getMenuElement(){return c.default.next(this._element,J)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains($))return it;if(t.classList.contains(X))return ot;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains(q)?e?et:tt:e?rt:nt}_detectNavbar(){return null!==this._element.closest(`.${Y}`)}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"===typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=c.default.find(Q,this._menu).filter(y);n.length&&T(n,e,t===R,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=lt.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t&&(t.button===N||"keyup"===t.type&&t.key!==I))return;const e=c.default.find(Z);for(let n=0,r=e.length;n<r;n++){const r=lt.getInstance(e[n]);if(!r||!1===r._config.autoClose)continue;if(!r._isShown())continue;const i={relatedTarget:r._element};if(t){const e=t.composedPath(),n=e.includes(r._menu);if(e.includes(r._element)||"inside"===r._config.autoClose&&!n||"outside"===r._config.autoClose&&n)continue;if(r._menu.contains(t.target)&&("keyup"===t.type&&t.key===I||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(i.clickEvent=t)}r._completeHide(i)}}static getParentFromElement(t){return p(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.key===L||t.key!==P&&(t.key!==R&&t.key!==D||t.target.closest(J)):!B.test(t.key))return;const e=this.classList.contains(G);if(!e&&t.key===P)return;if(t.preventDefault(),t.stopPropagation(),b(this))return;const n=this.matches(Z)?this:c.default.prev(this,Z)[0],r=lt.getOrCreateInstance(n);if(t.key!==P)return t.key===D||t.key===R?(e||r.show(),void r._selectMenuItem(t)):void(e&&t.key!==L||lt.clearMenus());r.hide()}}return l.default.on(document,H,Z,lt.dataApiKeydownHandler),l.default.on(document,H,J,lt.dataApiKeydownHandler),l.default.on(document,U,lt.clearMenus),l.default.on(document,W,lt.clearMenus),l.default.on(document,U,Z,(function(t){t.preventDefault(),lt.getOrCreateInstance(this).toggle()})),E(lt),lt}))},7972:function(t,e,n){n(6699),n(1703),
/*!
  * Bootstrap modal.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,r){t.exports=r(n(4130),n(6221),n(7317),n(1884))}(0,(function(t,e,n,r){"use strict";const i=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},o=i(t),a=i(e),s=i(n),l=i(r),u=1e3,c="transitionend",d=t=>null===t||void 0===t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),h=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},f=t=>{const e=h(t);return e?document.querySelector(e):null},p=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*u):0},m=t=>{t.dispatchEvent(new Event(c))},g=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),v=t=>g(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,y=(t,e,n)=>{Object.keys(n).forEach((r=>{const i=n[r],o=e[r],a=o&&g(o)?"element":d(o);if(!new RegExp(i).test(a))throw new TypeError(`${t.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}))},b=t=>!(!g(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),_=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),w=t=>{t.offsetHeight},x=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},S=[],M=t=>{"loading"===document.readyState?(S.length||document.addEventListener("DOMContentLoaded",(()=>{S.forEach((t=>t()))})),S.push(t)):t()},E=()=>"rtl"===document.documentElement.dir,T=t=>{M((()=>{const e=x();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},A=t=>{"function"===typeof t&&t()},C=(t,e,n=!0)=>{if(!n)return void A(t);const r=5,i=p(e)+r;let o=!1;const a=({target:n})=>{n===e&&(o=!0,e.removeEventListener(c,a),A(t))};e.addEventListener(c,a),setTimeout((()=>{o||m(e)}),i)},O=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",k=".sticky-top";class P{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(e=>e+t)),this._setElementAttributes(O,"paddingRight",(e=>e+t)),this._setElementAttributes(k,"marginRight",(e=>e-t))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth(),i=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t)[e];t.style[e]=`${n(Number.parseFloat(i))}px`};this._applyManipulationCallback(t,i)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(O,"paddingRight"),this._resetElementAttributes(k,"marginRight")}_saveInitialAttribute(t,e){const n=t.style[e];n&&a.default.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){const n=t=>{const n=a.default.getDataAttribute(t,e);"undefined"===typeof n?t.style.removeProperty(e):(a.default.removeDataAttribute(t,e),t.style[e]=n)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,e){g(t)?e(t):s.default.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const L={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},I={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},D="backdrop",R="fade",N="show",B=`mousedown.bs.${D}`;class F{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&w(this._getElement()),this._getElement().classList.add(N),this._emulateAnimation((()=>{A(t)}))):A(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(N),this._emulateAnimation((()=>{this.dispose(),A(t)}))):A(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(R),this._element=t}return this._element}_getConfig(t){return t={...L,..."object"===typeof t?t:{}},t.rootElement=v(t.rootElement),y(D,t,I),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),o.default.on(this._getElement(),B,(()=>{A(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(o.default.off(this._element,B),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){C(t,this._getElement(),this._config.isAnimated)}}const j={trapElement:null,autofocus:!0},z={trapElement:"element",autofocus:"boolean"},V="focustrap",U="bs.focustrap",H=`.${U}`,W=`focusin${H}`,G=`keydown.tab${H}`,q="Tab",$="forward",X="backward";class Y{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),o.default.off(document,H),o.default.on(document,W,(t=>this._handleFocusin(t))),o.default.on(document,G,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,o.default.off(document,H))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const r=s.default.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===X?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===q&&(this._lastTabNavDirection=t.shiftKey?X:$)}_getConfig(t){return t={...j,..."object"===typeof t?t:{}},y(V,t,z),t}}const Z=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;o.default.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),_(this))return;const i=f(this)||this.closest(`.${r}`),o=t.getOrCreateInstance(i);o[e]()}))},J="modal",K="bs.modal",Q=`.${K}`,tt=".data-api",et="Escape",nt={backdrop:!0,keyboard:!0,focus:!0},rt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},it=`hide${Q}`,ot=`hidePrevented${Q}`,at=`hidden${Q}`,st=`show${Q}`,lt=`shown${Q}`,ut=`resize${Q}`,ct=`click.dismiss${Q}`,dt=`keydown.dismiss${Q}`,ht=`mouseup.dismiss${Q}`,ft=`mousedown.dismiss${Q}`,pt=`click${Q}${tt}`,mt="modal-open",gt="fade",vt="show",yt="modal-static",bt=".modal.show",_t=".modal-dialog",wt=".modal-body",xt='[data-bs-toggle="modal"]';class St extends l.default{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=s.default.findOne(_t,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new P}static get Default(){return nt}static get NAME(){return J}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;const e=o.default.trigger(this._element,st,{relatedTarget:t});e.defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(mt),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),o.default.on(this._dialog,ft,(()=>{o.default.one(this._element,ht,(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;const t=o.default.trigger(this._element,it);if(t.defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(vt),o.default.off(this._element,ct),o.default.off(this._dialog,ft),this._queueCallback((()=>this._hideModal()),this._element,e)}dispose(){[window,this._dialog].forEach((t=>o.default.off(t,Q))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new F({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Y({trapElement:this._element})}_getConfig(t){return t={...nt,...a.default.getDataAttributes(this._element),..."object"===typeof t?t:{}},y(J,t,rt),t}_showElement(t){const e=this._isAnimated(),n=s.default.findOne(wt,this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),e&&w(this._element),this._element.classList.add(vt);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,o.default.trigger(this._element,lt,{relatedTarget:t})};this._queueCallback(r,this._dialog,e)}_setEscapeEvent(){this._isShown?o.default.on(this._element,dt,(t=>{this._config.keyboard&&t.key===et?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==et||this._triggerBackdropTransition()})):o.default.off(this._element,dt)}_setResizeEvent(){this._isShown?o.default.on(window,ut,(()=>this._adjustDialog())):o.default.off(window,ut)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(mt),this._resetAdjustments(),this._scrollBar.reset(),o.default.trigger(this._element,at)}))}_showBackdrop(t){o.default.on(this._element,ct,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains(gt)}_triggerBackdropTransition(){const t=o.default.trigger(this._element,ot);if(t.defaultPrevented)return;const{classList:e,scrollHeight:n,style:r}=this._element,i=n>document.documentElement.clientHeight;!i&&"hidden"===r.overflowY||e.contains(yt)||(i||(r.overflowY="hidden"),e.add(yt),this._queueCallback((()=>{e.remove(yt),i||this._queueCallback((()=>{r.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!E()||n&&!t&&E())&&(this._element.style.paddingLeft=`${e}px`),(n&&!t&&!E()||!n&&t&&E())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=St.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}return o.default.on(document,pt,xt,(function(t){const e=f(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),o.default.one(e,st,(t=>{t.defaultPrevented||o.default.one(e,at,(()=>{b(this)&&this.focus()}))}));const n=s.default.findOne(bt);n&&St.getInstance(n).hide();const r=St.getOrCreateInstance(e);r.toggle(this)})),Z(St),T(St),St}))},4032:function(t,e,n){n(6699),n(1703),
/*!
  * Bootstrap offcanvas.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,r){t.exports=r(n(7317),n(6221),n(4130),n(1884))}(0,(function(t,e,n,r){"use strict";const i=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},o=i(t),a=i(e),s=i(n),l=i(r),u=1e3,c="transitionend",d=t=>null===t||void 0===t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),h=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},f=t=>{const e=h(t);return e?document.querySelector(e):null},p=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*u):0},m=t=>{t.dispatchEvent(new Event(c))},g=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),v=t=>g(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,y=(t,e,n)=>{Object.keys(n).forEach((r=>{const i=n[r],o=e[r],a=o&&g(o)?"element":d(o);if(!new RegExp(i).test(a))throw new TypeError(`${t.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}))},b=t=>!(!g(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),_=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),w=t=>{t.offsetHeight},x=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},S=[],M=t=>{"loading"===document.readyState?(S.length||document.addEventListener("DOMContentLoaded",(()=>{S.forEach((t=>t()))})),S.push(t)):t()},E=t=>{M((()=>{const e=x();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},T=t=>{"function"===typeof t&&t()},A=(t,e,n=!0)=>{if(!n)return void T(t);const r=5,i=p(e)+r;let o=!1;const a=({target:n})=>{n===e&&(o=!0,e.removeEventListener(c,a),T(t))};e.addEventListener(c,a),setTimeout((()=>{o||m(e)}),i)},C=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",O=".sticky-top";class k{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(e=>e+t)),this._setElementAttributes(C,"paddingRight",(e=>e+t)),this._setElementAttributes(O,"marginRight",(e=>e-t))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth(),i=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t)[e];t.style[e]=`${n(Number.parseFloat(i))}px`};this._applyManipulationCallback(t,i)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(C,"paddingRight"),this._resetElementAttributes(O,"marginRight")}_saveInitialAttribute(t,e){const n=t.style[e];n&&a.default.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){const n=t=>{const n=a.default.getDataAttribute(t,e);"undefined"===typeof n?t.style.removeProperty(e):(a.default.removeDataAttribute(t,e),t.style[e]=n)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,e){g(t)?e(t):o.default.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const P={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},L={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},I="backdrop",D="fade",R="show",N=`mousedown.bs.${I}`;class B{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&w(this._getElement()),this._getElement().classList.add(R),this._emulateAnimation((()=>{T(t)}))):T(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(R),this._emulateAnimation((()=>{this.dispose(),T(t)}))):T(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(D),this._element=t}return this._element}_getConfig(t){return t={...P,..."object"===typeof t?t:{}},t.rootElement=v(t.rootElement),y(I,t,L),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),s.default.on(this._getElement(),N,(()=>{T(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(s.default.off(this._element,N),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){A(t,this._getElement(),this._config.isAnimated)}}const F={trapElement:null,autofocus:!0},j={trapElement:"element",autofocus:"boolean"},z="focustrap",V="bs.focustrap",U=`.${V}`,H=`focusin${U}`,W=`keydown.tab${U}`,G="Tab",q="forward",$="backward";class X{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),s.default.off(document,U),s.default.on(document,H,(t=>this._handleFocusin(t))),s.default.on(document,W,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,s.default.off(document,U))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const r=o.default.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===$?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===G&&(this._lastTabNavDirection=t.shiftKey?$:q)}_getConfig(t){return t={...F,..."object"===typeof t?t:{}},y(z,t,j),t}}const Y=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;s.default.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),_(this))return;const i=f(this)||this.closest(`.${r}`),o=t.getOrCreateInstance(i);o[e]()}))},Z="offcanvas",J="bs.offcanvas",K=`.${J}`,Q=".data-api",tt=`load${K}${Q}`,et="Escape",nt={backdrop:!0,keyboard:!0,scroll:!1},rt={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},it="show",ot="offcanvas-backdrop",at=".offcanvas.show",st=`show${K}`,lt=`shown${K}`,ut=`hide${K}`,ct=`hidden${K}`,dt=`click${K}${Q}`,ht=`keydown.dismiss${K}`,ft='[data-bs-toggle="offcanvas"]';class pt extends l.default{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Z}static get Default(){return nt}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;const e=s.default.trigger(this._element,st,{relatedTarget:t});if(e.defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new k).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(it);const n=()=>{this._config.scroll||this._focustrap.activate(),s.default.trigger(this._element,lt,{relatedTarget:t})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown)return;const t=s.default.trigger(this._element,ut);if(t.defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(it),this._backdrop.hide();const e=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new k).reset(),s.default.trigger(this._element,ct)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...nt,...a.default.getDataAttributes(this._element),..."object"===typeof t?t:{}},y(Z,t,rt),t}_initializeBackDrop(){return new B({className:ot,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new X({trapElement:this._element})}_addEventListeners(){s.default.on(this._element,ht,(t=>{this._config.keyboard&&t.key===et&&this.hide()}))}static jQueryInterface(t){return this.each((function(){const e=pt.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return s.default.on(document,dt,ft,(function(t){const e=f(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),_(this))return;s.default.one(e,ct,(()=>{b(this)&&this.focus()}));const n=o.default.findOne(at);n&&n!==e&&pt.getInstance(n).hide();const r=pt.getOrCreateInstance(e);r.toggle(this)})),s.default.on(window,tt,(()=>o.default.find(at).forEach((t=>pt.getOrCreateInstance(t).show())))),Y(pt),E(pt),pt}))},4810:function(t,e,n){n(1703),
/*!
  * Bootstrap popover.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,r){t.exports=r(n(2649))}(0,(function(t){"use strict";const e=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},n=e(t),r=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},i=[],o=t=>{"loading"===document.readyState?(i.length||document.addEventListener("DOMContentLoaded",(()=>{i.forEach((t=>t()))})),i.push(t)):t()},a=t=>{o((()=>{const e=r();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},s="popover",l="bs.popover",u=`.${l}`,c="bs-popover",d={...n.default.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},h={...n.default.DefaultType,content:"(string|element|function)"},f={HIDE:`hide${u}`,HIDDEN:`hidden${u}`,SHOW:`show${u}`,SHOWN:`shown${u}`,INSERTED:`inserted${u}`,CLICK:`click${u}`,FOCUSIN:`focusin${u}`,FOCUSOUT:`focusout${u}`,MOUSEENTER:`mouseenter${u}`,MOUSELEAVE:`mouseleave${u}`},p=".popover-header",m=".popover-body";class g extends n.default{static get Default(){return d}static get NAME(){return s}static get Event(){return f}static get DefaultType(){return h}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),p),this._sanitizeAndSetContent(t,this._getContent(),m)}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return c}static jQueryInterface(t){return this.each((function(){const e=g.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}return a(g),g}))},2649:function(t,e,n){n(1703),n(6699),
/*!
  * Bootstrap tooltip.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,r){t.exports=r(n(1448),n(4777),n(4130),n(6221),n(7317),n(1884))}(0,(function(t,e,n,r,i,o){"use strict";const a=t=>t&&"object"===typeof t&&"default"in t?t:{default:t};function s(t){if(t&&t.__esModule)return t;const e=Object.create(null);if(t)for(const n in t)if("default"!==n){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}return e.default=t,Object.freeze(e)}const l=s(t),u=a(e),c=a(n),d=a(r),h=a(i),f=a(o),p=1e6,m=t=>null===t||void 0===t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),g=t=>{do{t+=Math.floor(Math.random()*p)}while(document.getElementById(t));return t},v=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),y=t=>v(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,b=(t,e,n)=>{Object.keys(n).forEach((r=>{const i=n[r],o=e[r],a=o&&v(o)?"element":m(o);if(!new RegExp(i).test(a))throw new TypeError(`${t.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}))},_=t=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?_(t.parentNode):null},w=()=>{},x=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},S=[],M=t=>{"loading"===document.readyState?(S.length||document.addEventListener("DOMContentLoaded",(()=>{S.forEach((t=>t()))})),S.push(t)):t()},E=()=>"rtl"===document.documentElement.dir,T=t=>{M((()=>{const e=x();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},A=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),C=/^aria-[\w-]*$/i,O=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,k=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,P=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return!A.has(n)||Boolean(O.test(t.nodeValue)||k.test(t.nodeValue));const r=e.filter((t=>t instanceof RegExp));for(let i=0,o=r.length;i<o;i++)if(r[i].test(n))return!0;return!1},L={"*":["class","dir","id","lang","role",C],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function I(t,e,n){if(!t.length)return t;if(n&&"function"===typeof n)return n(t);const r=new window.DOMParser,i=r.parseFromString(t,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let a=0,s=o.length;a<s;a++){const t=o[a],n=t.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){t.remove();continue}const r=[].concat(...t.attributes),i=[].concat(e["*"]||[],e[n]||[]);r.forEach((e=>{P(e,i)||t.removeAttribute(e.nodeName)}))}return i.body.innerHTML}const D="tooltip",R="bs.tooltip",N=`.${R}`,B="bs-tooltip",F=new Set(["sanitize","allowList","sanitizeFn"]),j={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},z={AUTO:"auto",TOP:"top",RIGHT:E()?"left":"right",BOTTOM:"bottom",LEFT:E()?"right":"left"},V={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:L,popperConfig:null},U={HIDE:`hide${N}`,HIDDEN:`hidden${N}`,SHOW:`show${N}`,SHOWN:`shown${N}`,INSERTED:`inserted${N}`,CLICK:`click${N}`,FOCUSIN:`focusin${N}`,FOCUSOUT:`focusout${N}`,MOUSEENTER:`mouseenter${N}`,MOUSELEAVE:`mouseleave${N}`},H="fade",W="modal",G="show",q="show",$="out",X=".tooltip-inner",Y=`.${W}`,Z="hide.bs.modal",J="hover",K="focus",Q="click",tt="manual";class et extends f.default{constructor(t,e){if("undefined"===typeof l)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return V}static get NAME(){return D}static get Event(){return U}static get DefaultType(){return j}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(G))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),c.default.off(this._element.closest(Y),Z,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=c.default.trigger(this._element,this.constructor.Event.SHOW),e=_(this._element),n=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(X).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const r=this.getTipElement(),i=g(this.constructor.NAME);r.setAttribute("id",i),this._element.setAttribute("aria-describedby",i),this._config.animation&&r.classList.add(H);const o="function"===typeof this._config.placement?this._config.placement.call(this,r,this._element):this._config.placement,a=this._getAttachment(o);this._addAttachmentClass(a);const{container:s}=this._config;u.default.set(r,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(r),c.default.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=l.createPopper(this._element,r,this._getPopperConfig(a)),r.classList.add(G);const d=this._resolvePossibleFunction(this._config.customClass);d&&r.classList.add(...d.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>{c.default.on(t,"mouseover",w)}));const h=()=>{const t=this._hoverState;this._hoverState=null,c.default.trigger(this._element,this.constructor.Event.SHOWN),t===$&&this._leave(null,this)},f=this.tip.classList.contains(H);this._queueCallback(h,this.tip,f)}hide(){if(!this._popper)return;const t=this.getTipElement(),e=()=>{this._isWithActiveTrigger()||(this._hoverState!==q&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),c.default.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},n=c.default.trigger(this._element,this.constructor.Event.HIDE);if(n.defaultPrevented)return;t.classList.remove(G),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>c.default.off(t,"mouseover",w))),this._activeTrigger[Q]=!1,this._activeTrigger[K]=!1,this._activeTrigger[J]=!1;const r=this.tip.classList.contains(H);this._queueCallback(e,this.tip,r),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(H,G),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),X)}_sanitizeAndSetContent(t,e,n){const r=h.default.findOne(n,t);e||!r?this.setElementContent(r,e):r.remove()}setElementContent(t,e){if(null!==t)return v(e)?(e=y(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=I(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"===typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"===typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return z[t.toUpperCase()]}_setListeners(){const t=this._config.trigger.split(" ");t.forEach((t=>{if("click"===t)c.default.on(this._element,this.constructor.Event.CLICK,this._config.selector,(t=>this.toggle(t)));else if(t!==tt){const e=t===J?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===J?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;c.default.on(this._element,e,this._config.selector,(t=>this._enter(t))),c.default.on(this._element,n,this._config.selector,(t=>this._leave(t)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},c.default.on(this._element.closest(Y),Z,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?K:J]=!0),e.getTipElement().classList.contains(G)||e._hoverState===q?e._hoverState=q:(clearTimeout(e._timeout),e._hoverState=q,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===q&&e.show()}),e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?K:J]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=$,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===$&&e.hide()}),e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=d.default.getDataAttributes(this._element);return Object.keys(e).forEach((t=>{F.has(t)&&delete e[t]})),t={...this.constructor.Default,...e,..."object"===typeof t&&t?t:{}},t.container=!1===t.container?document.body:y(t.container),"number"===typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"===typeof t.title&&(t.title=t.title.toString()),"number"===typeof t.content&&(t.content=t.content.toString()),b(D,t,this.constructor.DefaultType),t.sanitize&&(t.template=I(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map((t=>t.trim())).forEach((e=>t.classList.remove(e)))}_getBasicClassPrefix(){return B}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=et.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}return T(et),et}))},5477:function(t,e,n){"use strict";var r=n(8692),i=n(1542),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"===typeof n&&o(t,".prototype.")>-1?i(n):n}},1542:function(t,e,n){"use strict";var r=n(9148),i=n(8692),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),l=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(h){u=null}t.exports=function(t){var e=s(r,a,arguments);if(l&&u){var n=l(e,"length");n.configurable&&u(e,"length",{value:1+c(0,t.length-(arguments.length-1))})}return e};var d=function(){return s(r,o,arguments)};u?u(t.exports,"apply",{value:d}):t.exports.apply=d},5941:function(t,e,n){n(1703);var r=n(9242),i=n(5130);function o(){return(new Date).getTime()}var a,s=Array.prototype.slice,l={};a="undefined"!==typeof n.g&&n.g.console?n.g.console:"undefined"!==typeof window&&window.console?window.console:{};for(var u=[[p,"log"],[m,"info"],[g,"warn"],[v,"error"],[y,"time"],[b,"timeEnd"],[_,"trace"],[w,"dir"],[x,"assert"]],c=0;c<u.length;c++){var d=u[c],h=d[0],f=d[1];a[f]||(a[f]=h)}function p(){}function m(){a.log.apply(a,arguments)}function g(){a.log.apply(a,arguments)}function v(){a.warn.apply(a,arguments)}function y(t){l[t]=o()}function b(t){var e=l[t];if(!e)throw new Error("No such label: "+t);delete l[t];var n=o()-e;a.log(t+": "+n+"ms")}function _(){var t=new Error;t.name="Trace",t.message=r.format.apply(null,arguments),a.error(t.stack)}function w(t){a.log(r.inspect(t)+"\n")}function x(t){if(!t){var e=s.call(arguments,1);i.ok(!1,r.format.apply(null,e))}}t.exports=a},7823:function(t){function e(t,e,n){var r,i,o,a,s;function l(){var u=Date.now()-a;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(s=t.apply(o,i),o=i=null))}null==e&&(e=100);var u=function(){o=this,i=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(s=t.apply(o,i),o=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}e.debounce=e,t.exports=e},9980:function(t,e,n){"use strict";var r=n(2034),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=function(t){return"function"===typeof t&&"[object Function]"===o.call(t)},u=n(6049)(),c=s&&u,d=function(t,e,n,r){(!(e in t)||l(r)&&r())&&(c?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},h=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=a.call(o,Object.getOwnPropertySymbols(e)));for(var s=0;s<o.length;s+=1)d(t,o[s],e[o[s]],n[o[s]])};h.supportsDescriptors=!!c,t.exports=h},336:function(t,e,n){"use strict";function r(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var l=o[a],u=Object.getOwnPropertyDescriptor(i,l);void 0!==u&&u.enumerable&&(n[l]=i[l])}}return n}function i(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}n(1703),t.exports={assign:r,polyfill:i}},2979:function(t,e,n){"use strict";n(1703);var r=n(5037),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function(t,e,n){for(var r=0,i=t.length;r<i;r++)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))},s=function(t,e,n){for(var r=0,i=t.length;r<i;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)},l=function(t,e,n){for(var r in t)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))},u=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===i.call(t)?a(t,e,o):"string"===typeof t?s(t,e,o):l(t,e,o)};t.exports=u},5847:function(t,e,n){"use strict";n(1703);var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";t.exports=function(t){var e=this;if("function"!==typeof e||o.call(e)!==a)throw new TypeError(r+e);for(var n,s=i.call(arguments,1),l=function(){if(this instanceof n){var r=e.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,s.concat(i.call(arguments)))},u=Math.max(0,e.length-s.length),c=[],d=0;d<u;d++)c.push("$"+d);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),e.prototype){var h=function(){};h.prototype=e.prototype,n.prototype=new h,h.prototype=null}return n}},9148:function(t,e,n){"use strict";var r=n(5847);t.exports=Function.prototype.bind||r},8692:function(t,e,n){"use strict";var r;n(1703),n(8675),n(3462),n(2120);var i=SyntaxError,o=Function,a=TypeError,s=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(O){l=null}var u=function(){throw new a},c=l?function(){try{return u}catch(t){try{return l(arguments,"callee").get}catch(e){return u}}}():u,d=n(2763)(),h=Object.getPrototypeOf||function(t){return t.__proto__},f={},p="undefined"===typeof Uint8Array?r:h(Uint8Array),m={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},g=function t(e){var n;if("%AsyncFunction%"===e)n=s("async function () {}");else if("%GeneratorFunction%"===e)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=s("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=h(i.prototype))}return m[e]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(9148),b=n(5769),_=y.call(Function.call,Array.prototype.concat),w=y.call(Function.apply,Array.prototype.splice),x=y.call(Function.call,String.prototype.replace),S=y.call(Function.call,String.prototype.slice),M=y.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,A=function(t){var e=S(t,0,1),n=S(t,-1);if("%"===e&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return x(t,E,(function(t,e,n,i){r[r.length]=n?x(i,T,"$1"):e||t})),r},C=function(t,e){var n,r=t;if(b(v,r)&&(n=v[r],r="%"+n[0]+"%"),b(m,r)){var o=m[r];if(o===f&&(o=g(r)),"undefined"===typeof o&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===M(/^%?[^%]*%?$/g,t))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=A(t),r=n.length>0?n[0]:"",o=C("%"+r+"%",e),s=o.name,u=o.value,c=!1,d=o.alias;d&&(r=d[0],w(n,_([0,1],d)));for(var h=1,f=!0;h<n.length;h+=1){var p=n[h],g=S(p,0,1),v=S(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(c=!0),r+="."+p,s="%"+r+"%",b(m,s))u=m[s];else if(null!=u){if(!(p in u)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(u,p);f=!!y,u=f&&"get"in y&&!("originalValue"in y.get)?y.get:u[p]}else f=b(u,p),u=u[p];f&&!c&&(m[s]=u)}}return u}},6049:function(t,e,n){"use strict";var r=n(8692),i=r("%Object.defineProperty%",!0),o=function(){if(i)try{return i({},"a",{value:1}),!0}catch(t){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==i([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},2763:function(t,e,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(3994);t.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},3994:function(t){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(e in t[e]=r,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==r||!0!==o.enumerable)return!1}return!0}},2582:function(t,e,n){"use strict";var r=n(3994);t.exports=function(){return r()&&!!Symbol.toStringTag}},5769:function(t,e,n){"use strict";var r=n(9148);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},1923:function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},2773:function(t,e,n){"use strict";var r=n(2582)(),i=n(5477),o=i("Object.prototype.toString"),a=function(t){return!(r&&t&&"object"===typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},s=function(t){return!!a(t)||null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},l=function(){return a(arguments)}();a.isLegacyArguments=s,t.exports=l?a:s},5037:function(t){"use strict";var e,n,r=Function.prototype.toString,i="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof i&&"function"===typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,e)}catch(f){f!==n&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(t){try{var e=r.call(t);return o.test(e)}catch(n){return!1}},s=function(t){try{return!a(t)&&(r.call(t),!0)}catch(e){return!1}},l=Object.prototype.toString,u="[object Function]",c="[object GeneratorFunction]",d="function"===typeof Symbol&&!!Symbol.toStringTag,h="object"===typeof document&&"undefined"===typeof document.all&&void 0!==document.all?document.all:{};t.exports=i?function(t){if(t===h)return!0;if(!t)return!1;if("function"!==typeof t&&"object"!==typeof t)return!1;if("function"===typeof t&&!t.prototype)return!0;try{i(t,null,e)}catch(r){if(r!==n)return!1}return!a(t)}:function(t){if(t===h)return!0;if(!t)return!1;if("function"!==typeof t&&"object"!==typeof t)return!1;if("function"===typeof t&&!t.prototype)return!0;if(d)return s(t);if(a(t))return!1;var e=l.call(t);return e===u||e===c}},4784:function(t,e,n){"use strict";var r,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=n(2582)(),l=Object.getPrototypeOf,u=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(t){}};t.exports=function(t){if("function"!==typeof t)return!1;if(a.test(o.call(t)))return!0;if(!s){var e=i.call(t);return"[object GeneratorFunction]"===e}if(!l)return!1;if("undefined"===typeof r){var n=u();r=!!n&&l(n)}return l(t)===r}},301:function(t){"use strict";t.exports=function(t){return t!==t}},1185:function(t,e,n){"use strict";var r=n(1542),i=n(9980),o=n(301),a=n(8040),s=n(6431),l=r(a(),Number);i(l,{getPolyfill:a,implementation:o,shim:s}),t.exports=l},8040:function(t,e,n){"use strict";var r=n(301);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},6431:function(t,e,n){"use strict";var r=n(9980),i=n(8040);t.exports=function(){var t=i();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},8300:function(t,e,n){"use strict";var r=n(2979),i=n(4647),o=n(5477),a=o("Object.prototype.toString"),s=n(2582)(),l="undefined"===typeof globalThis?n.g:globalThis,u=i(),c=o("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},d=o("String.prototype.slice"),h={},f=n(2762),p=Object.getPrototypeOf;s&&f&&p&&r(u,(function(t){var e=new l[t];if(Symbol.toStringTag in e){var n=p(e),r=f(n,Symbol.toStringTag);if(!r){var i=p(n);r=f(i,Symbol.toStringTag)}h[t]=r.get}}));var m=function(t){var e=!1;return r(h,(function(n,r){if(!e)try{e=n.call(t)===r}catch(i){}})),e};t.exports=function(t){if(!t||"object"!==typeof t)return!1;if(!s||!(Symbol.toStringTag in t)){var e=d(a(t),8,-1);return c(u,e)>-1}return!!f&&m(t)}},1610:function(t,e,n){function r(t){var e=Object.create(null);return{on:function(n,r,i){if("function"!==typeof r)throw new Error("callback is expected to be a function");var o=e[n];return o||(o=e[n]=[]),o.push({callback:r,ctx:i}),t},off:function(n,r){var i="undefined"===typeof n;if(i)return e=Object.create(null),t;if(e[n]){var o="function"!==typeof r;if(o)delete e[n];else for(var a=e[n],s=0;s<a.length;++s)a[s].callback===r&&a.splice(s,1)}return t},fire:function(n){var r,i=e[n];if(!i)return t;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var a=i[o];a.callback.apply(a.ctx,r)}return t}}}function i(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],n=0;n<e.length;++n)if(t.hasOwnProperty(e[n]))throw new Error("Subject cannot be eventified, since it already has property '"+e[n]+"'")}n(1703),t.exports=function(t){i(t);var e=r(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t}},4854:function(t,e,n){n(1703),t.exports=i,t.exports.simulator=n(6599);var r=n(1610);function i(t,e){if(!t)throw new Error("Graph structure cannot be undefined");var i=e&&e.createSimulator||n(6599),a=i(e);if(Array.isArray(e))throw new Error("Physics settings is expected to be an object");var s=t.version>19?L:P;e&&"function"===typeof e.nodeMass&&(s=e.nodeMass);var l=new Map,u={},c=0,d=a.settings.springTransform||o;x(),b();var h=!1,f={step:function(){if(0===c)return p(!0),!0;var t=a.step();f.lastMove=t,f.fire("step");var e=t/c,n=e<=.01;return p(n),n},getNodePosition:function(t){return k(t).pos},setNodePosition:function(t){var e=k(t);e.setPosition.apply(e,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(t){var e=u[t];if(e)return{from:e.from.pos,to:e.to.pos}},getGraphRect:function(){return a.getBBox()},forEachBody:m,pinNode:function(t,e){var n=k(t.id);n.isPinned=!!e},isNodePinned:function(t){return k(t.id).isPinned},dispose:function(){t.off("changed",w),f.fire("disposed")},getBody:y,getSpring:v,getForceVectorLength:g,simulator:a,graph:t,lastMove:0};return r(f),f;function p(t){h!==t&&(h=t,_(t))}function m(t){l.forEach(t)}function g(){var t=0,e=0;return m((function(n){t+=Math.abs(n.force.x),e+=Math.abs(n.force.y)})),Math.sqrt(t*t+e*e)}function v(e,n){var r;if(void 0===n)r="object"!==typeof e?e:e.id;else{var i=t.hasLink(e,n);if(!i)return;r=i.id}return u[r]}function y(t){return l.get(t)}function b(){t.on("changed",w)}function _(t){f.fire("stable",t)}function w(e){for(var n=0;n<e.length;++n){var r=e[n];"add"===r.changeType?(r.node&&S(r.node.id),r.link&&E(r.link)):"remove"===r.changeType&&(r.node&&M(r.node),r.link&&T(r.link))}c=t.getNodesCount()}function x(){c=0,t.forEachNode((function(t){S(t.id),c+=1})),t.forEachLink(E)}function S(e){var n=l.get(e);if(!n){var r=t.getNode(e);if(!r)throw new Error("initBody() was called with unknown node id");var i=r.position;if(!i){var o=A(r);i=a.getBestNewBodyPosition(o)}n=a.addBodyAt(i),n.id=e,l.set(e,n),C(e),O(r)&&(n.isPinned=!0)}}function M(t){var e=t.id,n=l.get(e);n&&(l.delete(e),a.removeBody(n))}function E(t){C(t.fromId),C(t.toId);var e=l.get(t.fromId),n=l.get(t.toId),r=a.addSpring(e,n,t.length);d(t,r),u[t.id]=r}function T(e){var n=u[e.id];if(n){var r=t.getNode(e.fromId),i=t.getNode(e.toId);r&&C(r.id),i&&C(i.id),delete u[e.id],a.removeSpring(n)}}function A(t){var e=[];if(!t.links)return e;for(var n=Math.min(t.links.length,2),r=0;r<n;++r){var i=t.links[r],o=i.fromId!==t.id?l.get(i.fromId):l.get(i.toId);o&&o.pos&&e.push(o)}return e}function C(t){var e=l.get(t);if(e.mass=s(t),Number.isNaN(e.mass))throw new Error("Node mass should be a number")}function O(t){return t&&(t.isPinned||t.data&&t.data.isPinned)}function k(t){var e=l.get(t);return e||(S(t),e=l.get(t)),e}function P(e){var n=t.getLinks(e);return n?1+n.length/3:1}function L(e){var n=t.getLinks(e);return n?1+n.size/3:1}}function o(){}},4760:function(t,e,n){const r=n(5155);t.exports=function(t){return e;function e(e,n){let i=n&&n.indent||0,o=n&&void 0!==n.join?n.join:"\n",a=Array(i+1).join(" "),s=[];for(let l=0;l<t;++l){let t=r(l),n=0===l?"":a;s.push(n+e.replace(/{var}/g,t))}return s.join(o)}}},2354:function(t,e,n){t.exports=i,t.exports.generateFunctionBody=o;const r=n(4760);function i(t){let e=o(t);return new Function("bodies","settings","random",e)}function o(t){let e=r(t),n=`\n  var boundingBox = {\n    ${e("min_{var}: 0, max_{var}: 0,",{indent:4})}\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ${e("base_{var} = 0",{join:", "})};\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ${e("base_{var} += neighborPos.{var};",{indent:10})}\n        }\n\n        ${e("base_{var} /= neighbors.length;",{indent:8})}\n      } else {\n        ${e("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ${e("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ${e("var max_{var} = -Infinity;",{indent:4})}\n    ${e("var min_{var} = Infinity;",{indent:4})}\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ${e("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}\n      ${e("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}\n    }\n\n    ${e("boundingBox.min_{var} = min_{var};",{indent:4})}\n    ${e("boundingBox.max_{var} = max_{var};",{indent:4})}\n  }\n\n  function resetBoundingBox() {\n    ${e("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}\n  }\n`;return n}},3791:function(t,e,n){const r=n(4760);function i(t,e){let n=o(t,e),{Body:r}=new Function(n)();return r}function o(t,e){let n=`\n${s(t,e)}\n${a(t,e)}\nreturn {Body: Body, Vector: Vector};\n`;return n}function a(t){let e=r(t),n=e("{var}",{join:", "});return`\nfunction Body(${n}) {\n  this.isPinned = false;\n  this.pos = new Vector(${n});\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (${n}) {\n  ${e("this.pos.{var} = {var} || 0;",{indent:2})}\n};`}function s(t,e){let n=r(t),i="";e&&(i=`${n("\n   var v{var};\nObject.defineProperty(this, '{var}', {\n  set: function(v) { \n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\n    v{var} = v; \n  },\n  get: function() { return v{var}; }\n});")}`);let o=n("{var}",{join:", "});return`function Vector(${o}) {\n  ${i}\n    if (typeof arguments[0] === 'object') {\n      // could be another vector\n      let v = arguments[0];\n      ${n('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}\n      ${n("this.{var} = v.{var};",{indent:4})}\n    } else {\n      ${n('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}\n    }\n  }\n  \n  Vector.prototype.reset = function () {\n    ${n("this.{var} = ",{join:""})}0;\n  };`}t.exports=i,t.exports.generateCreateBodyFunctionBody=o,t.exports.getVectorCode=s,t.exports.getBodyCode=a},905:function(t,e,n){const r=n(4760);function i(t){let e=o(t);return new Function("options",e)}function o(t){let e=r(t),n=`\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ${e("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}\n    }\n  };\n`;return n}t.exports=i,t.exports.generateCreateDragForceFunctionBody=o},1709:function(t,e,n){const r=n(4760);function i(t){let e=o(t);return new Function("options","random",e)}function o(t){let e=r(t),n=`\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ${e("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}\n      var r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n\n      if (r === 0) {\n        ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}\n        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ${e("body1.force.{var} += coefficient * d{var}",{indent:6})};\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ${e("body2.force.{var} -= coefficient * d{var}",{indent:6})};\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n`;return n}t.exports=i,t.exports.generateCreateSpringForceFunctionBody=o},5670:function(t,e,n){const r=n(4760);function i(t){let e=o(t);return new Function("bodies","timeStep","adaptiveTimeStepWeight",e)}function o(t){let e=r(t),n=`\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ${e("var d{var} = 0, t{var} = 0;",{indent:2})}\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ${e("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}\n    ${e("var v{var} = body.velocity.{var};",{indent:4})}\n    var v = Math.sqrt(${e("v{var} * v{var}",{join:" + "})});\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ${e("body.velocity.{var} = v{var} / v;",{indent:6})}\n    }\n\n    ${e("d{var} = timeStep * body.velocity.{var};",{indent:4})}\n\n    ${e("body.pos.{var} += d{var};",{indent:4})}\n\n    ${e("t{var} += Math.abs(d{var});",{indent:4})}\n  }\n\n  return (${e("t{var} * t{var}",{join:" + "})})/length;\n`;return n}t.exports=i,t.exports.generateIntegratorFunctionBody=o},7099:function(t,e,n){const r=n(4760),i=n(5155);function o(t){let e=a(t);return new Function(e)()}function a(t){let e=r(t),n=Math.pow(2,t),o=`\n${d()}\n${c(t)}\n${s(t)}\n${u(t)}\n${l(t)}\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n${f("      node.")}\n      node.body = null;\n      node.mass = ${e("node.mass_{var} = ",{join:""})}0;\n      ${e("node.min_{var} = node.max_{var} = ",{join:""})}0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ${e("var d{var};",{indent:4})}\n    var r; \n    ${e("var f{var} = 0;",{indent:4})}\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ${e("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ${e("f{var} += v * d{var};",{indent:8})}\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ${e("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n        }\n        // If s / r < θ, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_${i(0)} - node.min_${i(0)}) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ${e("f{var} += v * d{var};",{indent:10})}\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n${h()}\n        }\n      }\n    }\n\n    ${e("sourceBody.force.{var} += f{var};",{indent:4})}\n  }\n\n  function insertBodies(bodies) {\n    ${e("var {var}min = Number.MAX_VALUE;",{indent:4})}\n    ${e("var {var}max = Number.MIN_VALUE;",{indent:4})}\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ${e("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}\n      ${e("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ${e("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}\n\n    currentInCache = 0;\n    root = newNode();\n    ${e("root.min_{var} = {var}min;",{indent:4})}\n    ${e("root.max_{var} = {var}min + maxSideLength;",{indent:4})}\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ${e("var {var} = body.pos.{var};",{indent:8})}\n        node.mass += body.mass;\n        ${e("node.mass_{var} += body.mass * {var};",{indent:8})}\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ${e("var min_{var} = node.min_{var};",{indent:8})}\n        ${e("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}\n\n${a(8)}\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ${e("child.min_{var} = min_{var};",{indent:10})}\n          ${e("child.max_{var} = max_{var};",{indent:10})}\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ${e("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}\n\n            ${e("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\nreturn createQuadTree;\n\n`;return o;function a(e){let n=[],r=Array(e+1).join(" ");for(let o=0;o<t;++o)n.push(r+`if (${i(o)} > max_${i(o)}) {`),n.push(r+`  quadIdx = quadIdx + ${Math.pow(2,o)};`),n.push(r+`  min_${i(o)} = max_${i(o)};`),n.push(r+`  max_${i(o)} = node.max_${i(o)};`),n.push(r+"}");return n.join("\n")}function h(){let t=Array(11).join(" "),e=[];for(let r=0;r<n;++r)e.push(t+`if (node.quad${r}) {`),e.push(t+`  queue[pushIdx] = node.quad${r};`),e.push(t+"  queueLength += 1;"),e.push(t+"  pushIdx += 1;"),e.push(t+"}");return e.join("\n")}function f(t){let e=[];for(let r=0;r<n;++r)e.push(`${t}quad${r} = null;`);return e.join("\n")}}function s(t){let e=r(t);return`\n  function isSamePosition(point1, point2) {\n    ${e("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}\n  \n    return ${e("d{var} < 1e-8",{join:" && "})};\n  }  \n`}function l(t){var e=Math.pow(2,t);return`\nfunction setChild(node, idx, child) {\n  ${n()}\n}`;function n(){let t=[];for(let n=0;n<e;++n){let e=0===n?"  ":"  else ";t.push(`${e}if (idx === ${n}) node.quad${n} = child;`)}return t.join("\n")}}function u(t){return`function getChild(node, idx) {\n${e()}\n  return null;\n}`;function e(){let e=[],n=Math.pow(2,t);for(let t=0;t<n;++t)e.push(`  if (idx === ${t}) return node.quad${t};`);return e.join("\n")}}function c(t){let e=r(t),n=Math.pow(2,t);var i=`\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n${o("  this.")}\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ${e("this.mass_{var} = 0;",{indent:2})}\n\n  // bounding box coordinates\n  ${e("this.min_{var} = 0;",{indent:2})}\n  ${e("this.max_{var} = 0;",{indent:2})}\n}\n`;return i;function o(t){let e=[];for(let r=0;r<n;++r)e.push(`${t}quad${r} = null;`);return e.join("\n")}}function d(){return"\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n"}t.exports=o,t.exports.generateQuadTreeFunctionBody=a,t.exports.getInsertStackCode=d,t.exports.getQuadNodeCode=c,t.exports.isSamePosition=s,t.exports.getChildBodyCode=u,t.exports.setChildBodyCode=l},5155:function(t){t.exports=function(t){return 0===t?"x":1===t?"y":2===t?"z":"c"+(t+1)}},6599:function(t,e,n){var r=n(5941);n(1703),t.exports=d;var i=n(3791),o=n(7099),a=n(2354),s=n(905),l=n(1709),u=n(5670),c={};function d(t){var e=n(3366),d=n(3232),f=n(1610);if(t){if(void 0!==t.springCoeff)throw new Error("springCoeff was renamed to springCoefficient");if(void 0!==t.dragCoeff)throw new Error("dragCoeff was renamed to dragCoefficient")}t=d(t,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var p=c[t.dimensions];if(!p){var m=t.dimensions;p={Body:i(m,t.debug),createQuadTree:o(m),createBounds:a(m),createDragForce:s(m),createSpringForce:l(m),integrate:u(m)},c[m]=p}var g=p.Body,v=p.createQuadTree,y=p.createBounds,b=p.createDragForce,_=p.createSpringForce,w=p.integrate,x=t=>new g(t),S=n(1857).random(42),M=[],E=[],T=v(t,S),A=y(M,t,S),C=_(t,S),O=b(t),k=0,P=[],L=new Map,I=0;N("nbody",j),N("spring",z);var D={bodies:M,quadTree:T,springs:E,settings:t,addForce:N,removeForce:B,getForces:F,step:function(){for(var e=0;e<P.length;++e)P[e](I);var n=w(M,t.timeStep,t.adaptiveTimeStepWeight);return I+=1,n},addBody:function(t){if(!t)throw new Error("Body is required");return M.push(t),t},addBodyAt:function(t){if(!t)throw new Error("Body position is required");var e=x(t);return M.push(e),e},removeBody:function(t){if(t){var e=M.indexOf(t);if(!(e<0))return M.splice(e,1),0===M.length&&A.reset(),!0}},addSpring:function(t,n,r,i){if(!t||!n)throw new Error("Cannot add null spring to force simulator");"number"!==typeof r&&(r=-1);var o=new e(t,n,r,i>=0?i:-1);return E.push(o),o},getTotalMovement:function(){return k},removeSpring:function(t){if(t){var e=E.indexOf(t);return e>-1?(E.splice(e,1),!0):void 0}},getBestNewBodyPosition:function(t){return A.getBestNewPosition(t)},getBBox:R,getBoundingBox:R,invalidateBBox:function(){r.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(e){return void 0!==e?(t.gravity=e,T.options({gravity:e}),this):t.gravity},theta:function(e){return void 0!==e?(t.theta=e,T.options({theta:e}),this):t.theta},random:S};return h(t,D),f(D),D;function R(){return A.update(),A.box}function N(t,e){if(L.has(t))throw new Error("Force "+t+" is already added");L.set(t,e),P.push(e)}function B(t){var e=P.indexOf(L.get(t));e<0||(P.splice(e,1),L.delete(t))}function F(){return L}function j(){if(0!==M.length){T.insertBodies(M);var t=M.length;while(t--){var e=M[t];e.isPinned||(e.reset(),T.updateBodyForce(e),O.update(e))}}}function z(){var t=E.length;while(t--)C.update(E[t])}}function h(t,e){for(var n in t)f(t,e,n)}function f(t,e,n){if(t.hasOwnProperty(n)&&"function"!==typeof e[n]){var r=Number.isFinite(t[n]);e[n]=r?function(r){if(void 0!==r){if(!Number.isFinite(r))throw new Error("Value of "+n+" should be a valid number.");return t[n]=r,e}return t[n]}:function(r){return void 0!==r?(t[n]=r,e):t[n]}}}},3366:function(t){function e(t,e,n,r){this.from=t,this.to=e,this.length=n,this.coefficient=r}t.exports=e},4747:function(t,e,n){var r=n(5941);n(1703),t.exports=o;var i=n(1610);function o(t){if(t=t||{},"uniqueLinkId"in t&&(r.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),t.multigraph=t.uniqueLinkId),void 0===t.multigraph&&(t.multigraph=!1),"function"!==typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,n=new Map,o={},c=0,d=t.multigraph?T:E,h=[],f=F,p=F,m=F,g=F,v={version:20,addNode:w,addLink:M,removeLink:k,removeNode:S,getNode:x,getNodeCount:A,getLinkCount:C,getEdgeCount:C,getLinksCount:C,getNodesCount:A,getLinks:O,forEachNode:V,forEachLinkedNode:R,forEachLink:D,beginUpdate:m,endUpdate:g,clear:I,hasLink:L,hasNode:x,getLink:L};return i(v),y(),v;function y(){var t=v.on;function e(){return v.beginUpdate=m=j,v.endUpdate=g=z,f=b,p=_,v.on=t,t.apply(v,arguments)}v.on=e}function b(t,e){h.push({link:t,changeType:e})}function _(t,e){h.push({node:t,changeType:e})}function w(t,n){if(void 0===t)throw new Error("Invalid node identifier");m();var r=x(t);return r?(r.data=n,p(r,"update")):(r=new a(t,n),p(r,"add")),e.set(t,r),g(),r}function x(t){return e.get(t)}function S(t){var n=x(t);if(!n)return!1;m();var r=n.links;return r&&(r.forEach(P),n.links=null),e.delete(t),p(n,"remove"),g(),!0}function M(t,e,r){m();var i=x(t)||w(t),o=x(e)||w(e),a=d(t,e,r),l=n.has(a.id);return n.set(a.id,a),s(i,a),t!==e&&s(o,a),f(a,l?"update":"add"),g(),a}function E(t,e,r){var i=u(t,e),o=n.get(i);return o?(o.data=r,o):new l(t,e,r,i)}function T(t,e,n){var r=u(t,e),i=o.hasOwnProperty(r);if(i||L(t,e)){i||(o[r]=0);var a="@"+ ++o[r];r=u(t+a,e+a)}return new l(t,e,n,r)}function A(){return e.size}function C(){return n.size}function O(t){var e=x(t);return e?e.links:null}function k(t,e){return void 0!==e&&(t=L(t,e)),P(t)}function P(t){if(!t)return!1;if(!n.get(t.id))return!1;m(),n.delete(t.id);var e=x(t.fromId),r=x(t.toId);return e&&e.links.delete(t),r&&r.links.delete(t),f(t,"remove"),g(),!0}function L(t,e){if(void 0!==t&&void 0!==e)return n.get(u(t,e))}function I(){m(),V((function(t){S(t.id)})),g()}function D(t){if("function"===typeof t){var e=n.values(),r=e.next();while(!r.done){if(t(r.value))return!0;r=e.next()}}}function R(t,e,n){var r=x(t);if(r&&r.links&&"function"===typeof e)return n?B(r.links,t,e):N(r.links,t,e)}function N(t,n,r){var i,o=t.values(),a=o.next();while(!a.done){var s=a.value,l=s.fromId===n?s.toId:s.fromId;if(i=r(e.get(l),s),i)return!0;a=o.next()}}function B(t,n,r){var i,o=t.values(),a=o.next();while(!a.done){var s=a.value;if(s.fromId===n&&(i=r(e.get(s.toId),s),i))return!0;a=o.next()}}function F(){}function j(){c+=1}function z(){c-=1,0===c&&h.length>0&&(v.fire("changed",h),h.length=0)}function V(t){if("function"!==typeof t)throw new Error("Function is expected to iterate over graph nodes. You passed "+t);var n=e.values(),r=n.next();while(!r.done){if(t(r.value))return!0;r=n.next()}}}function a(t,e){this.id=t,this.links=null,this.data=e}function s(t,e){t.links?t.links.add(e):t.links=new Set([e])}function l(t,e,n,r){this.fromId=t,this.toId=e,this.data=n,this.id=r}function u(t,e){return t.toString()+"👉 "+e.toString()}},3232:function(t){function e(t,n){var r;if(t||(t={}),n)for(r in n)if(n.hasOwnProperty(r)){var i=t.hasOwnProperty(r),o=typeof n[r],a=!i||typeof t[r]!==o;a?t[r]=n[r]:"object"===o&&(t[r]=e(t[r],n[r]))}return t}t.exports=e},1857:function(t,e,n){function r(t){var e="number"===typeof t?t:+new Date;return new i(e)}function i(t){this.seed=t}function o(){var t,e,n;do{e=2*this.nextDouble()-1,n=2*this.nextDouble()-1,t=e*e+n*n}while(t>=1||0===t);return e*Math.sqrt(-2*Math.log(t)/t)}function a(){var t=1.5,e=Math.pow(s(1+t)*Math.sin(Math.PI*t/2)/(s((1+t)/2)*t*Math.pow(2,(t-1)/2)),1/t);return this.gaussian()*e/Math.pow(Math.abs(this.gaussian()),1/t)}function s(t){return Math.sqrt(2*Math.PI/t)*Math.pow(1/Math.E*(t+1/(12*t-1/(10*t))),t)}function l(){var t=this.seed;return t=t+2127912214+(t<<12)&4294967295,t=4294967295&(3345072700^t^t>>>19),t=t+374761393+(t<<5)&4294967295,t=4294967295&(t+3550635116^t<<9),t=t+4251993797+(t<<3)&4294967295,t=4294967295&(3042594569^t^t>>>16),this.seed=t,(268435455&t)/268435456}function u(t){return Math.floor(this.nextDouble()*t)}function c(t,e){var n=e||r();if("function"!==typeof n.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:o,shuffle:i};function i(){var e,r,i;for(e=t.length-1;e>0;--e)r=n.next(e+1),i=t[r],t[r]=t[e],t[e]=i;return t}function o(e){var r,i,o;for(r=t.length-1;r>0;--r)i=n.next(r+1),o=t[i],t[i]=t[r],t[r]=o,e(o);t.length&&e(t[0])}}n(1703),t.exports=r,t.exports.random=r,t.exports.randomIterator=c,i.prototype.next=u,i.prototype.nextDouble=l,i.prototype.uniform=l,i.prototype.gaussian=o,i.prototype.levy=a},7489:function(t){"use strict";var e=function(t){return t!==t};t.exports=function(t,n){return 0===t&&0===n?1/t===1/n:t===n||!(!e(t)||!e(n))}},7004:function(t,e,n){"use strict";var r=n(9980),i=n(1542),o=n(7489),a=n(3344),s=n(5212),l=i(a(),Object);r(l,{getPolyfill:a,implementation:o,shim:s}),t.exports=l},3344:function(t,e,n){"use strict";var r=n(7489);t.exports=function(){return"function"===typeof Object.is?Object.is:r}},5212:function(t,e,n){"use strict";var r=n(3344),i=n(9980);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},5564:function(t,e,n){"use strict";var r;if(n(1703),!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(9833),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{d(window[t])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(t){if("undefined"===typeof window||!f)return d(t);try{return d(t)}catch(e){return!1}};r=function(t){var e=null!==t&&"object"===typeof t,n="[object Function]"===o.call(t),r=a(t),s=e&&"[object String]"===o.call(t),d=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=u&&n;if(s&&t.length>0&&!i.call(t,0))for(var f=0;f<t.length;++f)d.push(String(f));if(r&&t.length>0)for(var m=0;m<t.length;++m)d.push(String(m));else for(var g in t)h&&"prototype"===g||!i.call(t,g)||d.push(String(g));if(l)for(var v=p(t),y=0;y<c.length;++y)v&&"constructor"===c[y]||!i.call(t,c[y])||d.push(c[y]);return d}}t.exports=r},2034:function(t,e,n){"use strict";var r=Array.prototype.slice,i=n(9833),o=Object.keys,a=o?function(t){return o(t)}:n(5564),s=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?s(r.call(t)):s(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},9833:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},6027:function(t,e,n){n(1703);var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function u(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(t){r=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(t){i=s}})();var c,d=[],h=!1,f=-1;function p(){h&&c&&(h=!1,c.length?d=c.concat(d):f=-1,d.length&&m())}function m(){if(!h){var t=l(p);h=!0;var e=d.length;while(e){c=d,d=[];while(++f<e)c&&c[f].run();f=-1,e=d.length}c=null,h=!1,u(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new g(t,e)),1!==d.length||h||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},5431:function(t,e,n){"use strict";n.d(e,{z:function(){return o}});n(1703);var r,i=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function o(t,e){void 0===e&&(e={});var n=e.registrationOptions;void 0===n&&(n={}),delete e.registrationOptions;var o=function(t){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];e&&e[t]&&e[t].apply(e,n)};"serviceWorker"in navigator&&r.then((function(){i()?(l(t,o,n),navigator.serviceWorker.ready.then((function(t){o("ready",t)})).catch((function(t){return a(o,t)}))):(s(t,o,n),navigator.serviceWorker.ready.then((function(t){o("ready",t)})).catch((function(t){return a(o,t)})))}))}function a(t,e){navigator.onLine||t("offline"),t("error",e)}function s(t,e,n){navigator.serviceWorker.register(t,n).then((function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}})).catch((function(t){return a(e,t)}))}function l(t,e,n){fetch(t).then((function(r){404===r.status?(e("error",new Error("Service worker not found at "+t)),u()):-1===r.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+r.headers.get("content-type"))),u()):s(t,e,n)})).catch((function(t){return a(e,t)}))}function u(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){return a(emit,t)}))}"undefined"!==typeof window&&(r="undefined"!==typeof Promise?new Promise((function(t){return window.addEventListener("load",t)})):{then:function(t){return window.addEventListener("load",t)}})},6951:function(t,e,n){var r=n(5941);n(1703),n(6699),n(2801),function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i,o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.name=n.name,Object.setPrototypeOf(r,n.prototype),r}return o(e,t),e}(Error),s=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},l=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=new(function(){function t(){this._bootedModels={}}return t.prototype.useEngine=function(t){this._engine=t},t.prototype.model=function(t){return this._bootedModels[t]},t.prototype.loadModel=function(t,e){t in e||(e.boot(t),this._bootedModels[t]=e)},t.prototype.loadModels=function(t){for(var e in t)t.hasOwnProperty(e)&&this.loadModel(e,t[e])},t.prototype.requireEngine=function(){if(!this._engine)throw new a("Engine must be initialized before performing any operations. Learn more at https://soukai.js.org/guide/engines.html");return this._engine},t.prototype.closeConnections=function(){return s(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return this._engine&&"closeConnections"in this._engine?[4,this._engine.closeConnections()]:[2];case 1:return t.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}()),c=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e,n){var r=t.call(this,"Model "+e+": "+n+". Learn more at https://soukai.js.org/guide/defining-models.html")||this;return r.modelName=e,r}return c(e,t),e}(a),h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function f(t){for(var e in t=h({},t))t.hasOwnProperty(e)&&null!==t[e]&&"object"==typeof t[e]&&t[e].constructor===Object&&(t[e]=f(t[e]));return t}function p(t,e){if(t===e)return!0;var n=typeof t;if(n!==typeof e)return!1;if("object"!==n||null===t||null===e)return!1;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!p(t[r],e[r]))return!1;return!0}function m(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}var g={deepClone:f,deepEquals:p,isObject:m},v=new(function(){function t(){}return t.prototype.contains=function(t,e){return-1!==t.indexOf(e)},t.prototype.flatten=function(t){return"flat"in t?t.flat():[].concat.apply([],t)},t.prototype.unique=function(t){var e=new Set(t),n=[];return e.forEach((function(t){return n.push(t)})),n},t.prototype.withoutIndexes=function(t,e){var n=this;return t.map((function(t,e){return[t,e]})).filter((function(t){t[0];var r=t[1];return!n.contains(e,r)})).map((function(t){return t[0]}))},t}());function y(t){return t.split(/_|\s/).map((function(t){return t.length>0?t.substr(0,1).toUpperCase()+t.substr(1):t})).join("")}function b(t){return t.split(/_|\s|(?=[A-Z])/).map((function(t,e){return 0===t.length?t:0===e?t.toLowerCase():t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()})).join("")}var _,w=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},x=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},S=function(){function t(t,e,n,r){this.related=null,this.deleteStrategy=null,this.parent=t,this.relatedClass=e,this.foreignKeyName=n,this.localKeyName=r||e.primaryKey}return Object.defineProperty(t.prototype,"loaded",{get:function(){return null!==this.related},enumerable:!0,configurable:!0}),t.prototype.getModels=function(){return w(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.loaded?[3,2]:[4,this.resolve()];case 1:t.sent(),t.label=2;case 2:return[2,this.getLoadedModels()]}}))}))},t.prototype.getLoadedModels=function(){return Array.isArray(this.related)?this.related:this.related?[this.related]:[]},t.prototype.unload=function(){this.related=null},t.prototype.onDelete=function(t){return this.deleteStrategy=t,this},t}(),M=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function e(e,n,r,i){return t.call(this,e,n,r||b(n.name+"_"+n.primaryKey+"s"),i)||this}return M(e,t),e}(S),T=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},C=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.resolve=function(){return A(this,void 0,void 0,(function(){var t,e,n,r;return C(this,(function(i){switch(i.label){case 0:return t=this.parent.getAttribute(this.foreignKeyName),e=this,this.localKeyName!==this.relatedClass.primaryKey?[3,2]:[4,this.relatedClass.all({$in:t})];case 1:return n=i.sent(),[3,4];case 2:return[4,this.relatedClass.all((r={},r[this.localKeyName]={$or:t.map((function(t){return{$eq:t}})).concat(t.map((function(t){return{$contains:t}})))},r))];case 3:n=i.sent(),i.label=4;case 4:return e.related=n,[2,this.related]}}))}))},e}(E),k=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(t){function e(e,n,r,i){return t.call(this,e,n,r||b(n.name+"_"+n.primaryKey),i)||this}return k(e,t),e}(S),L=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},D=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.resolve=function(){return I(this,void 0,void 0,(function(){var t,e,n,r;return D(this,(function(i){switch(i.label){case 0:return t=this.parent.getAttribute(this.foreignKeyName),e=this,this.localKeyName!==this.relatedClass.primaryKey?[3,2]:[4,this.relatedClass.find(t)];case 1:return n=i.sent(),[3,4];case 2:return[4,this.relatedClass.first((r={},r[this.localKeyName]=t,r))];case 3:n=i.sent(),i.label=4;case 4:return e.related=n,[2,this.related]}}))}))},e}(P),N=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},F=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.prototype.resolve=function(){return B(this,void 0,void 0,(function(){var t,e,n;return F(this,(function(r){switch(r.label){case 0:return t=this.parent.getAttribute(this.localKeyName),e=this,[4,this.relatedClass.all((n={},n[this.foreignKeyName]={$or:[{$eq:t},{$contains:t}]},n))];case 1:return e.related=r.sent(),[2,this.related]}}))}))},e}(E),z=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},U=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return z(e,t),e.prototype.resolve=function(){return V(this,void 0,void 0,(function(){var t,e,n;return U(this,(function(r){switch(r.label){case 0:return t=this.parent.getAttribute(this.localKeyName),e=this,[4,this.relatedClass.first((n={},n[this.foreignKeyName]={$or:[{$eq:t},{$contains:t}]},n))];case 1:return e.related=r.sent(),[2,this.related]}}))}))},e}(P),W=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},G=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},q=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};!function(t){t.Number="number",t.String="string",t.Boolean="boolean",t.Array="array",t.Object="object",t.Date="date",t.Key="key"}(_||(_={}));var $=Object.values(_),X=["createdAt","updatedAt"],Y=function(){function t(t,e){if(void 0===t&&(t={}),void 0===e&&(e=!1),!("__pureInstance"in t))return this.modelClass.ensureBooted(),this.initialize(t,e),this._proxy}return Object.defineProperty(t,"instance",{get:function(){return new this},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureInstance",{get:function(){return new this({__pureInstance:!0})},enumerable:!0,configurable:!0}),t.boot=function(e){var n=this,r={};if(void 0===n.collection)n.collection=e.toLowerCase()+"s";else if("string"!=typeof n.collection)throw new d(e,"Collection name not defined or invalid format");if("boolean"==typeof n.timestamps||void 0===n.timestamps)if(void 0===n.timestamps||n.timestamps){for(var i=0,o=X;i<o.length;i++)r[l=o[i]]={type:_.Date,required:!1};n.timestamps=X}else n.timestamps=[];else{if(!Array.isArray(n.timestamps))throw new d(e,"Invalid timestamps definition");for(var a=0,s=n.timestamps;a<s.length;a++){var l=s[a];if(-1===X.indexOf(l))throw new d(e,"Invalid timestamp field defined ("+l+")");r[l]={type:_.Date,required:!1}}}if(void 0!==n.fields)for(var l in n.fields)if(n.fields.hasOwnProperty(l)&&(r[l]=Z(e,l,n.fields[l]),-1!==n.timestamps.indexOf(l)&&(r[l].type!==_.Date||r[l].required)))throw new d(e,"Field "+l+" definition must be type date and not required because it is used an automatic timestamp. Learn more at https://soukai.js.org/guide/defining-models.html#automatic-timestamps");n.primaryKey in r||(r[n.primaryKey]={type:_.Key,required:!1});for(var u=Object.getOwnPropertyNames(n.pureInstance),c=[],h=Object.getPrototypeOf(n.pureInstance);h!==t.prototype;){u.push.apply(u,h.constructor.classFields);for(var f=0,p=Object.getOwnPropertyNames(h);f<p.length;f++){var m=p[f];m.endsWith("Relationship")&&"function"==typeof n.pureInstance[m]&&c.push(m.substring(0,m.length-12))}h=Object.getPrototypeOf(h)}n.classFields=v.unique(u),n.relations=v.unique(c),n.fields=r,n.modelName=e},t.create=function(t){return void 0===t&&(t={}),new this(t).save()},t.createFromEngineDocument=function(t,e){return this.instance.createFromEngineDocument(t,e)},t.createManyFromEngineDocuments=function(t){return this.instance.createManyFromEngineDocuments(t)},t.find=function(t){var e=this;return this.ensureBooted(),u.requireEngine().readOne(this.collection,this.instance.serializeKey(t)).then((function(n){return e.createFromEngineDocument(t,n)})).catch((function(){return null}))},t.all=function(t){return G(this,void 0,void 0,(function(){var e;return q(this,(function(n){switch(n.label){case 0:return this.ensureBooted(),[4,u.requireEngine().readMany(this.collection,t)];case 1:return e=n.sent(),[4,this.createManyFromEngineDocuments(e)];case 2:return[2,n.sent()]}}))}))},t.first=function(t){return G(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,this.all(t)];case 1:return[2,e.sent()[0]||null]}}))}))},t.ensureBooted=function(){if(void 0===this.modelName)throw new a("Model has not been booted (did you forget to call Soukai.loadModel?) Learn more at https://soukai.js.org/guide/defining-models.html")},Object.defineProperty(t.prototype,"modelClass",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.prototype.update=function(t){for(var e in void 0===t&&(t={}),t=this.castAttributes(t,this.modelClass.fields))this.setAttribute(e,t[e]);return this.hasAutomaticTimestamp("updatedAt")&&this.touch(),this.save()},t.prototype.hasRelation=function(t){return-1!==this.modelClass.relations.indexOf(t)},t.prototype.getRelation=function(t){return this._relations[t]||null},t.prototype.loadRelation=function(t){return this.requireRelation(t).resolve()},t.prototype.loadRelationIfUnloaded=function(t){return G(this,void 0,void 0,(function(){return q(this,(function(e){return[2,this.isRelationLoaded(t)?this.getRelationModels(t):this.loadRelation(t)]}))}))},t.prototype.unloadRelation=function(t){this.requireRelation(t).unload()},t.prototype.getRelationModels=function(t){return this.requireRelation(t).related},t.prototype.setRelationModels=function(t,e){this.requireRelation(t).related=e},t.prototype.isRelationLoaded=function(t){return this.requireRelation(t).loaded},t.prototype.hasAttribute=function(t){for(var e=t.split("."),n=tt(this._attributes,this.modelClass.fields);e.length>0;)if(void 0===(n=n[e.shift()]))return!1;return!0},t.prototype.setAttribute=function(t,e){e=this.castAttribute(e,this.modelClass.fields[t]),this._attributes[t]=e,delete this._dirtyAttributes[t],g.deepEquals(this._originalAttributes[t],e)||(this._dirtyAttributes[t]=e),this.hasAutomaticTimestamp("updatedAt")&&"updatedAt"!==t&&this.touch()},t.prototype.setAttributes=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=n[e],i=r[0],o=r[1];this.setAttribute(i,o)}},t.prototype.getAttribute=function(t,e){void 0===e&&(e=!1);for(var n=t.split("."),r=this.getAttributes(e);n.length>0;)if(void 0===(r=r[n.shift()]))return r;return r},t.prototype.getAttributes=function(t){return void 0===t&&(t=!1),t?f(this._attributes):tt(this._attributes,this.modelClass.fields)},t.prototype.unsetAttribute=function(t){this._attributes.hasOwnProperty(t)&&(t in this.modelClass.fields?this._attributes[t]=void 0:delete this._attributes[t],void 0!==this._originalAttributes[t]&&(this._dirtyAttributes[t]=void 0),this.hasAutomaticTimestamp("updatedAt")&&this.touch())},t.prototype.isDirty=function(t){return t?t in this._dirtyAttributes:Object.values(this._dirtyAttributes).length>0},t.prototype.getPrimaryKey=function(){return this._attributes[this.modelClass.primaryKey]},t.prototype.getSerializedPrimaryKey=function(){var t=this.getPrimaryKey();return t?this.serializeKey(t):null},t.prototype.delete=function(){return G(this,void 0,void 0,(function(){var t;return q(this,(function(e){switch(e.label){case 0:return this._exists?[4,this.getCascadeModels()]:[2,this];case 1:return t=e.sent(),[4,this.deleteModelsFromEngine(t)];case 2:return e.sent(),t.forEach((function(t){return t.resetEngineData()})),[2,this]}}))}))},t.prototype.save=function(){return G(this,void 0,void 0,(function(){var t,e;return q(this,(function(n){switch(n.label){case 0:return K(this._attributes,this.modelClass.fields),this.isDirty()?(t=this._exists,[4,this.syncDirty()]):[2,this];case 1:return e=n.sent(),this._wasRecentlyCreated=this._wasRecentlyCreated||!t,this._attributes[this.modelClass.primaryKey]=this.parseKey(e),this.cleanDirty(),[2,this]}}))}))},t.prototype.touch=function(){this.setAttribute("updatedAt",new Date)},t.prototype.setExists=function(t){this._exists=t},t.prototype.exists=function(){return this._exists},t.prototype.wasRecentlyCreated=function(){return this._wasRecentlyCreated},t.prototype.initialize=function(t,e){this._exists=e,this._wasRecentlyCreated=!1,this.initializeProxy(),this.initializeAttributes(t,e),this.initializeRelations()},t.prototype.initializeProxy=function(){this._proxy=new Proxy(this,{get:function(t,e,n){if("string"!=typeof e||e in t||-1!==t.modelClass.classFields.indexOf(e))return Reflect.get(t,e,n);var r="get"+y(e)+"Attribute";if("function"==typeof t[r])return t[r]();if(t.hasRelation(e))return t.isRelationLoaded(e)?t.getRelationModels(e):void 0;if(e.startsWith("related")){var i=b(e.substr(7));if(t.hasRelation(i))return t._relations[i]}return t.getAttribute(e)},set:function(t,e,n,r){return"string"!=typeof e||e in t||-1!==t.modelClass.classFields.indexOf(e)?Reflect.set(t,e,n,r):t.hasRelation(e)?(t.setRelationModels(e,n),!0):(t.setAttribute(e,n),!0)},deleteProperty:function(t,e){return"string"!=typeof e||e in t?Reflect.deleteProperty(t,e):t.hasRelation(e)?(t.unloadRelation(e),!0):e in t._attributes&&-1===t.modelClass.classFields.indexOf(e)?(t.unsetAttribute(e),!0):Reflect.deleteProperty(t,e)}})},t.prototype.initializeAttributes=function(t,e){this._attributes=g.deepClone(t),this._originalAttributes=e?g.deepClone(t):{},this._dirtyAttributes=e?{}:g.deepClone(t),e||(this.hasAutomaticTimestamp("createdAt")&&!("createdAt"in t)&&(this._attributes.createdAt=new Date,this._dirtyAttributes.createdAt=this._attributes.createdAt),this.hasAutomaticTimestamp("updatedAt")&&!("updatedAt"in t)&&(this._attributes.updatedAt=new Date,this._dirtyAttributes.updatedAt=this._attributes.updatedAt)),this._attributes=this.castAttributes(J(this._attributes,this.modelClass.fields),this.modelClass.fields)},t.prototype.initializeRelations=function(){var t=this;this._relations=this.modelClass.relations.reduce((function(e,n){var r=t._proxy[b(n)+"Relationship"]();return r.name=n,e[n]=r,e}),{})},t.prototype.createFromEngineDocument=function(t,e){return G(this,void 0,void 0,(function(){var n;return q(this,(function(r){switch(r.label){case 0:return[4,this.parseEngineDocumentAttributes(t,e)];case 1:return(n=r.sent())[this.modelClass.primaryKey]=t,[2,new this.modelClass(n,!0)]}}))}))},t.prototype.createManyFromEngineDocuments=function(t){return G(this,void 0,void 0,(function(){var e=this;return q(this,(function(n){return[2,Promise.all(Object.entries(t).map((function(t){var n=t[0],r=t[1];return e.createFromEngineDocument(e.parseKey(n),r)})))]}))}))},t.prototype.syncDirty=function(){return G(this,void 0,void 0,(function(){var t,e,n;return q(this,(function(r){switch(r.label){case 0:return t=u.requireEngine(),this._exists?(e=this.getDirtyEngineDocumentUpdates(),n=this.getSerializedPrimaryKey(),[4,t.update(this.modelClass.collection,n,e)]):[2,t.create(this.modelClass.collection,this.toEngineDocument(),this.getSerializedPrimaryKey()||void 0)];case 1:return r.sent(),[2,n]}}))}))},t.prototype.cleanDirty=function(){this._originalAttributes=g.deepClone(this._attributes),this._dirtyAttributes={},this._exists=!0},t.prototype.getCascadeModels=function(){return G(this,void 0,void 0,(function(){var t,e,n,r=this;return q(this,(function(i){switch(i.label){case 0:return t=this.modelClass.relations.map((function(t){return r._relations[t]})).filter((function(t){return"cascade"===t.deleteStrategy})).map((function(t){return G(r,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,t.getModels()];case 1:return[2,e.sent().map((function(t){return t.getCascadeModels()}))]}}))}))})),[4,Promise.all(t)];case 1:return e=i.sent(),[4,Promise.all(v.flatten(e))];case 2:return n=i.sent(),[2,v.flatten(n).concat([this]).filter((function(t){return t.exists()}))]}}))}))},t.prototype.deleteModelsFromEngine=function(t){return G(this,void 0,void 0,(function(){var e,n;return q(this,(function(r){switch(r.label){case 0:return e=u.requireEngine(),n=t.map((function(t){return[t.modelClass.collection,t.getSerializedPrimaryKey()]})),[4,Promise.all(n.map((function(t){var n=t[0],r=t[1];return e.delete(n,r)})))];case 1:return r.sent(),[2]}}))}))},t.prototype.resetEngineData=function(){delete this._attributes[this.modelClass.primaryKey],this._exists=!1,this._dirtyAttributes=g.deepClone(this._attributes)},t.prototype.hasOne=function(t,e,n){return new H(this,t,e,n)},t.prototype.belongsToOne=function(t,e,n){return new R(this,t,e,n)},t.prototype.hasMany=function(t,e,n){return new j(this,t,e,n)},t.prototype.belongsToMany=function(t,e,n){return new O(this,t,e,n)},t.prototype.castAttributes=function(t,e){var n={};for(var r in t)n[r]=this.castAttribute(t[r],e[r]);return n},t.prototype.castAttribute=function(t,e){var n=this;if(Q(t))return t;if(void 0===e)switch(typeof t){case"object":return t.toString();case"symbol":case"function":case"undefined":return;default:return t}switch(e.type){case _.Date:return new Date(t);case _.Object:return this.castAttributes(t,e.fields);case _.Array:return t.map((function(t){return n.castAttribute(t,e.items)}));case _.Boolean:return!!t;case _.Number:return parseFloat(t);case _.String:return t.toString();default:return t}},t.prototype.hasAutomaticTimestamp=function(t){return-1!==this.modelClass.timestamps.indexOf(t)},t.prototype.toEngineDocument=function(){return tt(this._attributes,this.modelClass.fields)},t.prototype.getDirtyEngineDocumentUpdates=function(){var t=g.deepClone(this._dirtyAttributes);for(var e in t)void 0===t[e]&&(t[e]={$unset:!0});return t},t.prototype.parseEngineDocumentAttributes=function(t,e){return G(this,void 0,void 0,(function(){return q(this,(function(t){return[2,W({},e)]}))}))},t.prototype.serializeKey=function(t){return t.toString()},t.prototype.parseKey=function(t){return t},t.prototype.requireRelation=function(t){if(!(t in this._relations))throw new a("Attempting to use undefined "+t+" relation.");return this._relations[t]},t.primaryKey="id",t.classFields=[],t.relations=[],t}();function Z(t,e,n,r){void 0===r&&(r=!0);var i={};if(-1!==$.indexOf(n))i.type=n;else{if("object"!=typeof n)throw new d(t,"Invalid field definition "+e);i=n}if(void 0===i.type)i={fields:i,type:_.Object};else if(-1===$.indexOf(i.type))throw new d(t,"Invalid field definition "+e);switch(r&&(i.required=!!i.required),i.type){case _.Object:if(void 0===i.fields)throw new d(t,"Field definition of type object requires fields attribute "+e);for(var o in i.fields)i.fields.hasOwnProperty(o)&&(i.fields[o]=Z(t,o,i.fields[o]));break;case _.Array:if(void 0===i.items)throw new d(t,"Field definition of type array requires items attribute. Field: '"+e+"'");i.items=Z(t,"items",i.items,!1)}return i}function J(t,e){for(var n in e){var r=e[n];if(!(n in t))switch(r.type){case _.Object:t[n]={};break;case _.Array:t[n]=[];break;default:t[n]=void 0}r.type===_.Object&&(t[n]=J(t[n],r.fields))}return t}function K(t,e){for(var n in e){var r=e[n];if(r.required&&(!(n in t)||Q(t[n])))throw new a("The "+n+" attribute is required.");n in t&&!Q(t[n])&&r.type===_.Object&&K(t[n],r.fields)}}function Q(t){return null==t}function tt(t,e,n){for(var r in void 0===n&&(n=!1),t=f(t))if(void 0===t[r])delete t[r];else if(r in e&&e[r].type===_.Object){var i=tt(t[r],e[r].fields,!0);void 0===i?delete t[r]:t[r]=i}return n&&0===Object.keys(t).length?void 0:t}var et=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(t){function e(e){var n=t.call(this,"Could not create document with id "+e+" because it is already in use.")||this;return n.id=e,n}return et(e,t),e}(a),rt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(t){function e(e){var n=t.call(this,"Couldn't find document with id "+e+".")||this;return n.id=e,n}return rt(e,t),e}(a),ot={generate:function t(e){return e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t)}},at=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},st=function(){function t(){var t=this;this.documentsIn=function(t,e,n){return v.contains(n,t)},this.attributeEq=function(t,e,n){return p(t[e],n)},this.attributeContains=function(e,n,r){Array.isArray(r)||(r=[r]);var i=e&&e[n];return!!Array.isArray(i)&&!r.find((function(e){return!i.find((function(n){return t.filterValue(n,e)}))}))},this.attributeOr=function(e,n,r){return!!r.find((function(r){return!!t.filterValue(e,(i={},i[n]=r,i));var i}))},this.attributeIn=function(t,e,n){return v.contains(n,t[e])},this.attributeUpdate=function(e,n,r){m(r)?t.isOperation(r,t.attributeUpdates)?t.runOperation(r,t.attributeUpdates,e,n):m(e[n])?t.updateAttributes(e[n],r):e[n]=r:e[n]=r},this.attributeUpdateItems=function(e,n,r){Array.isArray(r)||(r=[r]);for(var i=function(r,i,o){r&&r.$in&&(r.$in=r.$in.map((function(t){return t.toString()})));var a=t.requireArrayProperty("$updateItems",e,n),s=t.filterDocuments(a.reduce((function(t,e,n){return at({},t,((r={})[n]=m(e)?e:{},r));var r}),{}),r||{});i&&Object.keys(s).forEach((function(e){var n;t.updateAttributes(s,((n={})[e]=i,n)),a[e]=s[e]})),o&&(e[n]=v.withoutIndexes(a,Object.keys(s).map(parseInt)))},o=0,a=r;o<a.length;o++){var s=a[o];i(s.$where,s.$update,s.$unset)}},this.attributePush=function(e,n,r){t.requireArrayProperty("$push",e,n).push(r)},this.attributeUnset=function(t,e,n){if(!0!==n)for(var r=0,i=n=Array.isArray(n)?n:[n];r<i.length;r++){var o=i[r];delete t[e][o]}else delete t[e]},this.attributeApply=function(e,n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i];t.runOperation(a,t.attributeUpdates,e,n)}},this.rootFilters={$in:this.documentsIn},this.attributeFilters={$eq:this.attributeEq,$contains:this.attributeContains,$or:this.attributeOr,$in:this.attributeIn},this.attributeUpdates={$update:this.attributeUpdate,$updateItems:this.attributeUpdateItems,$push:this.attributePush,$unset:this.attributeUnset,$apply:this.attributeApply}}return t.prototype.filterDocuments=function(t,e){var n=this;return void 0===e&&(e={}),Object.entries(t).reduce((function(t,r){var i=r[0],o=r[1];return n.filterDocument(i,o,e)&&(t[i]=o),t}),{})},t.prototype.updateAttributes=function(t,e){if(this.isOperation(e,{$unset:this.attributeUnset}))for(var n=e.$unset,r=0,i=Array.isArray(n)?n:[n];r<i.length;r++){var o=i[r];this.attributeUnset(t,o,!0)}else for(var a=0,s=Object.entries(e);a<s.length;a++){var l=s[a],u=l[0],c=l[1];this.attributeUpdate(t,u,c)}},t.prototype.obtainDocumentId=function(t){return t||ot.generate()},t.prototype.filterDocument=function(t,e,n){var r=this;void 0===n&&(n={}),n=at({},n);for(var i=0,o=Object.keys(n).filter((function(t){return t in r.rootFilters}));i<o.length;i++){var a=o[i];if(!this.rootFilters[a](t,e,n[a]))return!1;delete n[a]}return this.filterValue(e,n)},t.prototype.filterValue=function(t,e){var n=this;return void 0===e&&(e={}),m(e)?this.isOperation(e,this.attributeFilters)?this.runOperation(e,this.attributeFilters,{value:t},"value"):!!m(t)&&!Object.entries(e).find((function(e){var r=e[0],i=e[1];return!(n.isOperation(i,n.attributeFilters)?n.runOperation(i,n.attributeFilters,t,r):n.attributeEq(t,r,i))})):this.attributeEq({value:t},"value",e)},t.prototype.isOperation=function(t,e){if(!m(t))return!1;var n=Object.keys(t),r=n[0],i=n.slice(1);return!(!r||0!==i.length||!(r in e))},t.prototype.runOperation=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Object.entries(t)[0],o=i[0],a=i[1];return e[o].apply(e,n.concat([a]))},t.prototype.requireArrayProperty=function(t,e,n){if(!e||!Array.isArray(e[n]))throw new Error(t+" operator can only be applied to array attributes");return e[n]},t}();let lt,ut;const ct=new WeakMap,dt=new WeakMap,ht=new WeakMap,ft=new WeakMap,pt=new WeakMap;let mt={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ht.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yt(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ut||(ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(bt(this),e),yt(ct.get(this))}:function(...e){return yt(t.apply(bt(this),e))}:function(e,...n){const r=t.call(bt(this),e,...n);return ht.set(r,e.sort?e.sort():[e]),yt(r)}}function vt(t){return"function"==typeof t?gt(t):(t instanceof IDBTransaction&&function(t){if(dt.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));dt.set(t,e)}(t),e=t,(lt||(lt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,mt):t);var e}function yt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(yt(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&ct.set(e,t)})).catch((()=>{})),pt.set(e,t),e}(t);if(ft.has(t))return ft.get(t);const e=vt(t);return e!==t&&(ft.set(t,e),pt.set(e,t)),e}const bt=t=>pt.get(t);function _t(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=yt(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(yt(a.result),t.oldVersion,t.newVersion,yt(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}function wt(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",(()=>e())),yt(n).then((()=>{}))}const xt=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],Mt=new Map;function Et(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Mt.get(e))return Mt.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=St.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xt.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let a=o.store;r&&(a=a.index(e.shift()));const s=a[n](...e);return i&&await o.done,s};return Mt.set(e,o),o}mt=(t=>({...t,get:(e,n,r)=>Et(e,n)||t.get(e,n,r),has:(e,n)=>!!Et(e,n)||t.has(e,n)}))(mt);var Tt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},At=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ct=function(){function t(t){void 0===t&&(t=null),this.database=t?"soukai-"+t:"soukai",this.helper=new st}return t.prototype.purgeDatabase=function(){return Tt(this,void 0,void 0,(function(){var t=this;return At(this,(function(e){switch(e.label){case 0:return this.closeConnections(),[4,Promise.all([wt(this.database+"-meta",{blocked:function(){return t.throwDatabaseBlockedError()}}),wt(this.database,{blocked:function(){return t.throwDatabaseBlockedError()}})])];case 1:return e.sent(),[2]}}))}))},t.prototype.closeConnections=function(){return Tt(this,void 0,void 0,(function(){return At(this,(function(t){return this._metadataConnection&&this._metadataConnection.close(),this._documentsConnection&&this._documentsConnection.close(),delete this._metadataConnection,delete this._documentsConnection,[2]}))}))},t.prototype.create=function(t,e,n){return Tt(this,void 0,void 0,(function(){return At(this,(function(r){switch(r.label){case 0:return n=this.helper.obtainDocumentId(n),[4,this.documentExists(t,n)];case 1:if(r.sent())throw new nt(n);return[4,this.createDocument(t,n,e)];case 2:return r.sent(),[2,n]}}))}))},t.prototype.readOne=function(t,e){return Tt(this,void 0,void 0,(function(){var n;return At(this,(function(r){switch(r.label){case 0:return[4,this.collectionExists(t)];case 1:if(!r.sent())throw new it(e);return[4,this.getDocument(t,e)];case 2:if(!(n=r.sent()))throw new it(e);return[2,n]}}))}))},t.prototype.readMany=function(t,e){return Tt(this,void 0,void 0,(function(){var n,r;return At(this,(function(i){switch(i.label){case 0:return n={},[4,this.getCollections()];case 1:return-1===(r=i.sent()).indexOf(t)?[2,n]:[4,this.withDocumentsTransaction(r,t,"readonly",(function(t){var e=function(t){if(t)return n[t.key]=t.value,t.continue().then(e)};return t.store.openCursor().then(e)}))];case 2:return i.sent(),[2,this.helper.filterDocuments(n,e)]}}))}))},t.prototype.update=function(t,e,n){return Tt(this,void 0,void 0,(function(){var r;return At(this,(function(i){switch(i.label){case 0:return[4,this.getDocument(t,e)];case 1:if(!(r=i.sent()))throw new it(e);return this.helper.updateAttributes(r,n),[4,this.updateDocument(t,e,r)];case 2:return i.sent(),[2]}}))}))},t.prototype.delete=function(t,e){return Tt(this,void 0,void 0,(function(){return At(this,(function(n){switch(n.label){case 0:return[4,this.documentExists(t,e)];case 1:if(!n.sent())throw new it(e);return[4,this.deleteDocument(t,e)];case 2:return n.sent(),[2]}}))}))},t.prototype.collectionExists=function(t){return Tt(this,void 0,void 0,(function(){return At(this,(function(e){switch(e.label){case 0:return[4,this.getCollections()];case 1:return[2,-1!==e.sent().indexOf(t)]}}))}))},t.prototype.documentExists=function(t,e){return Tt(this,void 0,void 0,(function(){return At(this,(function(n){switch(n.label){case 0:return[4,this.getDocument(t,e)];case 1:return[2,!!n.sent()]}}))}))},t.prototype.getDocument=function(t,e){return Tt(this,void 0,void 0,(function(){var n;return At(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.getCollections()];case 1:return-1===(n=r.sent()).indexOf(t)?[2,null]:[4,this.withDocumentsTransaction(n,t,"readonly",(function(t){return t.store.get(e)}))];case 2:return[2,r.sent()||null];case 3:return r.sent(),[2,null];case 4:return[2]}}))}))},t.prototype.createDocument=function(t,e,n){return Tt(this,void 0,void 0,(function(){var r;return At(this,(function(i){switch(i.label){case 0:return[4,this.getCollections()];case 1:return-1!==(r=i.sent()).indexOf(t)?[3,3]:[4,this.createCollection(t)];case 2:i.sent(),r.push(t),i.label=3;case 3:return[2,this.withDocumentsTransaction(r,t,"readwrite",(function(t){return t.store.add(n,e),t.done}))]}}))}))},t.prototype.updateDocument=function(t,e,n){return Tt(this,void 0,void 0,(function(){var r;return At(this,(function(i){switch(i.label){case 0:return[4,this.getCollections()];case 1:return r=i.sent(),[2,this.withDocumentsTransaction(r,t,"readwrite",(function(t){return t.store.put(n,e),t.done}))]}}))}))},t.prototype.deleteDocument=function(t,e){return Tt(this,void 0,void 0,(function(){var n;return At(this,(function(r){switch(r.label){case 0:return[4,this.getCollections()];case 1:return n=r.sent(),[2,this.withDocumentsTransaction(n,t,"readwrite",(function(t){return t.store.delete(e),t.done}))]}}))}))},t.prototype.withMetadataTransaction=function(t,e){return Tt(this,void 0,void 0,(function(){var n,r,i=this;return At(this,(function(o){switch(o.label){case 0:return n=this,(r=this._metadataConnection)?[3,2]:[4,_t(this.database+"-meta",1,{upgrade:function(t){t.objectStoreNames.contains("collections")||t.createObjectStore("collections",{keyPath:"name"})},blocked:function(){return i.throwDatabaseBlockedError()}})];case 1:r=o.sent(),o.label=2;case 2:return n._metadataConnection=r,[2,this.retryingOnTransactionInactive((function(){var n=i._metadataConnection.transaction("collections",t);return e(n)}))]}}))}))},t.prototype.withDocumentsTransaction=function(t,e,n,r){return Tt(this,void 0,void 0,(function(){var i,o,a=this;return At(this,(function(s){switch(s.label){case 0:return i=this,(o=this._documentsConnection)?[3,2]:[4,_t(this.database,t.length,{upgrade:function(e){for(var n=0,r=t;n<r.length;n++){var i=r[n];e.objectStoreNames.contains(i)||e.createObjectStore(i)}},blocked:function(){return a.throwDatabaseBlockedError()}})];case 1:o=s.sent(),s.label=2;case 2:return i._documentsConnection=o,[2,this.retryingOnTransactionInactive((function(){var t=a._documentsConnection.transaction(e,n);return r(t)}))]}}))}))},t.prototype.retryingOnTransactionInactive=function(t){try{return t()}catch(e){if(!(e instanceof Error)||!e.name.toLowerCase().includes("inactive")&&!e.message.toLowerCase().includes("inactive"))throw e;return t()}},t.prototype.getCollections=function(){return Tt(this,void 0,void 0,(function(){return At(this,(function(t){return[2,this.withMetadataTransaction("readonly",(function(t){return t.store.getAllKeys()}))]}))}))},t.prototype.createCollection=function(t){return Tt(this,void 0,void 0,(function(){return At(this,(function(e){switch(e.label){case 0:return[4,this.withMetadataTransaction("readwrite",(function(e){return e.store.add({name:t}),e.done}))];case 1:return e.sent(),this._documentsConnection&&(this._documentsConnection.close(),delete this._documentsConnection),[2]}}))}))},t.prototype.throwDatabaseBlockedError=function(){throw new a("An attempt to open an IndexedDB connection has been blocked, remember to call IndexedDBEngine.closeConnections when necessary. Learn more at https://developer.mozilla.org/en-US/docs/Web/API/IDBOpenDBRequest/blocked_event")},t}(),Ot=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},kt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Pt=function(){function t(){this.db={},this.helper=new st}return Object.defineProperty(t.prototype,"database",{get:function(){return this.db},enumerable:!0,configurable:!0}),t.prototype.create=function(t,e,n){var r=this.collection(t);if((n=this.helper.obtainDocumentId(n))in r)throw new nt(n);return r[n]=e,Promise.resolve(n)},t.prototype.readOne=function(t,e){var n=this.collection(t);return e in n?Promise.resolve(n[e]):Promise.reject(new it(e))},t.prototype.readMany=function(t,e){return Ot(this,void 0,void 0,(function(){var n;return kt(this,(function(r){return this.hasCollection(t)?(n=this.collection(t),[2,this.helper.filterDocuments(n,e)]):[2,{}]}))}))},t.prototype.update=function(t,e,n){var r=this.collection(t);if(e in r){var i=r[e];return this.helper.updateAttributes(i,n),Promise.resolve()}return Promise.reject(new it(e))},t.prototype.delete=function(t,e){var n=this.collection(t);return e in n?(delete n[e],Promise.resolve()):Promise.reject(new it(e))},t.prototype.hasCollection=function(t){return t in this.db},t.prototype.collection=function(t){return this.hasCollection(t)||(this.db[t]={}),this.db[t]},t}(),Lt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},It=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Dt=function(){function t(t){void 0===t&&(t=""),this.prefix=t,this.helper=new st}return t.prototype.clear=function(){for(var t=0,e=Object.keys(localStorage);t<e.length;t++){var n=e[t];n.startsWith(this.prefix)&&localStorage.removeItem(n)}},t.prototype.create=function(t,e,n){return Lt(this,void 0,void 0,(function(){var r;return It(this,(function(i){if(r=this.readItem(t,{}),(n=this.helper.obtainDocumentId(n))in r)throw new nt(n);return r[n]=this.serializeAttributes(e),this.writeItem(t,r),[2,n]}))}))},t.prototype.readOne=function(t,e){return Lt(this,void 0,void 0,(function(){var n;return It(this,(function(r){if(n=this.readItem(t,{}),!(e in n))throw new it(e);return[2,this.deserializeAttributes(n[e])]}))}))},t.prototype.readMany=function(t,e){return Lt(this,void 0,void 0,(function(){var n,r;return It(this,(function(i){for(r in n=this.readItem(t,{}))n[r]=this.deserializeAttributes(n[r]);return[2,this.helper.filterDocuments(n,e)]}))}))},t.prototype.update=function(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i;return It(this,(function(o){if(r=this.readItem(t,{}),!(e in r))throw new it(e);return i=this.deserializeAttributes(r[e]),this.helper.updateAttributes(i,n),r[e]=this.serializeAttributes(i),this.writeItem(t,r),[2]}))}))},t.prototype.delete=function(t,e){return Lt(this,void 0,void 0,(function(){var n;return It(this,(function(r){if(n=this.readItem(t,{}),!(e in n))throw new it(e);return delete n[e],this.writeItem(t,n),[2]}))}))},t.prototype.readItem=function(t,e){void 0===e&&(e=null);var n=localStorage.getItem(this.prefix+t);return null!==n?JSON.parse(n):e},t.prototype.writeItem=function(t,e){localStorage.setItem(this.prefix+t,JSON.stringify(e))},t.prototype.serializeAttributes=function(t){for(var e in t){var n=t[e];t[e]=this.serializeAttributeValue(n)}return t},t.prototype.serializeAttributeValue=function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.serializeAttributeValue(t)})):t instanceof Date?{__dateTime:t.getTime()}:"object"==typeof t?this.serializeAttributes(t):t},t.prototype.deserializeAttributes=function(t){for(var e in t){var n=t[e];t[e]=this.deserializeAttributeValue(n)}return t},t.prototype.deserializeAttributeValue=function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.deserializeAttributeValue(t)})):"object"==typeof t&&"__dateTime"in t?new Date(t.__dateTime):t},t}(),Rt=function(){function t(t){this.engine=t}return t.prototype.create=function(t,e,n){return r.log("CREATE",t,e,n),this.engine.create(t,e,n).then((function(t){return r.log("CREATED",t),t})).catch((function(t){throw r.error(t),t}))},t.prototype.readOne=function(t,e){return r.log("READ ONE",t,e),this.engine.readOne(t,e).then((function(t){return r.log("FOUND",t),t})).catch((function(t){throw r.error(t),t}))},t.prototype.readMany=function(t,e){return r.log("READ ALL",t,e),this.engine.readMany(t,e).then((function(t){return r.log("FOUND",t),t})).catch((function(t){throw r.error(t),t}))},t.prototype.update=function(t,e,n){return r.log("UPDATE",t,e,n),this.engine.update(t,e,n).then((function(){return r.log("UPDATED")})).catch((function(t){throw r.error(t),t}))},t.prototype.delete=function(t,e){return r.log("DELETE",t,e),this.engine.delete(t,e).then((function(){return r.log("DELETED")})).catch((function(t){throw r.error(t),t}))},t}();function Nt(t){for(var e={},n=0,r=t.keys();n<r.length;n++){var i=r[n],o=(i.match(/^(?:\.\/)?(.+)\.(j|t)s$/)||[])[1];void 0!==o&&(e[o]=t(i).default)}return e}n.d(e,"definitionsFromContext",(function(){return Nt})),n.d(e,"Model",(function(){return Y})),n.d(e,"Soukai",(function(){return u})),n.d(e,"EngineHelper",(function(){return st})),n.d(e,"LogEngine",(function(){return Rt})),n.d(e,"InMemoryEngine",(function(){return Pt})),n.d(e,"LocalStorageEngine",(function(){return Dt})),n.d(e,"IndexedDBEngine",(function(){return Ct})),n.d(e,"SoukaiError",(function(){return a})),n.d(e,"DocumentNotFound",(function(){return it})),n.d(e,"DocumentAlreadyExists",(function(){return nt})),n.d(e,"InvalidModelDefinition",(function(){return d})),n.d(e,"BelongsToManyRelation",(function(){return O})),n.d(e,"BelongsToOneRelation",(function(){return R})),n.d(e,"HasManyRelation",(function(){return j})),n.d(e,"HasOneRelation",(function(){return H})),n.d(e,"MultiModelRelation",(function(){return E})),n.d(e,"Relation",(function(){return S})),n.d(e,"SingleModelRelation",(function(){return P})),n.d(e,"FieldType",(function(){return _})),e.default=u}])}))},5498:function(t,e,n){"use strict";n.d(e,{Z:function(){return E}});n(1703);var r=n(1114);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function f(t){var e=c();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function p(t,e){return v(t)||b(t,e)||_(t,e)||S()}function m(t){return g(t)||y(t)||_(t)||x()}function g(t){if(Array.isArray(t))return w(t)}function v(t){if(Array.isArray(t))return t}function y(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function b(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function _(t,e){if(t){if("string"===typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var M="undefined"!==typeof window&&window.THREE?window.THREE:{LinearFilter:r.wem,Sprite:r.jyi,SpriteMaterial:r.xeV,Texture:r.xEZ},E=function(t){s(n,t);var e=f(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(255, 255, 255, 1)";return i(this,n),t=e.call(this,new M.SpriteMaterial),t._text="".concat(r),t._textHeight=o,t._color=a,t._backgroundColor=!1,t._padding=0,t._borderWidth=0,t._borderRadius=0,t._borderColor="white",t._strokeWidth=0,t._strokeColor="white",t._fontFace="Arial",t._fontSize=90,t._fontWeight="normal",t._canvas=document.createElement("canvas"),t._genCanvas(),t}return a(n,[{key:"text",get:function(){return this._text},set:function(t){this._text=t,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(t){this._textHeight=t,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding=t,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(t){this._borderWidth=t,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(t){this._borderRadius=t,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(t){this._borderColor=t,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(t){this._fontFace=t,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize=t,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight=t,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=t,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(t){this._strokeColor=t,this._genCanvas()}},{key:"_genCanvas",value:function(){var t=this,e=this._canvas,n=e.getContext("2d"),r=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],i=r.map((function(e){return e*t.fontSize*.1})),o=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],a=o.map((function(e){return e*t.fontSize*.1})),s=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],l=s.map((function(e){return e*t.fontSize*.1})),u=this.text.split("\n"),c="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);n.font=c;var d=Math.max.apply(Math,m(u.map((function(t){return n.measureText(t).width})))),h=this.fontSize*u.length;if(e.width=d+2*i[0]+2*l[0],e.height=h+2*i[1]+2*l[1],this.borderWidth){if(n.strokeStyle=this.borderColor,i[0]){var f=i[0]/2;n.lineWidth=i[0],n.beginPath(),n.moveTo(f,a[0]),n.lineTo(f,e.height-a[3]),n.moveTo(e.width-f,a[1]),n.lineTo(e.width-f,e.height-a[2]),n.stroke()}if(i[1]){var g=i[1]/2;n.lineWidth=i[1],n.beginPath(),n.moveTo(Math.max(i[0],a[0]),g),n.lineTo(e.width-Math.max(i[0],a[1]),g),n.moveTo(Math.max(i[0],a[3]),e.height-g),n.lineTo(e.width-Math.max(i[0],a[2]),e.height-g),n.stroke()}if(this.borderRadius){var v=Math.max.apply(Math,m(i)),y=v/2;n.lineWidth=v,n.beginPath(),[!!a[0]&&[a[0],y,y,a[0]],!!a[1]&&[e.width-a[1],e.width-y,y,a[1]],!!a[2]&&[e.width-a[2],e.width-y,e.height-y,e.height-a[2]],!!a[3]&&[a[3],y,e.height-y,e.height-a[3]]].filter((function(t){return t})).forEach((function(t){var e=p(t,4),r=e[0],i=e[1],o=e[2],a=e[3];n.moveTo(r,o),n.quadraticCurveTo(i,o,i,a)})),n.stroke()}}this.backgroundColor&&(n.fillStyle=this.backgroundColor,this.borderRadius?(n.beginPath(),n.moveTo(i[0],a[0]),[[i[0],a[0],e.width-a[1],i[1],i[1],i[1]],[e.width-i[0],e.width-i[0],e.width-i[0],i[1],a[1],e.height-a[2]],[e.width-i[0],e.width-a[2],a[3],e.height-i[1],e.height-i[1],e.height-i[1]],[i[0],i[0],i[0],e.height-i[1],e.height-a[3],a[0]]].forEach((function(t){var e=p(t,6),r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5];n.quadraticCurveTo(r,a,i,s),n.lineTo(o,l)})),n.closePath(),n.fill()):n.fillRect(i[0],i[1],e.width-2*i[0],e.height-2*i[1])),n.translate.apply(n,m(i)),n.translate.apply(n,m(l)),n.font=c,n.fillStyle=this.color,n.textBaseline="bottom";var b=this.strokeWidth>0;b&&(n.lineWidth=this.strokeWidth*this.fontSize/10,n.strokeStyle=this.strokeColor),u.forEach((function(e,r){var i=(d-n.measureText(e).width)/2,o=(r+1)*t.fontSize;b&&n.strokeText(e,i,o),n.fillText(e,i,o)})),this.material.map&&this.material.map.dispose();var _=this.material.map=new M.Texture(e);_.minFilter=M.LinearFilter,_.needsUpdate=!0;var w=this.textHeight*u.length+2*r[1]+2*s[1];this.scale.set(w*e.width/e.height,w,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(t){return M.Sprite.prototype.copy.call(this,t),this.color=t.color,this.backgroundColor=t.backgroundColor,this.padding=t.padding,this.borderWidth=t.borderWidth,this.borderColor=t.borderColor,this.fontFace=t.fontFace,this.fontSize=t.fontSize,this.fontWeight=t.fontWeight,this.strokeWidth=t.strokeWidth,this.strokeColor=t.strokeColor,this}}]),n}(M.Sprite)},7013:function(t,e,n){var r;(function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,d=i.random;function h(t,e){if(t=t||"",e=e||{},t instanceof h)return t;if(!(this instanceof h))return new h(t,e);var n=f(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function f(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"==typeof t&&(t=Z(t)),"object"==typeof t&&(Y(t.r)&&Y(t.g)&&Y(t.b)?(e=p(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):Y(t.h)&&Y(t.s)&&Y(t.v)?(r=G(t.s),i=G(t.v),e=y(t.h,r,i),a=!0,s="hsv"):Y(t.h)&&Y(t.s)&&Y(t.l)&&(r=G(t.s),o=G(t.l),e=g(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=F(n),{ok:a,format:t.format||s,r:u(255,c(e.r,0)),g:u(255,c(e.g,0)),b:u(255,c(e.b,0)),a:n}}function p(t,e,n){return{r:255*j(t,255),g:255*j(e,255),b:255*j(n,255)}}function m(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r,i,o=c(t,e,n),a=u(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:i,l:s}}function g(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=j(t,360),e=j(e,100),n=j(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}function v(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r,i,o=c(t,e,n),a=u(t,e,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:i,v:s}}function y(t,e,n){t=6*j(t,360),e=j(e,100),n=j(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),s=n*(1-o*e),l=n*(1-(1-o)*e),u=r%6,c=[n,s,a,a,l,n][u],d=[l,n,n,s,a,a][u],h=[a,a,l,n,n,s][u];return{r:255*c,g:255*d,b:255*h}}function b(t,e,n,r){var i=[W(l(t).toString(16)),W(l(e).toString(16)),W(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function _(t,e,n,r,i){var o=[W(l(t).toString(16)),W(l(e).toString(16)),W(l(n).toString(16)),W(q(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function w(t,e,n,r){var i=[W(q(r)),W(l(t).toString(16)),W(l(e).toString(16)),W(l(n).toString(16))];return i.join("")}function x(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s-=e/100,n.s=z(n.s),h(n)}function S(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s+=e/100,n.s=z(n.s),h(n)}function M(t){return h(t).desaturate(100)}function E(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l+=e/100,n.l=z(n.l),h(n)}function T(t,e){e=0===e?0:e||10;var n=h(t).toRgb();return n.r=c(0,u(255,n.r-l(-e/100*255))),n.g=c(0,u(255,n.g-l(-e/100*255))),n.b=c(0,u(255,n.b-l(-e/100*255))),h(n)}function A(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l-=e/100,n.l=z(n.l),h(n)}function C(t,e){var n=h(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,h(n)}function O(t){var e=h(t).toHsl();return e.h=(e.h+180)%360,h(e)}function k(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+120)%360,s:e.s,l:e.l}),h({h:(n+240)%360,s:e.s,l:e.l})]}function P(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+90)%360,s:e.s,l:e.l}),h({h:(n+180)%360,s:e.s,l:e.l}),h({h:(n+270)%360,s:e.s,l:e.l})]}function L(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+72)%360,s:e.s,l:e.l}),h({h:(n+216)%360,s:e.s,l:e.l})]}function I(t,e,n){e=e||6,n=n||30;var r=h(t).toHsl(),i=360/n,o=[h(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(h(r));return o}function D(t,e){e=e||6;var n=h(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;while(e--)a.push(h({h:r,s:i,v:o})),o=(o+s)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,o,a,s=this.toRgb();return t=s.r/255,e=s.g/255,n=s.b/255,r=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),o=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),a=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(t){return this._a=F(t),this._roundA=l(100*this._a)/100,this},toHsv:function(){var t=v(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=v(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),r=l(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=m(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=m(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),r=l(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return b(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return _(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*j(this._r,255))+"%",g:l(100*j(this._g,255))+"%",b:l(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*j(this._r,255))+"%, "+l(100*j(this._g,255))+"%, "+l(100*j(this._b,255))+"%)":"rgba("+l(100*j(this._r,255))+"%, "+l(100*j(this._g,255))+"%, "+l(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+w(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=h(t);n="#"+w(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return h(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(T,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(x,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(M,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(L,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(P,arguments)}},h.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:G(t[r]));t=n}return h(t,e)},h.equals=function(t,e){return!(!t||!e)&&h(t).toRgbString()==h(e).toRgbString()},h.random=function(){return h.fromRatio({r:d(),g:d(),b:d()})},h.mix=function(t,e,n){n=0===n?0:n||50;var r=h(t).toRgb(),i=h(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return h(a)},h.readability=function(t,e){var n=h(t),r=h(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(t,e,n){var r,i,o=h.readability(t,e);switch(i=!1,r=J(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7;break}return i},h.mostReadable=function(t,e,n){var r,i,o,a,s=null,l=0;n=n||{},i=n.includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<e.length;u++)r=h.readability(t,e[u]),r>l&&(l=r,s=h(e[u]));return h.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,h.mostReadable(t,["#fff","#000"],n))};var R=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=h.hexNames=B(R);function B(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function F(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function j(t,e){U(t)&&(t="100%");var n=H(t);return t=u(e,c(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function z(t){return u(1,c(0,t))}function V(t){return parseInt(t,16)}function U(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function H(t){return"string"===typeof t&&-1!=t.indexOf("%")}function W(t){return 1==t.length?"0"+t:""+t}function G(t){return t<=1&&(t=100*t+"%"),t}function q(t){return i.round(255*parseFloat(t)).toString(16)}function $(t){return V(t)/255}var X=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Y(t){return!!X.CSS_UNIT.exec(t)}function Z(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,n=!1;if(R[t])t=R[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=X.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=X.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=X.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=X.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=X.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=X.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=X.hex8.exec(t))?{r:V(e[1]),g:V(e[2]),b:V(e[3]),a:$(e[4]),format:n?"name":"hex8"}:(e=X.hex6.exec(t))?{r:V(e[1]),g:V(e[2]),b:V(e[3]),format:n?"name":"hex"}:(e=X.hex4.exec(t))?{r:V(e[1]+""+e[1]),g:V(e[2]+""+e[2]),b:V(e[3]+""+e[3]),a:$(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=X.hex3.exec(t))&&{r:V(e[1]+""+e[1]),g:V(e[2]+""+e[2]),b:V(e[3]+""+e[3]),format:n?"name":"hex"}}function J(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}t.exports?t.exports=h:(r=function(){return h}.call(e,n,e,t),void 0===r||(t.exports=r))})(Math)},2051:function(t){t.exports=function(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},606:function(t,e,n){"use strict";n(8675),n(3462),n(1703);var r=n(2773),i=n(4784),o=n(2591),a=n(8300);function s(t){return t.call.bind(t)}var l="undefined"!==typeof BigInt,u="undefined"!==typeof Symbol,c=s(Object.prototype.toString),d=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(l)var p=s(BigInt.prototype.valueOf);if(u)var m=s(Symbol.prototype.valueOf);function g(t,e){if("object"!==typeof t)return!1;try{return e(t),!0}catch(n){return!1}}function v(t){return"undefined"!==typeof Promise&&t instanceof Promise||null!==t&&"object"===typeof t&&"function"===typeof t.then&&"function"===typeof t.catch}function y(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):a(t)||V(t)}function b(t){return"Uint8Array"===o(t)}function _(t){return"Uint8ClampedArray"===o(t)}function w(t){return"Uint16Array"===o(t)}function x(t){return"Uint32Array"===o(t)}function S(t){return"Int8Array"===o(t)}function M(t){return"Int16Array"===o(t)}function E(t){return"Int32Array"===o(t)}function T(t){return"Float32Array"===o(t)}function A(t){return"Float64Array"===o(t)}function C(t){return"BigInt64Array"===o(t)}function O(t){return"BigUint64Array"===o(t)}function k(t){return"[object Map]"===c(t)}function P(t){return"undefined"!==typeof Map&&(k.working?k(t):t instanceof Map)}function L(t){return"[object Set]"===c(t)}function I(t){return"undefined"!==typeof Set&&(L.working?L(t):t instanceof Set)}function D(t){return"[object WeakMap]"===c(t)}function R(t){return"undefined"!==typeof WeakMap&&(D.working?D(t):t instanceof WeakMap)}function N(t){return"[object WeakSet]"===c(t)}function B(t){return N(t)}function F(t){return"[object ArrayBuffer]"===c(t)}function j(t){return"undefined"!==typeof ArrayBuffer&&(F.working?F(t):t instanceof ArrayBuffer)}function z(t){return"[object DataView]"===c(t)}function V(t){return"undefined"!==typeof DataView&&(z.working?z(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=i,e.isTypedArray=a,e.isPromise=v,e.isArrayBufferView=y,e.isUint8Array=b,e.isUint8ClampedArray=_,e.isUint16Array=w,e.isUint32Array=x,e.isInt8Array=S,e.isInt16Array=M,e.isInt32Array=E,e.isFloat32Array=T,e.isFloat64Array=A,e.isBigInt64Array=C,e.isBigUint64Array=O,k.working="undefined"!==typeof Map&&k(new Map),e.isMap=P,L.working="undefined"!==typeof Set&&L(new Set),e.isSet=I,D.working="undefined"!==typeof WeakMap&&D(new WeakMap),e.isWeakMap=R,N.working="undefined"!==typeof WeakSet&&N(new WeakSet),e.isWeakSet=B,F.working="undefined"!==typeof ArrayBuffer&&F(new ArrayBuffer),e.isArrayBuffer=j,z.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&z(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=V;var U="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function H(t){return"[object SharedArrayBuffer]"===c(t)}function W(t){return"undefined"!==typeof U&&("undefined"===typeof H.working&&(H.working=H(new U)),H.working?H(t):t instanceof U)}function G(t){return"[object AsyncFunction]"===c(t)}function q(t){return"[object Map Iterator]"===c(t)}function $(t){return"[object Set Iterator]"===c(t)}function X(t){return"[object Generator]"===c(t)}function Y(t){return"[object WebAssembly.Module]"===c(t)}function Z(t){return g(t,d)}function J(t){return g(t,h)}function K(t){return g(t,f)}function Q(t){return l&&g(t,p)}function tt(t){return u&&g(t,m)}function et(t){return Z(t)||J(t)||K(t)||Q(t)||tt(t)}function nt(t){return"undefined"!==typeof Uint8Array&&(j(t)||W(t))}e.isSharedArrayBuffer=W,e.isAsyncFunction=G,e.isMapIterator=q,e.isSetIterator=$,e.isGeneratorObject=X,e.isWebAssemblyCompiledModule=Y,e.isNumberObject=Z,e.isStringObject=J,e.isBooleanObject=K,e.isBigIntObject=Q,e.isSymbolObject=tt,e.isBoxedPrimitive=et,e.isAnyArrayBuffer=nt,["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},9242:function(t,e,n){var r=n(6027),i=n(5941);n(1703);var o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},a=/%[sdj%]/g;e.format=function(t){if(!E(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(a,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),s=r[n];n<i;s=r[++n])x(s)||!O(s)?o+=" "+s:o+=" "+c(s);return o},e.deprecate=function(t,n){if("undefined"!==typeof r&&!0===r.noDeprecation)return t;if("undefined"===typeof r)return function(){return e.deprecate(t,n).apply(this,arguments)};var o=!1;function a(){if(!o){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?i.trace(n):i.error(n),o=!0}return t.apply(this,arguments)}return a};var s={},l=/^$/;if({NODE_ENV:"production",BASE_URL:"/agent0/"}.NODE_DEBUG){var u={NODE_ENV:"production",BASE_URL:"/agent0/"}.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),l=new RegExp("^"+u+"$","i")}function c(t,n){var r={seen:[],stylize:h};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),w(n)?r.showHidden=n:n&&e._extend(r,n),A(r.showHidden)&&(r.showHidden=!1),A(r.depth)&&(r.depth=2),A(r.colors)&&(r.colors=!1),A(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=d),p(r,t,r.depth)}function d(t,e){var n=c.styles[e];return n?"["+c.colors[n][0]+"m"+t+"["+c.colors[n][1]+"m":t}function h(t,e){return t}function f(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}function p(t,n,r){if(t.customInspect&&n&&L(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return E(i)||(i=p(t,i,r)),i}var o=m(t,n);if(o)return o;var a=Object.keys(n),s=f(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),P(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return g(n);if(0===a.length){if(L(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(C(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(P(n))return g(n)}var u,c="",d=!1,h=["{","}"];if(_(n)&&(d=!0,h=["[","]"]),L(n)){var w=n.name?": "+n.name:"";c=" [Function"+w+"]"}return C(n)&&(c=" "+RegExp.prototype.toString.call(n)),k(n)&&(c=" "+Date.prototype.toUTCString.call(n)),P(n)&&(c=" "+g(n)),0!==a.length||d&&0!=n.length?r<0?C(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=d?v(t,n,r,s,a):a.map((function(e){return y(t,n,r,s,e,d)})),t.seen.pop(),b(u,c,h)):h[0]+c+h[1]}function m(t,e){if(A(e))return t.stylize("undefined","undefined");if(E(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return M(e)?t.stylize(""+e,"number"):w(e)?t.stylize(""+e,"boolean"):x(e)?t.stylize("null","null"):void 0}function g(t){return"["+Error.prototype.toString.call(t)+"]"}function v(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)F(e,String(a))?o.push(y(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(y(t,e,n,r,i,!0))})),o}function y(t,e,n,r,i,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),F(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=x(n)?p(t,l.value,null):p(t,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n"))):s=t.stylize("[Circular]","special")),A(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function b(t,e,n){var r=t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function _(t){return Array.isArray(t)}function w(t){return"boolean"===typeof t}function x(t){return null===t}function S(t){return null==t}function M(t){return"number"===typeof t}function E(t){return"string"===typeof t}function T(t){return"symbol"===typeof t}function A(t){return void 0===t}function C(t){return O(t)&&"[object RegExp]"===D(t)}function O(t){return"object"===typeof t&&null!==t}function k(t){return O(t)&&"[object Date]"===D(t)}function P(t){return O(t)&&("[object Error]"===D(t)||t instanceof Error)}function L(t){return"function"===typeof t}function I(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function D(t){return Object.prototype.toString.call(t)}function R(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!s[t])if(l.test(t)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);i.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(606),e.isArray=_,e.isBoolean=w,e.isNull=x,e.isNullOrUndefined=S,e.isNumber=M,e.isString=E,e.isSymbol=T,e.isUndefined=A,e.isRegExp=C,e.types.isRegExp=C,e.isObject=O,e.isDate=k,e.types.isDate=k,e.isError=P,e.types.isNativeError=P,e.isFunction=L,e.isPrimitive=I,e.isBuffer=n(2051);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var t=new Date,e=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function F(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){i.log("%s - %s",B(),e.format.apply(e,arguments))},e.inherits=n(1923),e._extend=function(t,e){if(!e||!O(e))return t;var n=Object.keys(e),r=n.length;while(r--)t[n[r]]=e[n[r]];return t};var j="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function z(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function V(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var i=e.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,e).then((function(t){r.nextTick(a.bind(null,null,t))}),(function(t){r.nextTick(z.bind(null,t,a))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,o(t)),e}e.promisify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(j&&t[j]){var e=t[j];if("function"!==typeof e)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,j,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),j&&Object.defineProperty(e,j,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=j,e.callbackify=V},89:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n}},678:function(t,e,n){"use strict";n.d(e,{PO:function(){return q},p7:function(){return re}});n(6699),n(1703);var r=n(3396),i=n(4870),o=n(5941);
/*!
  * vue-router v4.0.16
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const a="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,s=t=>a?Symbol(t):"_vr_"+t,l=s("rvlm"),u=s("rvd"),c=s("r"),d=s("rl"),h=s("rvl"),f="undefined"!==typeof window;function p(t){return t.__esModule||a&&"Module"===t[Symbol.toStringTag]}const m=Object.assign;function g(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}const v=()=>{};const y=/\/$/,b=t=>t.replace(y,"");function _(t,e,n="/"){let r,i={},o="",a="";const s=e.indexOf("?"),l=e.indexOf("#",s>-1?s:0);return s>-1&&(r=e.slice(0,s),o=e.slice(s+1,l>-1?l:e.length),i=t(o)),l>-1&&(r=r||e.slice(0,l),a=e.slice(l,e.length)),r=C(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function w(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function x(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function S(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&M(e.matched[r],n.matched[i])&&E(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function M(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function E(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!T(t[n],e[n]))return!1;return!0}function T(t,e){return Array.isArray(t)?A(t,e):Array.isArray(e)?A(e,t):t===e}function A(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function C(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,a=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==a&&"."!==o){if(".."!==o)break;a--}return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var O,k;(function(t){t["pop"]="pop",t["push"]="push"})(O||(O={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(k||(k={}));function P(t){if(!t)if(f){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),b(t)}const L=/^[^#]+#/;function I(t,e){return t.replace(L,"#")+e}function D(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const R=()=>({left:window.pageXOffset,top:window.pageYOffset});function N(t){let e;if("el"in t){const n=t.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=D(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function B(t,e){const n=history.state?history.state.position-e:-1;return n+t}const F=new Map;function j(t,e){F.set(t,e)}function z(t){const e=F.get(t);return F.delete(t),e}let V=()=>location.protocol+"//"+location.host;function U(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let e=i.includes(t.slice(o))?t.slice(o).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),x(n,"")}const a=x(n,t);return a+r+i}function H(t,e,n,r){let i=[],o=[],a=null;const s=({state:o})=>{const s=U(t,location),l=n.value,u=e.value;let c=0;if(o){if(n.value=s,e.value=o,a&&a===l)return void(a=null);c=u?o.position-u.position:0}else r(s);i.forEach((t=>{t(n.value,l,{delta:c,type:O.pop,direction:c?c>0?k.forward:k.back:k.unknown})}))};function l(){a=n.value}function u(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e}function c(){const{history:t}=window;t.state&&t.replaceState(m({},t.state,{scroll:R()}),"")}function d(){for(const t of o)t();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:d}}function W(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?R():null}}function G(t){const{history:e,location:n}=window,r={value:U(t,n)},i={value:e.state};function a(r,a,s){const l=t.indexOf("#"),u=l>-1?(n.host&&document.querySelector("base")?t:t.slice(l))+r:V()+t+r;try{e[s?"replaceState":"pushState"](a,"",u),i.value=a}catch(c){o.error(c),n[s?"replace":"assign"](u)}}function s(t,n){const o=m({},e.state,W(i.value.back,t,i.value.forward,!0),n,{position:i.value.position});a(t,o,!0),r.value=t}function l(t,n){const o=m({},i.value,e.state,{forward:t,scroll:R()});a(o.current,o,!0);const s=m({},W(r.value,t,null),{position:o.position+1},n);a(t,s,!1),r.value=t}return i.value||a(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:l,replace:s}}function q(t){t=P(t);const e=G(t),n=H(t,e.state,e.location,e.replace);function r(t,e=!0){e||n.pauseListeners(),history.go(t)}const i=m({location:"",base:t,go:r,createHref:I.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function $(t){return"string"===typeof t||t&&"object"===typeof t}function X(t){return"string"===typeof t||"symbol"===typeof t}const Y={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Z=s("nf");var J;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(J||(J={}));function K(t,e){return m(new Error,{type:t,[Z]:!0},e)}function Q(t,e){return t instanceof Error&&Z in t&&(null==e||!!(t.type&e))}const tt="[^/]+?",et={sensitive:!1,strict:!1,start:!0,end:!0},nt=/[.+*?^${}()[\]/\\]/g;function rt(t,e){const n=m({},et,e),r=[];let i=n.start?"^":"";const o=[];for(const c of t){const t=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let e=0;e<c.length;e++){const r=c[e];let a=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(nt,"\\$&"),a+=40;else if(1===r.type){const{value:t,repeatable:n,optional:s,regexp:l}=r;o.push({name:t,repeatable:n,optional:s});const d=l||tt;if(d!==tt){a+=10;try{new RegExp(`(${d})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${t}" (${d}): `+u.message)}}let h=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;e||(h=s&&c.length<2?`(?:/${h})`:"/"+h),s&&(h+="?"),i+=h,a+=20,s&&(a+=-8),n&&(a+=-20),".*"===d&&(a+=-50)}t.push(a)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function s(t){const e=t.match(a),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=o[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n}function l(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const o of i)if(0===o.type)n+=o.value;else if(1===o.type){const{value:a,repeatable:s,optional:l}=o,u=a in e?e[a]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!l)throw new Error(`Missing required param "${a}"`);i.length<2&&t.length>1&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}return{re:a,score:r,keys:o,parse:s,stringify:l}}function it(t,e){let n=0;while(n<t.length&&n<e.length){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function ot(t,e){let n=0;const r=t.score,i=e.score;while(n<r.length&&n<i.length){const t=it(r[n],i[n]);if(t)return t;n++}if(1===Math.abs(i.length-r.length)){if(at(r))return 1;if(at(i))return-1}return i.length-r.length}function at(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const st={type:0,value:""},lt=/[a-zA-Z0-9_]/;function ut(t){if(!t)return[[]];if("/"===t)return[[st]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${u}": ${t}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s,l=0,u="",c="";function d(){u&&(0===n?o.push({type:0,value:u}):1===n||2===n||3===n?(o.length>1&&("*"===s||"+"===s)&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):e("Invalid state to consume buffer"),u="")}function h(){u+=s}while(l<t.length)if(s=t[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(u&&d(),a()):":"===s?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===s?n=2:lt.test(s)?h():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==c[c.length-1]?c=c.slice(0,-1)+s:n=3:c+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,c="";break;default:e("Unknown state");break}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${u}"`),d(),a(),i}function ct(t,e,n){const r=rt(ut(t.path),n);const i=m(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf===!e.record.aliasOf&&e.children.push(i),i}function dt(t,e){const n=[],r=new Map;function i(t){return r.get(t)}function o(t,n,r){const i=!r,s=ft(t);s.aliasOf=r&&r.record;const u=vt(e,t),c=[s];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)c.push(m({},s,{components:r?r.record.components:s.components,path:t,aliasOf:r?r.record:s}))}let d,h;for(const e of c){const{path:c}=e;if(n&&"/"!==c[0]){const t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(c&&r+c)}if(d=ct(e,n,u),r?r.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),i&&t.name&&!mt(d)&&a(t.name)),"children"in s){const t=s.children;for(let e=0;e<t.length;e++)o(t[e],d,r&&r.children[e])}r=r||d,l(d)}return h?()=>{a(h)}:v}function a(t){if(X(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(a),e.alias.forEach(a))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(a),t.alias.forEach(a))}}function s(){return n}function l(t){let e=0;while(e<n.length&&ot(t,n[e])>=0&&(t.record.path!==n[e].record.path||!yt(t,n[e])))e++;n.splice(e,0,t),t.record.name&&!mt(t)&&r.set(t.record.name,t)}function u(t,e){let i,o,a,s={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw K(1,{location:t});a=i.record.name,s=m(ht(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(s)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(s=i.parse(o),a=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw K(1,{location:t,currentLocation:e});a=i.record.name,s=m({},e.params,t.params),o=i.stringify(s)}const l=[];let u=i;while(u)l.unshift(u.record),u=u.parent;return{name:a,path:o,params:s,matched:l,meta:gt(l)}}return e=vt({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>o(t))),{addRoute:o,resolve:u,removeRoute:a,getRoutes:s,getRecordMatcher:i}}function ht(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function ft(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:pt(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function pt(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]="boolean"===typeof n?n:n[r];return e}function mt(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function gt(t){return t.reduce(((t,e)=>m(t,e.meta)),{})}function vt(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function yt(t,e){return e.children.some((e=>e===t||yt(t,e)))}const bt=/#/g,_t=/&/g,wt=/\//g,xt=/=/g,St=/\?/g,Mt=/\+/g,Et=/%5B/g,Tt=/%5D/g,At=/%5E/g,Ct=/%60/g,Ot=/%7B/g,kt=/%7C/g,Pt=/%7D/g,Lt=/%20/g;function It(t){return encodeURI(""+t).replace(kt,"|").replace(Et,"[").replace(Tt,"]")}function Dt(t){return It(t).replace(Ot,"{").replace(Pt,"}").replace(At,"^")}function Rt(t){return It(t).replace(Mt,"%2B").replace(Lt,"+").replace(bt,"%23").replace(_t,"%26").replace(Ct,"`").replace(Ot,"{").replace(Pt,"}").replace(At,"^")}function Nt(t){return Rt(t).replace(xt,"%3D")}function Bt(t){return It(t).replace(bt,"%23").replace(St,"%3F")}function Ft(t){return null==t?"":Bt(t).replace(wt,"%2F")}function jt(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function zt(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],r=(n?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const t=r[i].replace(Mt," "),n=t.indexOf("="),o=jt(n<0?t:t.slice(0,n)),a=n<0?null:jt(t.slice(n+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(a)}else e[o]=a}return e}function Vt(t){let e="";for(let n in t){const r=t[n];if(n=Nt(n),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}const i=Array.isArray(r)?r.map((t=>t&&Rt(t))):[r&&Rt(r)];i.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Ut(t){const e={};for(const n in t){const r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function Ht(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Wt(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((a,s)=>{const l=t=>{!1===t?s(K(4,{from:n,to:e})):t instanceof Error?s(t):$(t)?s(K(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"===typeof t&&o.push(t),a())},u=t.call(r&&r.instances[i],e,n,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch((t=>s(t)))}))}function Gt(t,e,n,r){const i=[];for(const o of t)for(const t in o.components){let a=o.components[t];if("beforeRouteEnter"===e||o.instances[t])if(qt(a)){const s=a.__vccOpts||a,l=s[e];l&&i.push(Wt(l,n,r,o,t))}else{let s=a();0,i.push((()=>s.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${o.path}"`));const a=p(i)?i.default:i;o.components[t]=a;const s=a.__vccOpts||a,l=s[e];return l&&Wt(l,n,r,o,t)()}))))}}return i}function qt(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function $t(t){const e=(0,r.f3)(c),n=(0,r.f3)(d),o=(0,r.Fl)((()=>e.resolve((0,i.SU)(t.to)))),a=(0,r.Fl)((()=>{const{matched:t}=o.value,{length:e}=t,r=t[e-1],i=n.matched;if(!r||!i.length)return-1;const a=i.findIndex(M.bind(null,r));if(a>-1)return a;const s=Kt(t[e-2]);return e>1&&Kt(r)===s&&i[i.length-1].path!==s?i.findIndex(M.bind(null,t[e-2])):a})),s=(0,r.Fl)((()=>a.value>-1&&Jt(n.params,o.value.params))),l=(0,r.Fl)((()=>a.value>-1&&a.value===n.matched.length-1&&E(n.params,o.value.params)));function u(n={}){return Zt(n)?e[(0,i.SU)(t.replace)?"replace":"push"]((0,i.SU)(t.to)).catch(v):Promise.resolve()}return{route:o,href:(0,r.Fl)((()=>o.value.href)),isActive:s,isExactActive:l,navigate:u}}const Xt=(0,r.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$t,setup(t,{slots:e}){const n=(0,i.qj)($t(t)),{options:o}=(0,r.f3)(c),a=(0,r.Fl)((()=>({[Qt(t.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Qt(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=e.default&&e.default(n);return t.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),Yt=Xt;function Zt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Jt(t,e){for(const n in e){const r=e[n],i=t[n];if("string"===typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}function Kt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Qt=(t,e,n)=>null!=t?t:null!=e?e:n,te=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const o=(0,r.f3)(h),a=(0,r.Fl)((()=>t.route||o.value)),s=(0,r.f3)(u,0),c=(0,r.Fl)((()=>a.value.matched[s]));(0,r.JJ)(u,s+1),(0,r.JJ)(l,c),(0,r.JJ)(h,a);const d=(0,i.iH)();return(0,r.YP)((()=>[d.value,c.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&M(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=a.value,o=c.value,s=o&&o.components[t.name],l=t.name;if(!s)return ee(n.default,{Component:s,route:i});const u=o.props[t.name],h=u?!0===u?i.params:"function"===typeof u?u(i):u:null,f=t=>{t.component.isUnmounted&&(o.instances[l]=null)},p=(0,r.h)(s,m({},h,e,{onVnodeUnmounted:f,ref:d}));return ee(n.default,{Component:p,route:i})||p}}});function ee(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const ne=te;function re(t){const e=dt(t.routes,t),n=t.parseQuery||zt,a=t.stringifyQuery||Vt,s=t.history;const l=Ht(),u=Ht(),p=Ht(),y=(0,i.XI)(Y);let b=Y;f&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const x=g.bind(null,(t=>""+t)),M=g.bind(null,Ft),E=g.bind(null,jt);function T(t,n){let r,i;return X(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)}function A(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function C(){return e.getRoutes().map((t=>t.record))}function k(t){return!!e.getRecordMatcher(t)}function P(t,r){if(r=m({},r||y.value),"string"===typeof t){const i=_(n,t,r.path),o=e.resolve({path:i.path},r),a=s.createHref(i.fullPath);return m(i,o,{params:E(o.params),hash:jt(i.hash),redirectedFrom:void 0,href:a})}let i;if("path"in t)i=m({},t,{path:_(n,t.path,r.path).path});else{const e=m({},t.params);for(const t in e)null==e[t]&&delete e[t];i=m({},t,{params:M(t.params)}),r.params=M(r.params)}const o=e.resolve(i,r),l=t.hash||"";o.params=x(E(o.params));const u=w(a,m({},t,{hash:Dt(l),path:o.path})),c=s.createHref(u);return m({fullPath:u,hash:l,query:a===Vt?Ut(t.query):t.query||{}},o,{redirectedFrom:void 0,href:c})}function L(t){return"string"===typeof t?_(n,t,y.value.path):m({},t)}function I(t,e){if(b!==t)return K(8,{from:e,to:t})}function D(t){return U(t)}function F(t){return D(m(L(t),{replace:!0}))}function V(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"===typeof n?n(t):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=L(r):{path:r},r.params={}),m({query:t.query,hash:t.hash,params:t.params},r)}}function U(t,e){const n=b=P(t),r=y.value,i=t.state,o=t.force,s=!0===t.replace,l=V(n);if(l)return U(m(L(l),{state:i,force:o,replace:s}),e||n);const u=n;let c;return u.redirectedFrom=e,!o&&S(a,r,n)&&(c=K(16,{to:u,from:r}),ot(r,r,!0,!1)),(c?Promise.resolve(c):W(u,r)).catch((t=>Q(t)?Q(t,2)?t:it(t):nt(t,u,r))).then((t=>{if(t){if(Q(t,2))return U(m(L(t.to),{state:i,force:o,replace:s}),e||u)}else t=q(u,r,!0,s,i);return G(u,r,t),t}))}function H(t,e){const n=I(t,e);return n?Promise.reject(n):Promise.resolve()}function W(t,e){let n;const[r,i,o]=oe(t,e);n=Gt(r.reverse(),"beforeRouteLeave",t,e);for(const s of r)s.leaveGuards.forEach((r=>{n.push(Wt(r,t,e))}));const a=H.bind(null,t,e);return n.push(a),ie(n).then((()=>{n=[];for(const r of l.list())n.push(Wt(r,t,e));return n.push(a),ie(n)})).then((()=>{n=Gt(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(Wt(r,t,e))}));return n.push(a),ie(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&!e.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Wt(i,t,e));else n.push(Wt(r.beforeEnter,t,e));return n.push(a),ie(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Gt(o,"beforeRouteEnter",t,e),n.push(a),ie(n)))).then((()=>{n=[];for(const r of u.list())n.push(Wt(r,t,e));return n.push(a),ie(n)})).catch((t=>Q(t,8)?t:Promise.reject(t)))}function G(t,e,n){for(const r of p.list())r(t,e,n)}function q(t,e,n,r,i){const o=I(t,e);if(o)return o;const a=e===Y,l=f?history.state:{};n&&(r||a?s.replace(t.fullPath,m({scroll:a&&l&&l.scroll},i)):s.push(t.fullPath,i)),y.value=t,ot(t,e,n,a),it()}let $;function Z(){$||($=s.listen(((t,e,n)=>{const r=P(t),i=V(r);if(i)return void U(m(i,{replace:!0}),r).catch(v);b=r;const o=y.value;f&&j(B(o.fullPath,n.delta),R()),W(r,o).catch((t=>Q(t,12)?t:Q(t,2)?(U(t.to,r).then((t=>{Q(t,20)&&!n.delta&&n.type===O.pop&&s.go(-1,!1)})).catch(v),Promise.reject()):(n.delta&&s.go(-n.delta,!1),nt(t,r,o)))).then((t=>{t=t||q(r,o,!1),t&&(n.delta?s.go(-n.delta,!1):n.type===O.pop&&Q(t,20)&&s.go(-1,!1)),G(r,o,t)})).catch(v)})))}let J,tt=Ht(),et=Ht();function nt(t,e,n){it(t);const r=et.list();return r.length?r.forEach((r=>r(t,e,n))):o.error(t),Promise.reject(t)}function rt(){return J&&y.value!==Y?Promise.resolve():new Promise(((t,e)=>{tt.add([t,e])}))}function it(t){return J||(J=!t,Z(),tt.list().forEach((([e,n])=>t?n(t):e())),tt.reset()),t}function ot(e,n,i,o){const{scrollBehavior:a}=t;if(!f||!a)return Promise.resolve();const s=!i&&z(B(e.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>a(e,n,s))).then((t=>t&&N(t))).catch((t=>nt(t,e,n)))}const at=t=>s.go(t);let st;const lt=new Set,ut={currentRoute:y,addRoute:T,removeRoute:A,hasRoute:k,getRoutes:C,resolve:P,options:t,push:D,replace:F,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:l.add,beforeResolve:u.add,afterEach:p.add,onError:et.add,isReady:rt,install(t){const e=this;t.component("RouterLink",Yt),t.component("RouterView",ne),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(y)}),f&&!st&&y.value===Y&&(st=!0,D(s.location).catch((t=>{0})));const n={};for(const i in Y)n[i]=(0,r.Fl)((()=>y.value[i]));t.provide(c,e),t.provide(d,(0,i.qj)(n)),t.provide(h,y);const o=t.unmount;lt.add(t),t.unmount=function(){lt.delete(t),lt.size<1&&(b=Y,$&&$(),$=null,y.value=Y,st=!1,J=!1),o()}}};return ut}function ie(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function oe(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let a=0;a<o;a++){const o=e.matched[a];o&&(t.matched.find((t=>M(t,o)))?r.push(o):n.push(o));const s=t.matched[a];s&&(e.matched.find((t=>M(t,s)))||i.push(s))}return[n,r,i]}},65:function(t,e,n){"use strict";n.d(e,{MT:function(){return tt}});n(1703),n(6699);var r=n(3396),i=n(4870);function o(){return a().__VUE_DEVTOOLS_GLOBAL_HOOK__}function a(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const s="function"===typeof Proxy,l="devtools-plugin:setup",u="plugin:settings:set";let c,d;function h(){var t;return void 0!==c||("undefined"!==typeof window&&window.performance?(c=!0,d=window.performance):"undefined"!==typeof n.g&&(null===(t=n.g.perf_hooks)||void 0===t?void 0:t.performance)?(c=!0,d=n.g.perf_hooks.performance):c=!1),c}function f(){return h()?d.now():Date.now()}class p{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const a in t.settings){const e=t.settings[a];n[a]=e.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},n);try{const t=localStorage.getItem(r),e=JSON.parse(t);Object.assign(i,e)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(t){try{localStorage.setItem(r,JSON.stringify(t))}catch(o){}i=t},now(){return f()}},e&&e.on(u,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function m(t,e){const n=t,r=a(),i=o(),u=s&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&u){const t=u?new p(n,i):null,o=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];o.push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else i.emit(l,t,e)}n(5941);
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var g="store";function v(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function y(t){return null!==t&&"object"===typeof t}function b(t){return t&&"function"===typeof t.then}function _(t,e){return function(){return t(e)}}function w(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function x(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;M(t,n,[],t._modules.root,!0),S(t,n,e)}function S(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,a={};v(o,(function(e,n){a[n]=_(e,t),Object.defineProperty(t.getters,n,{get:function(){return a[n]()},enumerable:!0})})),t._state=(0,i.qj)({data:e}),t.strict&&k(t),r&&n&&t._withCommit((function(){r.data=null}))}function M(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!o&&!i){var s=P(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){s[l]=r.state}))}var u=r.context=E(t,a,n);r.forEachMutation((function(e,n){var r=a+n;A(t,r,e,u)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,i=e.handler||e;C(t,r,i,u)})),r.forEachGetter((function(e,n){var r=a+n;O(t,r,e,u)})),r.forEachChild((function(r,o){M(t,e,n.concat(o),r,i)}))}function E(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=L(n,r,i),a=o.payload,s=o.options,l=o.type;return s&&s.root||(l=e+l),t.dispatch(l,a)},commit:r?t.commit:function(n,r,i){var o=L(n,r,i),a=o.payload,s=o.options,l=o.type;s&&s.root||(l=e+l),t.commit(l,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return T(t,e)}},state:{get:function(){return P(t.state,n)}}}),i}function T(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function A(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function C(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return b(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function O(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function k(t){(0,r.YP)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function P(t,e){return e.reduce((function(t,e){return t[e]}),t)}function L(t,e,n){return y(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var I="vuex bindings",D="vuex:mutations",R="vuex:actions",N="vuex",B=0;function F(t,e){m({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[I]},(function(n){n.addTimelineLayer({id:D,label:"Vuex Mutations",color:j}),n.addTimelineLayer({id:R,label:"Vuex Actions",color:j}),n.addInspector({id:N,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===t&&n.inspectorId===N)if(n.filter){var r=[];G(r,e._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[W(e._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===t&&n.inspectorId===N){var r=n.nodeId;T(e,r),n.state=q(X(e._modules,r),"root"===r?e.getters:e._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===t&&n.inspectorId===N){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),e._withCommit((function(){n.set(e._state.data,i,n.state.value)}))}})),e.subscribe((function(t,e){var r={};t.payload&&(r.payload=t.payload),r.state=e,n.notifyComponentUpdate(),n.sendInspectorTree(N),n.sendInspectorState(N),n.addTimelineEvent({layerId:D,event:{time:Date.now(),title:t.type,data:r}})})),e.subscribeAction({before:function(t,e){var r={};t.payload&&(r.payload=t.payload),t._id=B++,t._time=Date.now(),r.state=e,n.addTimelineEvent({layerId:R,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:r}})},after:function(t,e){var r={},i=Date.now()-t._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},t.payload&&(r.payload=t.payload),r.state=e,n.addTimelineEvent({layerId:R,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:r}})}})}))}var j=8702998,z=6710886,V=16777215,U={label:"namespaced",textColor:V,backgroundColor:z};function H(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function W(t,e){return{id:e||"root",label:H(e),tags:t.namespaced?[U]:[],children:Object.keys(t._children).map((function(n){return W(t._children[n],e+n+"/")}))}}function G(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[U]:[]}),Object.keys(e._children).forEach((function(i){G(t,e._children[i],n,r+i+"/")}))}function q(t,e,n){e="root"===n?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(r.length){var o=$(e);i.getters=Object.keys(o).map((function(t){return{key:t.endsWith("/")?H(t):t,editable:!1,value:Y((function(){return o[t]}))}}))}return i}function $(t){var e={};return Object.keys(t).forEach((function(n){var r=n.split("/");if(r.length>1){var i=e,o=r.pop();r.forEach((function(t){i[t]||(i[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),i=i[t]._custom.value})),i[o]=Y((function(){return t[n]}))}else e[n]=Y((function(){return t[n]}))})),e}function X(t,e){var n=e.split("/").filter((function(t){return t}));return n.reduce((function(t,r,i){var o=t[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+e+'".');return i===n.length-1?o:o._children}),"root"===e?t:t.root._children)}function Y(t){try{return t()}catch(e){return e}}var Z=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},J={namespaced:{configurable:!0}};J.namespaced.get=function(){return!!this._rawModule.namespaced},Z.prototype.addChild=function(t,e){this._children[t]=e},Z.prototype.removeChild=function(t){delete this._children[t]},Z.prototype.getChild=function(t){return this._children[t]},Z.prototype.hasChild=function(t){return t in this._children},Z.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Z.prototype.forEachChild=function(t){v(this._children,t)},Z.prototype.forEachGetter=function(t){this._rawModule.getters&&v(this._rawModule.getters,t)},Z.prototype.forEachAction=function(t){this._rawModule.actions&&v(this._rawModule.actions,t)},Z.prototype.forEachMutation=function(t){this._rawModule.mutations&&v(this._rawModule.mutations,t)},Object.defineProperties(Z.prototype,J);var K=function(t){this.register([],t,!1)};function Q(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;Q(t.concat(r),e.getChild(r),n.modules[r])}}K.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},K.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},K.prototype.update=function(t){Q([],this.root,t)},K.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new Z(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&v(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},K.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},K.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};function tt(t){return new et(t)}var et=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new K(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,a=this,s=a.dispatch,l=a.commit;this.dispatch=function(t,e){return s.call(o,t,e)},this.commit=function(t,e,n){return l.call(o,t,e,n)},this.strict=r;var u=this._modules.root.state;M(this,u,[],this._modules.root),S(this,u),n.forEach((function(t){return t(e)}))},nt={state:{configurable:!0}};et.prototype.install=function(t,e){t.provide(e||g,this),t.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&F(t,this)},nt.state.get=function(){return this._state.data},nt.state.set=function(t){0},et.prototype.commit=function(t,e,n){var r=this,i=L(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(s,r.state)})))},et.prototype.dispatch=function(t,e){var n=this,r=L(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(u){0}var l=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(u){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,n.state,t)}))}catch(u){0}e(t)}))}))}},et.prototype.subscribe=function(t,e){return w(t,this._subscribers,e)},et.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return w(n,this._actionSubscribers,e)},et.prototype.watch=function(t,e,n){var i=this;return(0,r.YP)((function(){return t(i.state,i.getters)}),e,Object.assign({},n))},et.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},et.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),M(this,this.state,t,this._modules.get(t),n.preserveState),S(this,this.state)},et.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=P(e.state,t.slice(0,-1));delete n[t[t.length-1]]})),x(this)},et.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},et.prototype.hotUpdate=function(t){this._modules.update(t),x(this,!0)},et.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(et.prototype,nt);ot((function(t,e){var n={};return rt(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=at(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),ot((function(t,e){var n={};return rt(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=at(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),ot((function(t,e){var n={};return rt(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||at(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),ot((function(t,e){var n={};return rt(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=at(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n}));function rt(t){return it(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function it(t){return Array.isArray(t)||y(t)}function ot(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function at(t,e,n){var r=t._modulesNamespaceMap[n];return r}},2591:function(t,e,n){"use strict";var r=n(2979),i=n(4647),o=n(5477),a=o("Object.prototype.toString"),s=n(2582)(),l="undefined"===typeof globalThis?n.g:globalThis,u=i(),c=o("String.prototype.slice"),d={},h=n(2762),f=Object.getPrototypeOf;s&&h&&f&&r(u,(function(t){if("function"===typeof l[t]){var e=new l[t];if(Symbol.toStringTag in e){var n=f(e),r=h(n,Symbol.toStringTag);if(!r){var i=f(n);r=h(i,Symbol.toStringTag)}d[t]=r.get}}}));var p=function(t){var e=!1;return r(d,(function(n,r){if(!e)try{var i=n.call(t);i===r&&(e=i)}catch(o){}})),e},m=n(8300);t.exports=function(t){return!!m(t)&&(s&&Symbol.toStringTag in t?p(t):c(a(t),8,-1))}},4647:function(t,e,n){"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"===typeof globalThis?n.g:globalThis;t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"===typeof i[r[e]]&&(t[t.length]=r[e]);return t}},2762:function(t,e,n){"use strict";var r=n(8692),i=r("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(o){i=null}t.exports=i},2482:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},1114:function(t,e,n){"use strict";n.d(e,{$V:function(){return bh},Aip:function(){return pd},CP7:function(){return sc},DvJ:function(){return hi},FE5:function(){return gd},FM8:function(){return Ue},Ilk:function(){return nn},JOQ:function(){return Oi},Kgo:function(){return fd},Kj0:function(){return ui},Lcc:function(){return vd},Mig:function(){return eh},Ox3:function(){return th},Pa4:function(){return mn},QmN:function(){return a},RsA:function(){return o},SUY:function(){return nh},TlE:function(){return Dr},Tme:function(){return vr},XvJ:function(){return md},YBo:function(){return Ed},ZAu:function(){return tc},ZzF:function(){return yn},_3:function(){return dd},_Li:function(){return p},_fP:function(){return pn},a$l:function(){return Br},b_z:function(){return dd},cPb:function(){return _i},dd2:function(){return dn},dpR:function(){return $d},fHI:function(){return cd},iKG:function(){return ws},iMs:function(){return gh},jyi:function(){return Ac},jyz:function(){return yi},mXe:function(){return sd},m_w:function(){return cd},nls:function(){return Oc},pBf:function(){return Le},rDY:function(){return mi},u9r:function(){return Gr},vBJ:function(){return Pr},wem:function(){return pt},x12:function(){return Rc},xEZ:function(){return un},xeV:function(){return fc},xo$:function(){return pd},xsS:function(){return uc},yGw:function(){return qn},yj7:function(){return rd}});n(8675),n(3462),n(1703),n(2262),n(4506);var r=n(5941);
/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const i="141",o={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},a={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s=0,l=1,u=2,c=1,d=2,h=3,f=0,p=1,m=2,g=1,v=0,y=1,b=2,_=3,w=4,x=5,S=100,M=101,E=102,T=103,A=104,C=200,O=201,k=202,P=203,L=204,I=205,D=206,R=207,N=208,B=209,F=210,j=0,z=1,V=2,U=3,H=4,W=5,G=6,q=7,$=0,X=1,Y=2,Z=0,J=1,K=2,Q=3,tt=4,et=5,nt=300,rt=301,it=302,ot=303,at=304,st=306,lt=1e3,ut=1001,ct=1002,dt=1003,ht=1004,ft=1005,pt=1006,mt=1007,gt=1008,vt=1009,yt=1010,bt=1011,_t=1012,wt=1013,xt=1014,St=1015,Mt=1016,Et=1017,Tt=1018,At=1020,Ct=1021,Ot=1022,kt=1023,Pt=1024,Lt=1025,It=1026,Dt=1027,Rt=1028,Nt=1029,Bt=1030,Ft=1031,jt=1033,zt=33776,Vt=33777,Ut=33778,Ht=33779,Wt=35840,Gt=35841,qt=35842,$t=35843,Xt=36196,Yt=37492,Zt=37496,Jt=37808,Kt=37809,Qt=37810,te=37811,ee=37812,ne=37813,re=37814,ie=37815,oe=37816,ae=37817,se=37818,le=37819,ue=37820,ce=37821,de=36492,he=2300,fe=2301,pe=2302,me=2400,ge=2401,ve=2402,ye=2501,be=3e3,_e=3001,we=3200,xe=3201,Se=0,Me=1,Ee="srgb",Te="srgb-linear",Ae=7680,Ce=519,Oe=35044,ke="300 es",Pe=1035;class Le{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners,r=n[t];if(void 0!==r){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;const e=n.slice(0);for(let n=0,r=e.length;n<r;n++)e[n].call(this,t);t.target=null}}}const Ie=[];for(let Th=0;Th<256;Th++)Ie[Th]=(Th<16?"0":"")+Th.toString(16);const De=Math.PI/180,Re=180/Math.PI;function Ne(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=Ie[255&t]+Ie[t>>8&255]+Ie[t>>16&255]+Ie[t>>24&255]+"-"+Ie[255&e]+Ie[e>>8&255]+"-"+Ie[e>>16&15|64]+Ie[e>>24&255]+"-"+Ie[63&n|128]+Ie[n>>8&255]+"-"+Ie[n>>16&255]+Ie[n>>24&255]+Ie[255&r]+Ie[r>>8&255]+Ie[r>>16&255]+Ie[r>>24&255];return i.toLowerCase()}function Be(t,e,n){return Math.max(e,Math.min(n,t))}function Fe(t,e){return(t%e+e)%e}function je(t,e,n){return(1-n)*t+n*e}function ze(t){return 0===(t&t-1)&&0!==t}function Ve(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}class Ue{constructor(t=0,e=0){this.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(r.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(r.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){const t=Math.atan2(-this.y,-this.x)+Math.PI;return t}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&r.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class He{constructor(){this.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&r.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,i,o,a,s,l){const u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],_=r[2],w=r[5],x=r[8];return i[0]=o*p+a*v+s*_,i[3]=o*m+a*y+s*w,i[6]=o*g+a*b+s*x,i[1]=l*p+u*v+c*_,i[4]=l*m+u*y+c*w,i[7]=l*g+u*b+c*x,i[2]=d*p+h*v+f*_,i[5]=d*m+h*y+f*w,i[8]=d*g+h*b+f*x,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*o*u-e*a*l-n*i*u+n*a*s+r*i*l-r*o*s}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=u*o-a*l,d=a*s-u*i,h=l*i-o*s,f=e*c+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return t[0]=c*p,t[1]=(r*l-u*n)*p,t[2]=(a*n-r*o)*p,t[3]=d*p,t[4]=(u*e-r*s)*p,t[5]=(r*i-a*e)*p,t[6]=h*p,t[7]=(n*s-l*e)*p,t[8]=(o*e-n*i)*p,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+t,-r*l,r*s,-r*(-l*o+s*a)+a+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],l=r[4],u=r[7];return r[0]=e*i+n*s,r[3]=e*o+n*l,r[6]=e*a+n*u,r[1]=-n*i+e*s,r[4]=-n*o+e*l,r[7]=-n*a+e*u,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}function We(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function Ge(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function qe(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function $e(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}const Xe={[Ee]:{[Te]:qe},[Te]:{[Ee]:$e}},Ye={legacyMode:!0,get workingColorSpace(){return Te},set workingColorSpace(t){r.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(Xe[e]&&void 0!==Xe[e][n]){const r=Xe[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},Ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Je={r:0,g:0,b:0},Ke={h:0,s:0,l:0},Qe={h:0,s:0,l:0};function tn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function en(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class nn{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Ee){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Ye.toWorkingColorSpace(this,e),this}setRGB(t,e,n,r=Te){return this.r=t,this.g=e,this.b=n,Ye.toWorkingColorSpace(this,r),this}setHSL(t,e,n,r=Te){if(t=Fe(t,1),e=Be(e,0,1),n=Be(n,0,1),0===e)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+e):n+e-n*e,i=2*n-r;this.r=tn(i,r,t+1/3),this.g=tn(i,r,t),this.b=tn(i,r,t-1/3)}return Ye.toWorkingColorSpace(this,r),this}setStyle(t,e=Ee){function n(e){void 0!==e&&parseFloat(e)<1&&r.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let t;const r=i[1],o=i[2];switch(r){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,Ye.toWorkingColorSpace(this,e),n(t[4]),this;if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,Ye.toWorkingColorSpace(this,e),n(t[4]),this;break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const r=parseFloat(t[1])/360,i=parseInt(t[2],10)/100,o=parseInt(t[3],10)/100;return n(t[4]),this.setHSL(r,i,o,e)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=i[1],n=t.length;if(3===n)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,Ye.toWorkingColorSpace(this,e),this;if(6===n)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,Ye.toWorkingColorSpace(this,e),this}return t&&t.length>0?this.setColorName(t,e):this}setColorName(t,e=Ee){const n=Ze[t.toLowerCase()];return void 0!==n?this.setHex(n,e):r.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=qe(t.r),this.g=qe(t.g),this.b=qe(t.b),this}copyLinearToSRGB(t){return this.r=$e(t.r),this.g=$e(t.g),this.b=$e(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Ee){return Ye.fromWorkingColorSpace(en(this,Je),t),Be(255*Je.r,0,255)<<16^Be(255*Je.g,0,255)<<8^Be(255*Je.b,0,255)<<0}getHexString(t=Ee){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Te){Ye.fromWorkingColorSpace(en(this,Je),e);const n=Je.r,r=Je.g,i=Je.b,o=Math.max(n,r,i),a=Math.min(n,r,i);let s,l;const u=(a+o)/2;if(a===o)s=0,l=0;else{const t=o-a;switch(l=u<=.5?t/(o+a):t/(2-o-a),o){case n:s=(r-i)/t+(r<i?6:0);break;case r:s=(i-n)/t+2;break;case i:s=(n-r)/t+4;break}s/=6}return t.h=s,t.s=l,t.l=u,t}getRGB(t,e=Te){return Ye.fromWorkingColorSpace(en(this,Je),e),t.r=Je.r,t.g=Je.g,t.b=Je.b,t}getStyle(t=Ee){return Ye.fromWorkingColorSpace(en(this,Je),t),t!==Ee?`color(${t} ${Je.r} ${Je.g} ${Je.b})`:`rgb(${255*Je.r|0},${255*Je.g|0},${255*Je.b|0})`}offsetHSL(t,e,n){return this.getHSL(Ke),Ke.h+=t,Ke.s+=e,Ke.l+=n,this.setHSL(Ke.h,Ke.s,Ke.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Ke),t.getHSL(Qe);const n=je(Ke.h,Qe.h,e),r=je(Ke.s,Qe.s,e),i=je(Ke.l,Qe.l,e);return this.setHSL(n,r,i),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let rn;nn.NAMES=Ze;class on{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===rn&&(rn=Ge("canvas")),rn.width=t.width,rn.height=t.height;const n=rn.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=rn}return e.width>2048||e.height>2048?(r.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){const e=Ge("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),i=r.data;for(let t=0;t<i.length;t++)i[t]=255*qe(i[t]/255);return n.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*qe(e[t]/255)):e[t]=qe(e[t]);return{data:e,width:t.width,height:t.height}}return r.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class an{constructor(t=null){this.isSource=!0,this.uuid=Ne(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let t;if(Array.isArray(r)){t=[];for(let e=0,n=r.length;e<n;e++)r[e].isDataTexture?t.push(sn(r[e].image)):t.push(sn(r[e]))}else t=sn(r);n.url=t}return e||(t.images[this.uuid]=n),n}}function sn(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?on.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(r.warn("THREE.Texture: Unable to serialize Texture."),{})}let ln=0;class un extends Le{constructor(t=un.DEFAULT_IMAGE,e=un.DEFAULT_MAPPING,n=ut,r=ut,i=pt,o=gt,a=kt,s=vt,l=1,u=be){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ln++}),this.uuid=Ne(),this.name="",this.source=new an(t),this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new Ue(0,0),this.repeat=new Ue(1,1),this.center=new Ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new He,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==nt)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case lt:t.x=t.x-Math.floor(t.x);break;case ut:t.x=t.x<0?0:1;break;case ct:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case lt:t.y=t.y-Math.floor(t.y);break;case ut:t.y=t.y<0?0:1;break;case ct:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}un.DEFAULT_IMAGE=null,un.DEFAULT_MAPPING=nt;class cn{constructor(t=0,e=0,n=0,r=1){this.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(r.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(r.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,i;const o=.01,a=.1,s=t.elements,l=s[0],u=s[4],c=s[8],d=s[1],h=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(u-d)<o&&Math.abs(c-p)<o&&Math.abs(f-m)<o){if(Math.abs(u+d)<a&&Math.abs(c+p)<a&&Math.abs(f+m)<a&&Math.abs(l+h+g-3)<a)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,s=(h+1)/2,v=(g+1)/2,y=(u+d)/4,b=(c+p)/4,_=(f+m)/4;return t>s&&t>v?t<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(t),r=y/n,i=b/n):s>v?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=_/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=_/i),this.set(n,r,i,e),this}let v=Math.sqrt((m-f)*(m-f)+(c-p)*(c-p)+(d-u)*(d-u));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(c-p)/v,this.z=(d-u)/v,this.w=Math.acos((l+h+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&r.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class dn extends Le{constructor(t,e,n={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new cn(0,0,t,e),this.scissorTest=!1,this.viewport=new cn(0,0,t,e);const r={width:t,height:e,depth:1};this.texture=new un(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:pt,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(t,e,n=1){this.width===t&&this.height===e&&this.depth===n||(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new an(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hn extends un{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=dt,this.minFilter=dt,this.wrapR=ut,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fn extends un{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=dt,this.minFilter=dt,this.wrapR=ut,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pn{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerp(t,e,n,i){return r.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,i)}static slerpFlat(t,e,n,r,i,o,a){let s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3];const d=i[o+0],h=i[o+1],f=i[o+2],p=i[o+3];if(0===a)return t[e+0]=s,t[e+1]=l,t[e+2]=u,void(t[e+3]=c);if(1===a)return t[e+0]=d,t[e+1]=h,t[e+2]=f,void(t[e+3]=p);if(c!==p||s!==d||l!==h||u!==f){let t=1-a;const e=s*d+l*h+u*f+c*p,n=e>=0?1:-1,r=1-e*e;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,e*n);t=Math.sin(t*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*t+d*i,l=l*t+h*i,u=u*t+f*i,c=c*t+p*i,t===1-a){const t=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=t,l*=t,u*=t,c*=t}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}static multiplyQuaternionsFlat(t,e,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[o],d=i[o+1],h=i[o+2],f=i[o+3];return t[e]=a*f+u*c+s*h-l*d,t[e+1]=s*f+u*d+l*c-a*h,t[e+2]=l*f+u*h+a*d-s*c,t[e+3]=u*f-a*c-s*d-l*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,i=t._y,o=t._z,a=t._order,s=Math.cos,l=Math.sin,u=s(n/2),c=s(i/2),d=s(o/2),h=l(n/2),f=l(i/2),p=l(o/2);switch(a){case"XYZ":this._x=h*c*d+u*f*p,this._y=u*f*d-h*c*p,this._z=u*c*p+h*f*d,this._w=u*c*d-h*f*p;break;case"YXZ":this._x=h*c*d+u*f*p,this._y=u*f*d-h*c*p,this._z=u*c*p-h*f*d,this._w=u*c*d+h*f*p;break;case"ZXY":this._x=h*c*d-u*f*p,this._y=u*f*d+h*c*p,this._z=u*c*p+h*f*d,this._w=u*c*d-h*f*p;break;case"ZYX":this._x=h*c*d-u*f*p,this._y=u*f*d+h*c*p,this._z=u*c*p-h*f*d,this._w=u*c*d+h*f*p;break;case"YZX":this._x=h*c*d+u*f*p,this._y=u*f*d+h*c*p,this._z=u*c*p-h*f*d,this._w=u*c*d-h*f*p;break;case"XZY":this._x=h*c*d-u*f*p,this._y=u*f*d-h*c*p,this._z=u*c*p+h*f*d,this._w=u*c*d+h*f*p;break;default:r.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],i=e[8],o=e[1],a=e[5],s=e[9],l=e[2],u=e[6],c=e[10],d=n+a+c;if(d>0){const t=.5/Math.sqrt(d+1);this._w=.25/t,this._x=(u-s)*t,this._y=(i-l)*t,this._z=(o-r)*t}else if(n>a&&n>c){const t=2*Math.sqrt(1+n-a-c);this._w=(u-s)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(i+l)/t}else if(a>c){const t=2*Math.sqrt(1+a-n-c);this._w=(i-l)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(s+u)/t}else{const t=2*Math.sqrt(1+c-n-a);this._w=(o-r)/t,this._x=(i+l)/t,this._y=(s+u)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Be(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(r.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+o*a+r*l-i*s,this._y=r*u+o*s+i*a-n*l,this._z=i*u+o*l+n*s-r*a,this._w=o*u-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*r+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),u=Math.atan2(l,a),c=Math.sin((1-e)*u)/l,d=Math.sin(e*u)/l;return this._w=o*c+this._w*d,this._x=n*c+this._x*d,this._y=r*c+this._y*d,this._z=i*c+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(e*Math.cos(r),n*Math.sin(i),n*Math.cos(i),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class mn{constructor(t=0,e=0,n=0){this.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(r.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(r.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(r.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||r.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(vn.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(vn.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,l=s*e+o*r-a*n,u=s*n+a*e-i*r,c=s*r+i*n-o*e,d=-i*e-o*n-a*r;return this.x=l*s+d*-i+u*-a-c*-o,this.y=u*s+d*-o+c*-i-l*-a,this.z=c*s+d*-a+l*-o-u*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(r.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return gn.copy(this).projectOnVector(t),this.sub(gn)}reflect(t){return this.sub(gn.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Be(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&r.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gn=new mn,vn=new pn;class yn{constructor(t=new mn(1/0,1/0,1/0),e=new mn(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,l=t.length;s<l;s+=3){const l=t[s],u=t[s+1],c=t[s+2];l<e&&(e=l),u<n&&(n=u),c<r&&(r=c),l>i&&(i=l),u>o&&(o=u),c>a&&(a=c)}return this.min.set(e,n,r),this.max.set(i,o,a),this}setFromBufferAttribute(t){let e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,l=t.count;s<l;s++){const l=t.getX(s),u=t.getY(s),c=t.getZ(s);l<e&&(e=l),u<n&&(n=u),c<r&&(r=c),l>i&&(i=l),u>o&&(o=u),c>a&&(a=c)}return this.min.set(e,n,r),this.max.set(i,o,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=_n.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n)if(e&&void 0!=n.attributes&&void 0!==n.attributes.position){const e=n.attributes.position;for(let n=0,r=e.count;n<r;n++)_n.fromBufferAttribute(e,n).applyMatrix4(t.matrixWorld),this.expandByPoint(_n)}else null===n.boundingBox&&n.computeBoundingBox(),wn.copy(n.boundingBox),wn.applyMatrix4(t.matrixWorld),this.union(wn);const r=t.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,_n),_n.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Cn),On.subVectors(this.max,Cn),xn.subVectors(t.a,Cn),Sn.subVectors(t.b,Cn),Mn.subVectors(t.c,Cn),En.subVectors(Sn,xn),Tn.subVectors(Mn,Sn),An.subVectors(xn,Mn);let e=[0,-En.z,En.y,0,-Tn.z,Tn.y,0,-An.z,An.y,En.z,0,-En.x,Tn.z,0,-Tn.x,An.z,0,-An.x,-En.y,En.x,0,-Tn.y,Tn.x,0,-An.y,An.x,0];return!!Ln(e,xn,Sn,Mn,On)&&(e=[1,0,0,0,1,0,0,0,1],!!Ln(e,xn,Sn,Mn,On)&&(kn.crossVectors(En,Tn),e=[kn.x,kn.y,kn.z],Ln(e,xn,Sn,Mn,On)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){const e=_n.copy(t).clamp(this.min,this.max);return e.sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(_n).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(bn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),bn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),bn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),bn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),bn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),bn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),bn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),bn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(bn)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const bn=[new mn,new mn,new mn,new mn,new mn,new mn,new mn,new mn],_n=new mn,wn=new yn,xn=new mn,Sn=new mn,Mn=new mn,En=new mn,Tn=new mn,An=new mn,Cn=new mn,On=new mn,kn=new mn,Pn=new mn;function Ln(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){Pn.fromArray(t,o);const a=i.x*Math.abs(Pn.x)+i.y*Math.abs(Pn.y)+i.z*Math.abs(Pn.z),s=e.dot(Pn),l=n.dot(Pn),u=r.dot(Pn);if(Math.max(-Math.max(s,l,u),Math.min(s,l,u))>a)return!1}return!0}const In=new yn,Dn=new mn,Rn=new mn,Nn=new mn;class Bn{constructor(t=new mn,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):In.setFromPoints(t).getCenter(n);let r=0;for(let i=0,o=t.length;i<o;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){Nn.subVectors(t,this.center);const e=Nn.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.add(Nn.multiplyScalar(n/t)),this.radius+=n}return this}union(t){return!0===this.center.equals(t.center)?Rn.set(0,0,1).multiplyScalar(t.radius):Rn.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(Dn.copy(t.center).add(Rn)),this.expandByPoint(Dn.copy(t.center).sub(Rn)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Fn=new mn,jn=new mn,zn=new mn,Vn=new mn,Un=new mn,Hn=new mn,Wn=new mn;class Gn{constructor(t=new mn,e=new mn(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Fn)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Fn.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Fn.copy(this.direction).multiplyScalar(e).add(this.origin),Fn.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){jn.copy(t).add(e).multiplyScalar(.5),zn.copy(e).sub(t).normalize(),Vn.copy(this.origin).sub(jn);const i=.5*t.distanceTo(e),o=-this.direction.dot(zn),a=Vn.dot(this.direction),s=-Vn.dot(zn),l=Vn.lengthSq(),u=Math.abs(1-o*o);let c,d,h,f;if(u>0)if(c=o*s-a,d=o*a-s,f=i*u,c>=0)if(d>=-f)if(d<=f){const t=1/u;c*=t,d*=t,h=c*(c+o*d+2*a)+d*(o*c+d+2*s)+l}else d=i,c=Math.max(0,-(o*d+a)),h=-c*c+d*(d+2*s)+l;else d=-i,c=Math.max(0,-(o*d+a)),h=-c*c+d*(d+2*s)+l;else d<=-f?(c=Math.max(0,-(-o*i+a)),d=c>0?-i:Math.min(Math.max(-i,-s),i),h=-c*c+d*(d+2*s)+l):d<=f?(c=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(c=Math.max(0,-(o*i+a)),d=c>0?i:Math.min(Math.max(-i,-s),i),h=-c*c+d*(d+2*s)+l);else d=o>0?-i:i,c=Math.max(0,-(o*d+a)),h=-c*c+d*(d+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(c).add(this.origin),r&&r.copy(zn).multiplyScalar(d).add(jn),h}intersectSphere(t,e){Fn.subVectors(t.center,this.origin);const n=Fn.dot(this.direction),r=Fn.dot(Fn)-n*n,i=t.radius*t.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;const n=t.normal.dot(this.direction);return n*e<0}intersectBox(t,e){let n,r,i,o,a,s;const l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(t.min.x-d.x)*l,r=(t.max.x-d.x)*l):(n=(t.max.x-d.x)*l,r=(t.min.x-d.x)*l),u>=0?(i=(t.min.y-d.y)*u,o=(t.max.y-d.y)*u):(i=(t.max.y-d.y)*u,o=(t.min.y-d.y)*u),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),c>=0?(a=(t.min.z-d.z)*c,s=(t.max.z-d.z)*c):(a=(t.max.z-d.z)*c,s=(t.min.z-d.z)*c),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))}intersectsBox(t){return null!==this.intersectBox(t,Fn)}intersectTriangle(t,e,n,r,i){Un.subVectors(e,t),Hn.subVectors(n,t),Wn.crossVectors(Un,Hn);let o,a=this.direction.dot(Wn);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Vn.subVectors(this.origin,t);const s=o*this.direction.dot(Hn.crossVectors(Vn,Hn));if(s<0)return null;const l=o*this.direction.dot(Un.cross(Vn));if(l<0)return null;if(s+l>a)return null;const u=-o*Vn.dot(Wn);return u<0?null:this.at(u/a,i)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class qn{constructor(){this.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&r.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,i,o,a,s,l,u,c,d,h,f,p,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=d,g[3]=h,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new qn).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/$n.setFromMatrixColumn(t,0).length(),i=1/$n.setFromMatrixColumn(t,1).length(),o=1/$n.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||r.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,i=t.y,o=t.z,a=Math.cos(n),s=Math.sin(n),l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),d=Math.sin(o);if("XYZ"===t.order){const t=a*c,n=a*d,r=s*c,i=s*d;e[0]=l*c,e[4]=-l*d,e[8]=u,e[1]=n+r*u,e[5]=t-i*u,e[9]=-s*l,e[2]=i-t*u,e[6]=r+n*u,e[10]=a*l}else if("YXZ"===t.order){const t=l*c,n=l*d,r=u*c,i=u*d;e[0]=t+i*s,e[4]=r*s-n,e[8]=a*u,e[1]=a*d,e[5]=a*c,e[9]=-s,e[2]=n*s-r,e[6]=i+t*s,e[10]=a*l}else if("ZXY"===t.order){const t=l*c,n=l*d,r=u*c,i=u*d;e[0]=t-i*s,e[4]=-a*d,e[8]=r+n*s,e[1]=n+r*s,e[5]=a*c,e[9]=i-t*s,e[2]=-a*u,e[6]=s,e[10]=a*l}else if("ZYX"===t.order){const t=a*c,n=a*d,r=s*c,i=s*d;e[0]=l*c,e[4]=r*u-n,e[8]=t*u+i,e[1]=l*d,e[5]=i*u+t,e[9]=n*u-r,e[2]=-u,e[6]=s*l,e[10]=a*l}else if("YZX"===t.order){const t=a*l,n=a*u,r=s*l,i=s*u;e[0]=l*c,e[4]=i-t*d,e[8]=r*d+n,e[1]=d,e[5]=a*c,e[9]=-s*c,e[2]=-u*c,e[6]=n*d+r,e[10]=t-i*d}else if("XZY"===t.order){const t=a*l,n=a*u,r=s*l,i=s*u;e[0]=l*c,e[4]=-d,e[8]=u*c,e[1]=t*d+i,e[5]=a*c,e[9]=n*d-r,e[2]=r*d-n,e[6]=s*c,e[10]=i*d+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Yn,t,Zn)}lookAt(t,e,n){const r=this.elements;return Qn.subVectors(t,e),0===Qn.lengthSq()&&(Qn.z=1),Qn.normalize(),Jn.crossVectors(n,Qn),0===Jn.lengthSq()&&(1===Math.abs(n.z)?Qn.x+=1e-4:Qn.z+=1e-4,Qn.normalize(),Jn.crossVectors(n,Qn)),Jn.normalize(),Kn.crossVectors(Qn,Jn),r[0]=Jn.x,r[4]=Kn.x,r[8]=Qn.x,r[1]=Jn.y,r[5]=Kn.y,r[9]=Qn.y,r[2]=Jn.z,r[6]=Kn.z,r[10]=Qn.z,this}multiply(t,e){return void 0!==e?(r.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=n[15],w=r[0],x=r[4],S=r[8],M=r[12],E=r[1],T=r[5],A=r[9],C=r[13],O=r[2],k=r[6],P=r[10],L=r[14],I=r[3],D=r[7],R=r[11],N=r[15];return i[0]=o*w+a*E+s*O+l*I,i[4]=o*x+a*T+s*k+l*D,i[8]=o*S+a*A+s*P+l*R,i[12]=o*M+a*C+s*L+l*N,i[1]=u*w+c*E+d*O+h*I,i[5]=u*x+c*T+d*k+h*D,i[9]=u*S+c*A+d*P+h*R,i[13]=u*M+c*C+d*L+h*N,i[2]=f*w+p*E+m*O+g*I,i[6]=f*x+p*T+m*k+g*D,i[10]=f*S+p*A+m*P+g*R,i[14]=f*M+p*C+m*L+g*N,i[3]=v*w+y*E+b*O+_*I,i[7]=v*x+y*T+b*k+_*D,i[11]=v*S+y*A+b*P+_*R,i[15]=v*M+y*C+b*L+_*N,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],l=t[13],u=t[2],c=t[6],d=t[10],h=t[14],f=t[3],p=t[7],m=t[11],g=t[15];return f*(+i*s*c-r*l*c-i*a*d+n*l*d+r*a*h-n*s*h)+p*(+e*s*h-e*l*d+i*o*d-r*o*h+r*l*u-i*s*u)+m*(+e*l*c-e*a*h-i*o*c+n*o*h+i*a*u-n*l*u)+g*(-r*a*u-e*s*c+e*a*d+r*o*c-n*o*d+n*s*u)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],d=t[10],h=t[11],f=t[12],p=t[13],m=t[14],g=t[15],v=c*m*l-p*d*l+p*s*h-a*m*h-c*s*g+a*d*g,y=f*d*l-u*m*l-f*s*h+o*m*h+u*s*g-o*d*g,b=u*p*l-f*c*l+f*a*h-o*p*h-u*a*g+o*c*g,_=f*c*s-u*p*s-f*a*d+o*p*d+u*a*m-o*c*m,w=e*v+n*y+r*b+i*_;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/w;return t[0]=v*x,t[1]=(p*d*i-c*m*i-p*r*h+n*m*h+c*r*g-n*d*g)*x,t[2]=(a*m*i-p*s*i+p*r*l-n*m*l-a*r*g+n*s*g)*x,t[3]=(c*s*i-a*d*i-c*r*l+n*d*l+a*r*h-n*s*h)*x,t[4]=y*x,t[5]=(u*m*i-f*d*i+f*r*h-e*m*h-u*r*g+e*d*g)*x,t[6]=(f*s*i-o*m*i-f*r*l+e*m*l+o*r*g-e*s*g)*x,t[7]=(o*d*i-u*s*i+u*r*l-e*d*l-o*r*h+e*s*h)*x,t[8]=b*x,t[9]=(f*c*i-u*p*i-f*n*h+e*p*h+u*n*g-e*c*g)*x,t[10]=(o*p*i-f*a*i+f*n*l-e*p*l-o*n*g+e*a*g)*x,t[11]=(u*a*i-o*c*i-u*n*l+e*c*l+o*n*h-e*a*h)*x,t[12]=_*x,t[13]=(u*p*r-f*c*r+f*n*d-e*p*d-u*n*m+e*c*m)*x,t[14]=(f*a*r-o*p*r-f*n*s+e*p*s+o*n*m-e*a*m)*x,t[15]=(o*c*r-u*a*r+u*n*s-e*c*s-o*n*d+e*a*d)*x,this}scale(t){const e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,l=i*o,u=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,u*a+n,u*s-r*o,0,l*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,i,o){return this.set(1,n,i,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,i=e._x,o=e._y,a=e._z,s=e._w,l=i+i,u=o+o,c=a+a,d=i*l,h=i*u,f=i*c,p=o*u,m=o*c,g=a*c,v=s*l,y=s*u,b=s*c,_=n.x,w=n.y,x=n.z;return r[0]=(1-(p+g))*_,r[1]=(h+b)*_,r[2]=(f-y)*_,r[3]=0,r[4]=(h-b)*w,r[5]=(1-(d+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(f+y)*x,r[9]=(m-v)*x,r[10]=(1-(d+p))*x,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let i=$n.set(r[0],r[1],r[2]).length();const o=$n.set(r[4],r[5],r[6]).length(),a=$n.set(r[8],r[9],r[10]).length(),s=this.determinant();s<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],Xn.copy(this);const l=1/i,u=1/o,c=1/a;return Xn.elements[0]*=l,Xn.elements[1]*=l,Xn.elements[2]*=l,Xn.elements[4]*=u,Xn.elements[5]*=u,Xn.elements[6]*=u,Xn.elements[8]*=c,Xn.elements[9]*=c,Xn.elements[10]*=c,e.setFromRotationMatrix(Xn),n.x=i,n.y=o,n.z=a,this}makePerspective(t,e,n,i,o,a){void 0===a&&r.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,l=2*o/(e-t),u=2*o/(n-i),c=(e+t)/(e-t),d=(n+i)/(n-i),h=-(a+o)/(a-o),f=-2*a*o/(a-o);return s[0]=l,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=u,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(t,e,n,r,i,o){const a=this.elements,s=1/(e-t),l=1/(n-r),u=1/(o-i),c=(e+t)*s,d=(n+r)*l,h=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const $n=new mn,Xn=new qn,Yn=new mn(0,0,0),Zn=new mn(1,1,1),Jn=new mn,Kn=new mn,Qn=new mn,tr=new qn,er=new pn;class nr{constructor(t=0,e=0,n=0,r=nr.DefaultOrder){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,r=this._order){return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const i=t.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],d=i[2],h=i[6],f=i[10];switch(e){case"XYZ":this._y=Math.asin(Be(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Be(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Be(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Be(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Be(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-Be(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,f),this._y=0);break;default:r.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return tr.makeRotationFromQuaternion(t),this.setFromRotationMatrix(tr,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return er.setFromEuler(this),this.setFromQuaternion(er,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){r.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}nr.DefaultOrder="XYZ",nr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class rr{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!==(this.mask&t.mask)}isEnabled(t){return 0!==(this.mask&(1<<t|0))}}let ir=0;const or=new mn,ar=new pn,sr=new qn,lr=new mn,ur=new mn,cr=new mn,dr=new pn,hr=new mn(1,0,0),fr=new mn(0,1,0),pr=new mn(0,0,1),mr={type:"added"},gr={type:"removed"};class vr extends Le{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ir++}),this.uuid=Ne(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=vr.DefaultUp.clone();const t=new mn,e=new nr,n=new pn,r=new mn(1,1,1);function i(){n.setFromEuler(e,!1)}function o(){e.setFromQuaternion(n,void 0,!1)}e._onChange(i),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new qn},normalMatrix:{value:new He}}),this.matrix=new qn,this.matrixWorld=new qn,this.matrixAutoUpdate=vr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new rr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return ar.setFromAxisAngle(t,e),this.quaternion.multiply(ar),this}rotateOnWorldAxis(t,e){return ar.setFromAxisAngle(t,e),this.quaternion.premultiply(ar),this}rotateX(t){return this.rotateOnAxis(hr,t)}rotateY(t){return this.rotateOnAxis(fr,t)}rotateZ(t){return this.rotateOnAxis(pr,t)}translateOnAxis(t,e){return or.copy(t).applyQuaternion(this.quaternion),this.position.add(or.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(hr,t)}translateY(t){return this.translateOnAxis(fr,t)}translateZ(t){return this.translateOnAxis(pr,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(sr.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?lr.copy(t):lr.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ur.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sr.lookAt(ur,lr,this.up):sr.lookAt(lr,ur,this.up),this.quaternion.setFromRotationMatrix(sr),r&&(sr.extractRotation(r.matrixWorld),ar.setFromRotationMatrix(sr),this.quaternion.premultiply(ar.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(r.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(mr)):r.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(gr)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(gr)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),sr.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),sr.multiply(t.parent.matrixWorld)),t.applyMatrix4(sr),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n],i=r.getObjectByProperty(t,e);if(void 0!==i)return i}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ur,t,cr),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ur,dr,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"===typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,r=n.length;e<r;e++){const r=n[e];i(t.shapes,r)}else i(t.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,r=this.material.length;n<r;n++)e.push(i(t.materials,this.material[n]));r.material=e}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(let e=0;e<this.children.length;e++)r.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];r.animations.push(i(t.animations,n))}}if(e){const e=o(t.geometries),r=o(t.materials),i=o(t.textures),a=o(t.images),s=o(t.shapes),l=o(t.skeletons),u=o(t.animations),c=o(t.nodes);e.length>0&&(n.geometries=e),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),u.length>0&&(n.animations=u),c.length>0&&(n.nodes=c)}return n.object=r,n;function o(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let n=0;n<t.children.length;n++){const e=t.children[n];this.add(e.clone())}return this}}vr.DefaultUp=new mn(0,1,0),vr.DefaultMatrixAutoUpdate=!0;const yr=new mn,br=new mn,_r=new mn,wr=new mn,xr=new mn,Sr=new mn,Mr=new mn,Er=new mn,Tr=new mn,Ar=new mn;class Cr{constructor(t=new mn,e=new mn,n=new mn){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),yr.subVectors(t,e),r.cross(yr);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(t,e,n,r,i){yr.subVectors(r,e),br.subVectors(n,e),_r.subVectors(t,e);const o=yr.dot(yr),a=yr.dot(br),s=yr.dot(_r),l=br.dot(br),u=br.dot(_r),c=o*l-a*a;if(0===c)return i.set(-2,-1,-1);const d=1/c,h=(l*s-a*u)*d,f=(o*u-a*s)*d;return i.set(1-h-f,f,h)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,wr),wr.x>=0&&wr.y>=0&&wr.x+wr.y<=1}static getUV(t,e,n,r,i,o,a,s){return this.getBarycoord(t,e,n,r,wr),s.set(0,0),s.addScaledVector(i,wr.x),s.addScaledVector(o,wr.y),s.addScaledVector(a,wr.z),s}static isFrontFacing(t,e,n,r){return yr.subVectors(n,e),br.subVectors(t,e),yr.cross(br).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return yr.subVectors(this.c,this.b),br.subVectors(this.a,this.b),.5*yr.cross(br).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Cr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Cr.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,i){return Cr.getUV(t,this.a,this.b,this.c,e,n,r,i)}containsPoint(t){return Cr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Cr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,i=this.c;let o,a;xr.subVectors(r,n),Sr.subVectors(i,n),Er.subVectors(t,n);const s=xr.dot(Er),l=Sr.dot(Er);if(s<=0&&l<=0)return e.copy(n);Tr.subVectors(t,r);const u=xr.dot(Tr),c=Sr.dot(Tr);if(u>=0&&c<=u)return e.copy(r);const d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return o=s/(s-u),e.copy(n).addScaledVector(xr,o);Ar.subVectors(t,i);const h=xr.dot(Ar),f=Sr.dot(Ar);if(f>=0&&h<=f)return e.copy(i);const p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return a=l/(l-f),e.copy(n).addScaledVector(Sr,a);const m=u*f-h*c;if(m<=0&&c-u>=0&&h-f>=0)return Mr.subVectors(i,r),a=(c-u)/(c-u+(h-f)),e.copy(r).addScaledVector(Mr,a);const g=1/(m+p+d);return o=p*g,a=d*g,e.copy(n).addScaledVector(xr,o).addScaledVector(Sr,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let Or=0;class kr extends Le{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Or++}),this.uuid=Ne(),this.name="",this.type="Material",this.blending=y,this.side=f,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=L,this.blendDst=I,this.blendEquation=S,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=U,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ce,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ae,this.stencilZFail=Ae,this.stencilZPass=Ae,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!==t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){r.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){r.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===g;continue}const i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:r.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==y&&(n.blending=this.blending),this.side!==f&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=r(t.textures),i=r(t.images);e.length>0&&(n.textures=e),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let r=0;r!==t;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}get vertexTangents(){return r.warn("THREE."+this.type+": .vertexTangents has been removed."),!1}set vertexTangents(t){r.warn("THREE."+this.type+": .vertexTangents has been removed.")}}kr.fromType=function(){return null};class Pr extends kr{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Lr=new mn,Ir=new Ue;class Dr{constructor(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=Oe,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let n=0;for(let i=0,o=t.length;i<o;i++){let o=t[i];void 0===o&&(r.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new nn),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this}copyVector2sArray(t){const e=this.array;let n=0;for(let i=0,o=t.length;i<o;i++){let o=t[i];void 0===o&&(r.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Ue),e[n++]=o.x,e[n++]=o.y}return this}copyVector3sArray(t){const e=this.array;let n=0;for(let i=0,o=t.length;i<o;i++){let o=t[i];void 0===o&&(r.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new mn),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this}copyVector4sArray(t){const e=this.array;let n=0;for(let i=0,o=t.length;i<o;i++){let o=t[i];void 0===o&&(r.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new cn),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Ir.fromBufferAttribute(this,e),Ir.applyMatrix3(t),this.setXY(e,Ir.x,Ir.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)Lr.fromBufferAttribute(this,e),Lr.applyMatrix3(t),this.setXYZ(e,Lr.x,Lr.y,Lr.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)Lr.fromBufferAttribute(this,e),Lr.applyMatrix4(t),this.setXYZ(e,Lr.x,Lr.y,Lr.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Lr.fromBufferAttribute(this,e),Lr.applyNormalMatrix(t),this.setXYZ(e,Lr.x,Lr.y,Lr.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Lr.fromBufferAttribute(this,e),Lr.transformDirection(t),this.setXYZ(e,Lr.x,Lr.y,Lr.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==Oe&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}class Rr extends Dr{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class Nr extends Dr{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class Br extends Dr{constructor(t,e,n){super(new Float32Array(t),e,n)}}let Fr=0;const jr=new qn,zr=new vr,Vr=new mn,Ur=new yn,Hr=new yn,Wr=new mn;class Gr extends Le{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Fr++}),this.uuid=Ne(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(We(t)?Nr:Rr)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new He).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return jr.makeRotationFromQuaternion(t),this.applyMatrix4(jr),this}rotateX(t){return jr.makeRotationX(t),this.applyMatrix4(jr),this}rotateY(t){return jr.makeRotationY(t),this.applyMatrix4(jr),this}rotateZ(t){return jr.makeRotationZ(t),this.applyMatrix4(jr),this}translate(t,e,n){return jr.makeTranslation(t,e,n),this.applyMatrix4(jr),this}scale(t,e,n){return jr.makeScale(t,e,n),this.applyMatrix4(jr),this}lookAt(t){return zr.lookAt(t),zr.updateMatrix(),this.applyMatrix4(zr.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vr).negate(),this.translate(Vr.x,Vr.y,Vr.z),this}setFromPoints(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Br(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new yn);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return r.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new mn(-1/0,-1/0,-1/0),new mn(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++){const t=e[n];Ur.setFromBufferAttribute(t),this.morphTargetsRelative?(Wr.addVectors(this.boundingBox.min,Ur.min),this.boundingBox.expandByPoint(Wr),Wr.addVectors(this.boundingBox.max,Ur.max),this.boundingBox.expandByPoint(Wr)):(this.boundingBox.expandByPoint(Ur.min),this.boundingBox.expandByPoint(Ur.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&r.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Bn);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return r.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new mn,1/0);if(t){const n=this.boundingSphere.center;if(Ur.setFromBufferAttribute(t),e)for(let t=0,r=e.length;t<r;t++){const n=e[t];Hr.setFromBufferAttribute(n),this.morphTargetsRelative?(Wr.addVectors(Ur.min,Hr.min),Ur.expandByPoint(Wr),Wr.addVectors(Ur.max,Hr.max),Ur.expandByPoint(Wr)):(Ur.expandByPoint(Hr.min),Ur.expandByPoint(Hr.max))}Ur.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)Wr.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(Wr));if(e)for(let r=0,o=e.length;r<o;r++){const o=e[r],a=this.morphTargetsRelative;for(let e=0,r=o.count;e<r;e++)Wr.fromBufferAttribute(o,e),a&&(Vr.fromBufferAttribute(t,e),Wr.add(Vr)),i=Math.max(i,n.distanceToSquared(Wr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&r.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void r.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,i=e.position.array,o=e.normal.array,a=e.uv.array,s=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Dr(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let r=0;r<s;r++)u[r]=new mn,c[r]=new mn;const d=new mn,h=new mn,f=new mn,p=new Ue,m=new Ue,g=new Ue,v=new mn,y=new mn;function b(t,e,n){d.fromArray(i,3*t),h.fromArray(i,3*e),f.fromArray(i,3*n),p.fromArray(a,2*t),m.fromArray(a,2*e),g.fromArray(a,2*n),h.sub(d),f.sub(d),m.sub(p),g.sub(p);const r=1/(m.x*g.y-g.x*m.y);isFinite(r)&&(v.copy(h).multiplyScalar(g.y).addScaledVector(f,-m.y).multiplyScalar(r),y.copy(f).multiplyScalar(m.x).addScaledVector(h,-g.x).multiplyScalar(r),u[t].add(v),u[e].add(v),u[n].add(v),c[t].add(y),c[e].add(y),c[n].add(y))}let _=this.groups;0===_.length&&(_=[{start:0,count:n.length}]);for(let r=0,T=_.length;r<T;++r){const t=_[r],e=t.start,i=t.count;for(let r=e,o=e+i;r<o;r+=3)b(n[r+0],n[r+1],n[r+2])}const w=new mn,x=new mn,S=new mn,M=new mn;function E(t){S.fromArray(o,3*t),M.copy(S);const e=u[t];w.copy(e),w.sub(S.multiplyScalar(S.dot(e))).normalize(),x.crossVectors(M,e);const n=x.dot(c[t]),r=n<0?-1:1;l[4*t]=w.x,l[4*t+1]=w.y,l[4*t+2]=w.z,l[4*t+3]=r}for(let r=0,T=_.length;r<T;++r){const t=_[r],e=t.start,i=t.count;for(let r=e,o=e+i;r<o;r+=3)E(n[r+0]),E(n[r+1]),E(n[r+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Dr(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const r=new mn,i=new mn,o=new mn,a=new mn,s=new mn,l=new mn,u=new mn,c=new mn;if(t)for(let d=0,h=t.count;d<h;d+=3){const h=t.getX(d+0),f=t.getX(d+1),p=t.getX(d+2);r.fromBufferAttribute(e,h),i.fromBufferAttribute(e,f),o.fromBufferAttribute(e,p),u.subVectors(o,i),c.subVectors(r,i),u.cross(c),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),a.add(u),s.add(u),l.add(u),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let t=0,d=e.count;t<d;t+=3)r.fromBufferAttribute(e,t+0),i.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),u.subVectors(o,i),c.subVectors(r,i),u.cross(c),n.setXYZ(t+0,u.x,u.y,u.z),n.setXYZ(t+1,u.x,u.y,u.z),n.setXYZ(t+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void r.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,r.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===t.attributes[r])continue;const i=n[r],o=i.array,a=t.attributes[r],s=a.array,l=a.itemSize*e,u=Math.min(s.length,o.length-l);for(let t=0,e=l;t<u;t++,e++)o[e]=s[t]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Wr.fromBufferAttribute(t,e),Wr.normalize(),t.setXYZ(e,Wr.x,Wr.y,Wr.z)}toNonIndexed(){function t(t,e){const n=t.array,r=t.itemSize,i=t.normalized,o=new n.constructor(e.length*r);let a=0,s=0;for(let l=0,u=e.length;l<u;l++){a=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*r;for(let t=0;t<r;t++)o[s++]=n[a++]}return new Dr(o,r,i)}if(null===this.index)return r.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Gr,n=this.index.array,i=this.attributes;for(const r in i){const o=i[r],a=t(o,n);e.setAttribute(r,a)}const o=this.morphAttributes;for(const r in o){const i=[],a=o[r];for(let e=0,r=a.length;e<r;e++){const r=a[e],o=t(r,n);i.push(o)}e.morphAttributes[r]=i}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let r=0,s=a.length;r<s;r++){const t=a[r];e.addGroup(t.start,t.count,t.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const s in n){const e=n[s];t.data.attributes[s]=e.toJSON(t.data)}const r={};let i=!1;for(const s in this.morphAttributes){const e=this.morphAttributes[s],n=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];n.push(i.toJSON(t.data))}n.length>0&&(r[s]=n,i=!0)}i&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const l in r){const t=r[l];this.setAttribute(l,t.clone(e))}const i=t.morphAttributes;for(const l in i){const t=[],n=i[l];for(let r=0,i=n.length;r<i;r++)t.push(n[r].clone(e));this.morphAttributes[l]=t}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let l=0,u=o.length;l<u;l++){const t=o[l];this.addGroup(t.start,t.count,t.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=t.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const qr=new qn,$r=new Gn,Xr=new Bn,Yr=new mn,Zr=new mn,Jr=new mn,Kr=new mn,Qr=new mn,ti=new mn,ei=new mn,ni=new mn,ri=new mn,ii=new Ue,oi=new Ue,ai=new Ue,si=new mn,li=new mn;class ui extends vr{constructor(t=new Gr,e=new Pr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry,e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}raycast(t,e){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Xr.copy(n.boundingSphere),Xr.applyMatrix4(i),!1===t.ray.intersectsSphere(Xr))return;if(qr.copy(i).invert(),$r.copy(t.ray).applyMatrix4(qr),null!==n.boundingBox&&!1===$r.intersectsBox(n.boundingBox))return;let o;const a=n.index,s=n.attributes.position,l=n.morphAttributes.position,u=n.morphTargetsRelative,c=n.attributes.uv,d=n.attributes.uv2,h=n.groups,f=n.drawRange;if(null!==a)if(Array.isArray(r))for(let p=0,m=h.length;p<m;p++){const n=h[p],i=r[n.materialIndex],m=Math.max(n.start,f.start),g=Math.min(a.count,Math.min(n.start+n.count,f.start+f.count));for(let r=m,h=g;r<h;r+=3){const h=a.getX(r),f=a.getX(r+1),p=a.getX(r+2);o=di(this,i,t,$r,s,l,u,c,d,h,f,p),o&&(o.faceIndex=Math.floor(r/3),o.face.materialIndex=n.materialIndex,e.push(o))}}else{const n=Math.max(0,f.start),i=Math.min(a.count,f.start+f.count);for(let h=n,f=i;h<f;h+=3){const n=a.getX(h),i=a.getX(h+1),f=a.getX(h+2);o=di(this,r,t,$r,s,l,u,c,d,n,i,f),o&&(o.faceIndex=Math.floor(h/3),e.push(o))}}else if(void 0!==s)if(Array.isArray(r))for(let p=0,m=h.length;p<m;p++){const n=h[p],i=r[n.materialIndex],a=Math.max(n.start,f.start),m=Math.min(s.count,Math.min(n.start+n.count,f.start+f.count));for(let r=a,h=m;r<h;r+=3){const a=r,h=r+1,f=r+2;o=di(this,i,t,$r,s,l,u,c,d,a,h,f),o&&(o.faceIndex=Math.floor(r/3),o.face.materialIndex=n.materialIndex,e.push(o))}}else{const n=Math.max(0,f.start),i=Math.min(s.count,f.start+f.count);for(let a=n,h=i;a<h;a+=3){const n=a,i=a+1,h=a+2;o=di(this,r,t,$r,s,l,u,c,d,n,i,h),o&&(o.faceIndex=Math.floor(a/3),e.push(o))}}}}function ci(t,e,n,r,i,o,a,s){let l;if(l=e.side===p?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,e.side!==m,s),null===l)return null;li.copy(s),li.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(li);return u<n.near||u>n.far?null:{distance:u,point:li.clone(),object:t}}function di(t,e,n,r,i,o,a,s,l,u,c,d){Yr.fromBufferAttribute(i,u),Zr.fromBufferAttribute(i,c),Jr.fromBufferAttribute(i,d);const h=t.morphTargetInfluences;if(o&&h){ei.set(0,0,0),ni.set(0,0,0),ri.set(0,0,0);for(let t=0,e=o.length;t<e;t++){const e=h[t],n=o[t];0!==e&&(Kr.fromBufferAttribute(n,u),Qr.fromBufferAttribute(n,c),ti.fromBufferAttribute(n,d),a?(ei.addScaledVector(Kr,e),ni.addScaledVector(Qr,e),ri.addScaledVector(ti,e)):(ei.addScaledVector(Kr.sub(Yr),e),ni.addScaledVector(Qr.sub(Zr),e),ri.addScaledVector(ti.sub(Jr),e)))}Yr.add(ei),Zr.add(ni),Jr.add(ri)}t.isSkinnedMesh&&(t.boneTransform(u,Yr),t.boneTransform(c,Zr),t.boneTransform(d,Jr));const f=ci(t,e,n,r,Yr,Zr,Jr,si);if(f){s&&(ii.fromBufferAttribute(s,u),oi.fromBufferAttribute(s,c),ai.fromBufferAttribute(s,d),f.uv=Cr.getUV(si,Yr,Zr,Jr,ii,oi,ai,new Ue)),l&&(ii.fromBufferAttribute(l,u),oi.fromBufferAttribute(l,c),ai.fromBufferAttribute(l,d),f.uv2=Cr.getUV(si,Yr,Zr,Jr,ii,oi,ai,new Ue));const t={a:u,b:c,c:d,normal:new mn,materialIndex:0};Cr.getNormal(Yr,Zr,Jr,t.normal),f.face=t}return f}class hi extends Gr{constructor(t=1,e=1,n=1,r=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],u=[],c=[];let d=0,h=0;function f(t,e,n,r,i,o,f,p,m,g,v){const y=o/m,b=f/g,_=o/2,w=f/2,x=p/2,S=m+1,M=g+1;let E=0,T=0;const A=new mn;for(let a=0;a<M;a++){const o=a*b-w;for(let s=0;s<S;s++){const d=s*y-_;A[t]=d*r,A[e]=o*i,A[n]=x,l.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=p>0?1:-1,u.push(A.x,A.y,A.z),c.push(s/m),c.push(1-a/g),E+=1}}for(let a=0;a<g;a++)for(let t=0;t<m;t++){const e=d+t+S*a,n=d+t+S*(a+1),r=d+(t+1)+S*(a+1),i=d+(t+1)+S*a;s.push(e,n,i),s.push(n,r,i),T+=6}a.addGroup(h,T,v),h+=T,d+=E}f("z","y","x",-1,-1,n,e,t,o,i,0),f("z","y","x",1,-1,n,e,-t,o,i,1),f("x","z","y",1,1,t,n,e,r,o,2),f("x","z","y",1,-1,t,n,-e,r,o,3),f("x","y","z",1,-1,t,e,n,r,i,4),f("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new Br(l,3)),this.setAttribute("normal",new Br(u,3)),this.setAttribute("uv",new Br(c,2))}static fromJSON(t){return new hi(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function fi(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function pi(t){const e={};for(let n=0;n<t.length;n++){const r=fi(t[n]);for(const t in r)e[t]=r[t]}return e}const mi={clone:fi,merge:pi};var gi="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",vi="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class yi extends kr{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=gi,this.fragmentShader=vi,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&r.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=fi(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r],i=n.value;i&&i.isTexture?e.uniforms[r]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[r]={type:"m4",value:i.toArray()}:e.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class bi extends vr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new qn,this.projectionMatrix=new qn,this.projectionMatrixInverse=new qn}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class _i extends bi{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Re*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*De*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*Re*Math.atan(Math.tan(.5*De*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,r,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*De*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/t,e-=o.offsetY*n/a,r*=o.width/t,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const wi=90,xi=1;class Si extends vr{constructor(t,e,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void r.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const i=new _i(wi,xi,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new mn(1,0,0)),this.add(i);const o=new _i(wi,xi,t,e);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new mn(-1,0,0)),this.add(o);const a=new _i(wi,xi,t,e);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new mn(0,1,0)),this.add(a);const s=new _i(wi,xi,t,e);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new mn(0,-1,0)),this.add(s);const l=new _i(wi,xi,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new mn(0,0,1)),this.add(l);const u=new _i(wi,xi,t,e);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new mn(0,0,-1)),this.add(u)}update(t,e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,i,o,a,s,l]=this.children,u=t.getRenderTarget(),c=t.toneMapping,d=t.xr.enabled;t.toneMapping=Z,t.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,i),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,a),t.setRenderTarget(n,4),t.render(e,s),n.texture.generateMipmaps=h,t.setRenderTarget(n,5),t.render(e,l),t.setRenderTarget(u),t.toneMapping=c,t.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class Mi extends un{constructor(t,e,n,r,i,o,a,s,l,u){t=void 0!==t?t:[],e=void 0!==e?e:rt,super(t,e,n,r,i,o,a,s,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Ei extends dn{constructor(t,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];this.texture=new Mi(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:pt}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new hi(5,5,5),i=new yi({name:"CubemapFromEquirect",uniforms:fi(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:p,blending:v});i.uniforms.tEquirect.value=e;const o=new ui(r,i),a=e.minFilter;e.minFilter===gt&&(e.minFilter=pt);const s=new Si(1,10,this);return s.update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,n,r){const i=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,n,r);t.setRenderTarget(i)}}const Ti=new mn,Ai=new mn,Ci=new He;class Oi{constructor(t=new mn(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=Ti.subVectors(n,e).cross(Ai.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const n=t.delta(Ti),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const i=-(t.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:e.copy(n).multiplyScalar(i).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||Ci.getNormalMatrix(t),r=this.coplanarPoint(Ti).applyMatrix4(t),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ki=new Bn,Pi=new mn;class Li{constructor(t=new Oi,e=new Oi,n=new Oi,r=new Oi,i=new Oi,o=new Oi){this.planes=[t,e,n,r,i,o]}set(t,e,n,r,i,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(a-r,c-s,p-d,y-m).normalize(),e[1].setComponents(a+r,c+s,p+d,y+m).normalize(),e[2].setComponents(a+i,c+l,p+h,y+g).normalize(),e[3].setComponents(a-i,c-l,p-h,y-g).normalize(),e[4].setComponents(a-o,c-u,p-f,y-v).normalize(),e[5].setComponents(a+o,c+u,p+f,y+v).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),ki.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(ki)}intersectsSprite(t){return ki.center.set(0,0,0),ki.radius=.7071067811865476,ki.applyMatrix4(t.matrixWorld),this.intersectsSphere(ki)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let i=0;i<6;i++){const t=e[i].distanceToPoint(n);if(t<r)return!1}return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(Pi.x=r.normal.x>0?t.max.x:t.min.x,Pi.y=r.normal.y>0?t.max.y:t.min.y,Pi.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(Pi)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Ii(){let t=null,e=!1,n=null,r=null;function i(e,o){n(e,o),r=t.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Di(t,e){const n=e.isWebGL2,r=new WeakMap;function i(e,r){const i=e.array,o=e.usage,a=t.createBuffer();let s;if(t.bindBuffer(r,a),t.bufferData(r,i,o),e.onUploadCallback(),i instanceof Float32Array)s=5126;else if(i instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=5131}else s=5123;else if(i instanceof Int16Array)s=5122;else if(i instanceof Uint32Array)s=5125;else if(i instanceof Int32Array)s=5124;else if(i instanceof Int8Array)s=5120;else if(i instanceof Uint8Array)s=5121;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=5121}return{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}function o(e,r,i){const o=r.array,a=r.updateRange;t.bindBuffer(i,e),-1===a.count?t.bufferSubData(i,0,o):(n?t.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):t.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}function a(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)}function s(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=r.get(e);n&&(t.deleteBuffer(n.buffer),r.delete(e))}function l(t,e){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);void 0===n?r.set(t,i(t,e)):n.version<t.version&&(o(n.buffer,t,e),n.version=t.version)}return{get:a,remove:s,update:l}}class Ri extends Gr{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const i=t/2,o=e/2,a=Math.floor(n),s=Math.floor(r),l=a+1,u=s+1,c=t/a,d=e/s,h=[],f=[],p=[],m=[];for(let g=0;g<u;g++){const t=g*d-o;for(let e=0;e<l;e++){const n=e*c-i;f.push(n,-t,0),p.push(0,0,1),m.push(e/a),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let t=0;t<a;t++){const e=t+l*g,n=t+l*(g+1),r=t+1+l*(g+1),i=t+1+l*g;h.push(e,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new Br(f,3)),this.setAttribute("normal",new Br(p,3)),this.setAttribute("uv",new Br(m,2))}static fromJSON(t){return new Ri(t.width,t.height,t.widthSegments,t.heightSegments)}}var Ni="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",Bi="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",Fi="#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",ji="#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",zi="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",Vi="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",Ui="vec3 transformed = vec3( position );",Hi="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",Wi="vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",Gi="#ifdef USE_IRIDESCENCE\nconst mat3 XYZ_TO_REC709 = mat3(\n    3.2404542, -0.9692660,  0.0556434,\n   -1.5371385,  1.8760108, -0.2040259,\n   -0.4985314,  0.0415560,  1.0572252\n);\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n   vec3 sqrtF0 = sqrt( fresnel0 );\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n}\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n}\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n}\nvec3 evalSensitivity( float OPD, vec3 shift ) {\n   float phase = 2.0 * PI * OPD * 1.0e-9;\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\n   xyz /= 1.0685e-7;\n   vec3 srgb = XYZ_TO_REC709 * xyz;\n   return srgb;\n}\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n   vec3 I;\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\n   if ( cosTheta2Sq < 0.0 ) {\n       return vec3( 1.0 );\n   }\n   float cosTheta2 = sqrt( cosTheta2Sq );\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n   float R21 = R12;\n   float T121 = 1.0 - R12;\n   float phi12 = 0.0;\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n   float phi21 = PI - phi12;\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n   vec3 phi23 = vec3( 0.0 );\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n   vec3 phi = vec3( phi21 ) + phi23;\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n   vec3 r123 = sqrt( R123 );\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n   vec3 C0 = R12 + Rs;\n   I = C0;\n   vec3 Cm = Rs - T121;\n   for ( int m = 1; m <= 2; ++m ) {\n       Cm *= r123;\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n       I += Cm * Sm;\n   }\n   return max( I, vec3( 0.0 ) );\n}\n#endif",qi="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",$i="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",Xi="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",Yi="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",Zi="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",Ji="#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",Ki="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",Qi="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",to="#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",eo="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",no="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",ro="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",io="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",oo="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",ao="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",so="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",lo="gl_FragColor = linearToOutputTexel( gl_FragColor );",uo="vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",co="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",ho="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",fo="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",po="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",mo="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",go="#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",vo="#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",yo="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",bo="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",_o="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",wo="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",xo="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",So="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",Mo="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",Eo="#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",To="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",Ao="varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",Co="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Oo="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",ko="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",Po="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",Lo="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\nif ( material.iridescenceThickness == 0.0 ) {\n\tmaterial.iridescence = 0.0;\n} else {\n\tmaterial.iridescence = saturate( material.iridescence );\n}\nif ( material.iridescence > 0.0 ) {\n\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",Io="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",Do="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",Ro="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",No="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",Bo="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",Fo="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",jo="#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",zo="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",Vo="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",Uo="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",Ho="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",Wo="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",Go="#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",qo="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",$o="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",Xo="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",Yo="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",Zo="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",Jo="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",Ko="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",Qo="#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",ta="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",ea="#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",na="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",ra="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",ia="#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",oa="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",aa="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",sa="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",la="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",ua="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",ca="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",da="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",ha="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",fa="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",pa="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",ma="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",ga="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",va="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",ya="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",ba="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",_a="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",wa="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",xa="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Sa="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Ma="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",Ea="#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",Ta="#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",Aa="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",Ca="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",Oa="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",ka="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Pa="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",La="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",Ia="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif";const Da="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",Ra="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Na="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Ba="#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Fa="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",ja="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",za="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",Va="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",Ua="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",Ha="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Wa="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Ga="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",qa="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",$a="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Xa="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Ya="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Za="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",Ja="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Ka="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",Qa="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",ts="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",es="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ns="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",rs="#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",is="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",os="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",as="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",ss="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",ls="#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",us="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",cs="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",ds="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",hs={alphamap_fragment:Ni,alphamap_pars_fragment:Bi,alphatest_fragment:Fi,alphatest_pars_fragment:ji,aomap_fragment:zi,aomap_pars_fragment:Vi,begin_vertex:Ui,beginnormal_vertex:Hi,bsdfs:Wi,iridescence_fragment:Gi,bumpmap_pars_fragment:qi,clipping_planes_fragment:$i,clipping_planes_pars_fragment:Xi,clipping_planes_pars_vertex:Yi,clipping_planes_vertex:Zi,color_fragment:Ji,color_pars_fragment:Ki,color_pars_vertex:Qi,color_vertex:to,common:eo,cube_uv_reflection_fragment:no,defaultnormal_vertex:ro,displacementmap_pars_vertex:io,displacementmap_vertex:oo,emissivemap_fragment:ao,emissivemap_pars_fragment:so,encodings_fragment:lo,encodings_pars_fragment:uo,envmap_fragment:co,envmap_common_pars_fragment:ho,envmap_pars_fragment:fo,envmap_pars_vertex:po,envmap_physical_pars_fragment:Eo,envmap_vertex:mo,fog_vertex:go,fog_pars_vertex:vo,fog_fragment:yo,fog_pars_fragment:bo,gradientmap_pars_fragment:_o,lightmap_fragment:wo,lightmap_pars_fragment:xo,lights_lambert_vertex:So,lights_pars_begin:Mo,lights_toon_fragment:To,lights_toon_pars_fragment:Ao,lights_phong_fragment:Co,lights_phong_pars_fragment:Oo,lights_physical_fragment:ko,lights_physical_pars_fragment:Po,lights_fragment_begin:Lo,lights_fragment_maps:Io,lights_fragment_end:Do,logdepthbuf_fragment:Ro,logdepthbuf_pars_fragment:No,logdepthbuf_pars_vertex:Bo,logdepthbuf_vertex:Fo,map_fragment:jo,map_pars_fragment:zo,map_particle_fragment:Vo,map_particle_pars_fragment:Uo,metalnessmap_fragment:Ho,metalnessmap_pars_fragment:Wo,morphcolor_vertex:Go,morphnormal_vertex:qo,morphtarget_pars_vertex:$o,morphtarget_vertex:Xo,normal_fragment_begin:Yo,normal_fragment_maps:Zo,normal_pars_fragment:Jo,normal_pars_vertex:Ko,normal_vertex:Qo,normalmap_pars_fragment:ta,clearcoat_normal_fragment_begin:ea,clearcoat_normal_fragment_maps:na,clearcoat_pars_fragment:ra,iridescence_pars_fragment:ia,output_fragment:oa,packing:aa,premultiplied_alpha_fragment:sa,project_vertex:la,dithering_fragment:ua,dithering_pars_fragment:ca,roughnessmap_fragment:da,roughnessmap_pars_fragment:ha,shadowmap_pars_fragment:fa,shadowmap_pars_vertex:pa,shadowmap_vertex:ma,shadowmask_pars_fragment:ga,skinbase_vertex:va,skinning_pars_vertex:ya,skinning_vertex:ba,skinnormal_vertex:_a,specularmap_fragment:wa,specularmap_pars_fragment:xa,tonemapping_fragment:Sa,tonemapping_pars_fragment:Ma,transmission_fragment:Ea,transmission_pars_fragment:Ta,uv_pars_fragment:Aa,uv_pars_vertex:Ca,uv_vertex:Oa,uv2_pars_fragment:ka,uv2_pars_vertex:Pa,uv2_vertex:La,worldpos_vertex:Ia,background_vert:Da,background_frag:Ra,cube_vert:Na,cube_frag:Ba,depth_vert:Fa,depth_frag:ja,distanceRGBA_vert:za,distanceRGBA_frag:Va,equirect_vert:Ua,equirect_frag:Ha,linedashed_vert:Wa,linedashed_frag:Ga,meshbasic_vert:qa,meshbasic_frag:$a,meshlambert_vert:Xa,meshlambert_frag:Ya,meshmatcap_vert:Za,meshmatcap_frag:Ja,meshnormal_vert:Ka,meshnormal_frag:Qa,meshphong_vert:ts,meshphong_frag:es,meshphysical_vert:ns,meshphysical_frag:rs,meshtoon_vert:is,meshtoon_frag:os,points_vert:as,points_frag:ss,shadow_vert:ls,shadow_frag:us,sprite_vert:cs,sprite_frag:ds},fs={common:{diffuse:{value:new nn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new He},uv2Transform:{value:new He},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new He}},sprite:{diffuse:{value:new nn(16777215)},opacity:{value:1},center:{value:new Ue(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new He}}},ps={basic:{uniforms:pi([fs.common,fs.specularmap,fs.envmap,fs.aomap,fs.lightmap,fs.fog]),vertexShader:hs.meshbasic_vert,fragmentShader:hs.meshbasic_frag},lambert:{uniforms:pi([fs.common,fs.specularmap,fs.envmap,fs.aomap,fs.lightmap,fs.emissivemap,fs.fog,fs.lights,{emissive:{value:new nn(0)}}]),vertexShader:hs.meshlambert_vert,fragmentShader:hs.meshlambert_frag},phong:{uniforms:pi([fs.common,fs.specularmap,fs.envmap,fs.aomap,fs.lightmap,fs.emissivemap,fs.bumpmap,fs.normalmap,fs.displacementmap,fs.fog,fs.lights,{emissive:{value:new nn(0)},specular:{value:new nn(1118481)},shininess:{value:30}}]),vertexShader:hs.meshphong_vert,fragmentShader:hs.meshphong_frag},standard:{uniforms:pi([fs.common,fs.envmap,fs.aomap,fs.lightmap,fs.emissivemap,fs.bumpmap,fs.normalmap,fs.displacementmap,fs.roughnessmap,fs.metalnessmap,fs.fog,fs.lights,{emissive:{value:new nn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:hs.meshphysical_vert,fragmentShader:hs.meshphysical_frag},toon:{uniforms:pi([fs.common,fs.aomap,fs.lightmap,fs.emissivemap,fs.bumpmap,fs.normalmap,fs.displacementmap,fs.gradientmap,fs.fog,fs.lights,{emissive:{value:new nn(0)}}]),vertexShader:hs.meshtoon_vert,fragmentShader:hs.meshtoon_frag},matcap:{uniforms:pi([fs.common,fs.bumpmap,fs.normalmap,fs.displacementmap,fs.fog,{matcap:{value:null}}]),vertexShader:hs.meshmatcap_vert,fragmentShader:hs.meshmatcap_frag},points:{uniforms:pi([fs.points,fs.fog]),vertexShader:hs.points_vert,fragmentShader:hs.points_frag},dashed:{uniforms:pi([fs.common,fs.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:hs.linedashed_vert,fragmentShader:hs.linedashed_frag},depth:{uniforms:pi([fs.common,fs.displacementmap]),vertexShader:hs.depth_vert,fragmentShader:hs.depth_frag},normal:{uniforms:pi([fs.common,fs.bumpmap,fs.normalmap,fs.displacementmap,{opacity:{value:1}}]),vertexShader:hs.meshnormal_vert,fragmentShader:hs.meshnormal_frag},sprite:{uniforms:pi([fs.sprite,fs.fog]),vertexShader:hs.sprite_vert,fragmentShader:hs.sprite_frag},background:{uniforms:{uvTransform:{value:new He},t2D:{value:null}},vertexShader:hs.background_vert,fragmentShader:hs.background_frag},cube:{uniforms:pi([fs.envmap,{opacity:{value:1}}]),vertexShader:hs.cube_vert,fragmentShader:hs.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:hs.equirect_vert,fragmentShader:hs.equirect_frag},distanceRGBA:{uniforms:pi([fs.common,fs.displacementmap,{referencePosition:{value:new mn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:hs.distanceRGBA_vert,fragmentShader:hs.distanceRGBA_frag},shadow:{uniforms:pi([fs.lights,fs.fog,{color:{value:new nn(0)},opacity:{value:1}}]),vertexShader:hs.shadow_vert,fragmentShader:hs.shadow_frag}};function ms(t,e,n,r,i,o){const a=new nn(0);let s,l,u=!0===i?0:1,c=null,d=0,h=null;function m(n,i){let o=!1,m=!0===i.isScene?i.background:null;m&&m.isTexture&&(m=e.get(m));const v=t.xr,y=v.getSession&&v.getSession();y&&"additive"===y.environmentBlendMode&&(m=null),null===m?g(a,u):m&&m.isColor&&(g(m,1),o=!0),(t.autoClear||o)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),m&&(m.isCubeTexture||m.mapping===st)?(void 0===l&&(l=new ui(new hi(1,1,1),new yi({name:"BackgroundCubeMaterial",uniforms:fi(ps.cube.uniforms),vertexShader:ps.cube.vertexShader,fragmentShader:ps.cube.fragmentShader,side:p,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=m,l.material.uniforms.flipEnvMap.value=m.isCubeTexture&&!1===m.isRenderTargetTexture?-1:1,c===m&&d===m.version&&h===t.toneMapping||(l.material.needsUpdate=!0,c=m,d=m.version,h=t.toneMapping),l.layers.enableAll(),n.unshift(l,l.geometry,l.material,0,0,null)):m&&m.isTexture&&(void 0===s&&(s=new ui(new Ri(2,2),new yi({name:"BackgroundMaterial",uniforms:fi(ps.background.uniforms),vertexShader:ps.background.vertexShader,fragmentShader:ps.background.fragmentShader,side:f,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(s)),s.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),s.material.uniforms.uvTransform.value.copy(m.matrix),c===m&&d===m.version&&h===t.toneMapping||(s.material.needsUpdate=!0,c=m,d=m.version,h=t.toneMapping),s.layers.enableAll(),n.unshift(s,s.geometry,s.material,0,0,null))}function g(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,o)}return{getClearColor:function(){return a},setClearColor:function(t,e=1){a.set(t),u=e,g(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(t){u=t,g(a,u)},render:m}}function gs(t,e,n,r){const i=t.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=g(null);let u=l,c=!1;function d(e,r,i,o,s){let l=!1;if(a){const t=m(o,i,r);u!==t&&(u=t,f(u.object)),l=v(e,o,i,s),l&&y(e,o,i,s)}else{const t=!0===r.wireframe;u.geometry===o.id&&u.program===i.id&&u.wireframe===t||(u.geometry=o.id,u.program=i.id,u.wireframe=t,l=!0)}null!==s&&n.update(s,34963),(l||c)&&(c=!1,M(e,r,i,o),null!==s&&t.bindBuffer(34963,n.get(s).buffer))}function h(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function f(e){return r.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function p(e){return r.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function m(t,e,n){const r=!0===n.wireframe;let i=s[t.id];void 0===i&&(i={},s[t.id]=i);let o=i[e.id];void 0===o&&(o={},i[e.id]=o);let a=o[r];return void 0===a&&(a=g(h()),o[r]=a),a}function g(t){const e=[],n=[],r=[];for(let o=0;o<i;o++)e[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{},index:null}}function v(t,e,n,r){const i=u.attributes,o=e.attributes;let a=0;const s=n.getAttributes();for(const l in s){const e=s[l];if(e.location>=0){const e=i[l];let n=o[l];if(void 0===n&&("instanceMatrix"===l&&t.instanceMatrix&&(n=t.instanceMatrix),"instanceColor"===l&&t.instanceColor&&(n=t.instanceColor)),void 0===e)return!0;if(e.attribute!==n)return!0;if(n&&e.data!==n.data)return!0;a++}}return u.attributesNum!==a||u.index!==r}function y(t,e,n,r){const i={},o=e.attributes;let a=0;const s=n.getAttributes();for(const l in s){const e=s[l];if(e.location>=0){let e=o[l];void 0===e&&("instanceMatrix"===l&&t.instanceMatrix&&(e=t.instanceMatrix),"instanceColor"===l&&t.instanceColor&&(e=t.instanceColor));const n={};n.attribute=e,e&&e.data&&(n.data=e.data),i[l]=n,a++}}u.attributes=i,u.attributesNum=a,u.index=r}function b(){const t=u.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function _(t){w(t,0)}function w(n,i){const o=u.newAttributes,a=u.enabledAttributes,s=u.attributeDivisors;if(o[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),s[n]!==i){const o=r.isWebGL2?t:e.get("ANGLE_instanced_arrays");o[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function x(){const e=u.newAttributes,n=u.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==e[r]&&(t.disableVertexAttribArray(r),n[r]=0)}function S(e,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?t.vertexAttribPointer(e,n,i,o,a,s):t.vertexAttribIPointer(e,n,i,a,s)}function M(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;b();const l=s.attributes,u=a.getAttributes(),c=o.defaultAttributeValues;for(const e in u){const r=u[e];if(r.location>=0){let o=l[e];if(void 0===o&&("instanceMatrix"===e&&i.instanceMatrix&&(o=i.instanceMatrix),"instanceColor"===e&&i.instanceColor&&(o=i.instanceColor)),void 0!==o){const e=o.normalized,a=o.itemSize,l=n.get(o);if(void 0===l)continue;const u=l.buffer,c=l.type,d=l.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,l=n.stride,h=o.offset;if(n.isInstancedInterleavedBuffer){for(let t=0;t<r.locationSize;t++)w(r.location+t,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let t=0;t<r.locationSize;t++)_(r.location+t);t.bindBuffer(34962,u);for(let t=0;t<r.locationSize;t++)S(r.location+t,a/r.locationSize,c,e,l*d,(h+a/r.locationSize*t)*d)}else{if(o.isInstancedBufferAttribute){for(let t=0;t<r.locationSize;t++)w(r.location+t,o.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let t=0;t<r.locationSize;t++)_(r.location+t);t.bindBuffer(34962,u);for(let t=0;t<r.locationSize;t++)S(r.location+t,a/r.locationSize,c,e,a*d,a/r.locationSize*t*d)}}else if(void 0!==c){const n=c[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(r.location,n);break;case 3:t.vertexAttrib3fv(r.location,n);break;case 4:t.vertexAttrib4fv(r.location,n);break;default:t.vertexAttrib1fv(r.location,n)}}}}x()}function E(){C();for(const t in s){const e=s[t];for(const t in e){const n=e[t];for(const t in n)p(n[t].object),delete n[t];delete e[t]}delete s[t]}}function T(t){if(void 0===s[t.id])return;const e=s[t.id];for(const n in e){const t=e[n];for(const e in t)p(t[e].object),delete t[e];delete e[n]}delete s[t.id]}function A(t){for(const e in s){const n=s[e];if(void 0===n[t.id])continue;const r=n[t.id];for(const t in r)p(r[t].object),delete r[t];delete n[t.id]}}function C(){O(),c=!0,u!==l&&(u=l,f(u.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:C,resetDefaultState:O,dispose:E,releaseStatesOfGeometry:T,releaseStatesOfProgram:A,initAttributes:b,enableAttribute:_,disableUnusedAttributes:x}}function vs(t,e,n,i){const o=i.isWebGL2;let a;function s(t){a=t}function l(e,r){t.drawArrays(a,e,r),n.update(r,a,1)}function u(i,s,l){if(0===l)return;let u,c;if(o)u=t,c="drawArraysInstanced";else if(u=e.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===u)return void r.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[c](a,i,s,l),n.update(s,a,l)}this.setMode=s,this.render=l,this.renderInstances=u}function ys(t,e,n){let i;function o(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let l=void 0!==n.precision?n.precision:"highp";const u=a(l);u!==l&&(r.warn("THREE.WebGLRenderer:",l,"not supported, using",u,"instead."),l=u);const c=s||e.has("WEBGL_draw_buffers"),d=!0===n.logarithmicDepthBuffer,h=t.getParameter(34930),f=t.getParameter(35660),p=t.getParameter(3379),m=t.getParameter(34076),g=t.getParameter(34921),v=t.getParameter(36347),y=t.getParameter(36348),b=t.getParameter(36349),_=f>0,w=s||e.has("OES_texture_float"),x=_&&w,S=s?t.getParameter(36183):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:o,getMaxPrecision:a,precision:l,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:v,maxVaryings:y,maxFragmentUniforms:b,vertexTextures:_,floatFragmentTextures:w,floatVertexTextures:x,maxSamples:S}}function bs(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Oi,s=new He,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(t,n,r,i){const o=null!==t?t.length:0;let u=null;if(0!==o){if(u=l.value,!0!==i||null===u){const e=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===u||u.length<e)&&(u=new Float32Array(e));for(let n=0,l=r;n!==o;++n,l+=4)a.copy(t[n]).applyMatrix4(i,s),a.normal.toArray(u,l),u[l+3]=a.constant}l.value=u,l.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,o){const a=0!==t.length||e||0!==r||i;return i=e,n=c(t,o,0),r=t.length,a},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(e,a,s){const d=e.clippingPlanes,h=e.clipIntersection,f=e.clipShadows,p=t.get(e);if(!i||null===d||0===d.length||o&&!f)o?c(null):u();else{const t=o?0:r,e=4*t;let i=p.clippingState||null;l.value=i,i=c(d,a,e,s);for(let r=0;r!==e;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=t}}}function _s(t){let e=new WeakMap;function n(t,e){return e===ot?t.mapping=rt:e===at&&(t.mapping=it),t}function r(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const o=r.mapping;if(o===ot||o===at){if(e.has(r)){const t=e.get(r).texture;return n(t,r.mapping)}{const o=r.image;if(o&&o.height>0){const a=new Ei(o.height/2);return a.fromEquirectangularTexture(t,r),e.set(r,a),r.addEventListener("dispose",i),n(a.texture,r.mapping)}return null}}}return r}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}ps.physical={uniforms:pi([ps.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ue(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new nn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ue},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new nn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new nn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:hs.meshphysical_vert,fragmentShader:hs.meshphysical_frag};class ws extends bi{constructor(t=-1,e=1,n=1,r=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=t*this.view.offsetX,o=i+t*this.view.width,a-=e*this.view.offsetY,s=a-e*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const xs=4,Ss=[.125,.215,.35,.446,.526,.582],Ms=20,Es=new ws,Ts=new nn;let As=null;const Cs=(1+Math.sqrt(5))/2,Os=1/Cs,ks=[new mn(1,1,1),new mn(-1,1,1),new mn(1,1,-1),new mn(-1,1,-1),new mn(0,Cs,Os),new mn(0,Cs,-Os),new mn(Os,0,Cs),new mn(-Os,0,Cs),new mn(Cs,Os,0),new mn(-Cs,Os,0)];class Ps{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){As=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(t,n,r,i),e>0&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Bs(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Ns(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(As),t.scissorTest=!1,Ds(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===rt||t.mapping===it?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),As=this._renderer.getRenderTarget();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:pt,minFilter:pt,generateMipmaps:!1,type:Mt,format:kt,encoding:be,depthBuffer:!1},r=Is(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Is(t,e,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Ls(r)),this._blurMaterial=Rs(r,t,e)}return r}_compileMaterial(t){const e=new ui(this._lodPlanes[0],t);this._renderer.compile(e,Es)}_sceneToCubeUV(t,e,n,r){const i=90,o=1,a=new _i(i,o,e,n),s=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],u=this._renderer,c=u.autoClear,d=u.toneMapping;u.getClearColor(Ts),u.toneMapping=Z,u.autoClear=!1;const h=new Pr({name:"PMREM.Background",side:p,depthWrite:!1,depthTest:!1}),f=new ui(new hi,h);let m=!1;const g=t.background;g?g.isColor&&(h.color.copy(g),t.background=null,m=!0):(h.color.copy(Ts),m=!0);for(let p=0;p<6;p++){const e=p%3;0===e?(a.up.set(0,s[p],0),a.lookAt(l[p],0,0)):1===e?(a.up.set(0,0,s[p]),a.lookAt(0,l[p],0)):(a.up.set(0,s[p],0),a.lookAt(0,0,l[p]));const n=this._cubeSize;Ds(r,e*n,p>2?n:0,n,n),u.setRenderTarget(r),m&&u.render(f,a),u.render(t,a)}f.geometry.dispose(),f.material.dispose(),u.toneMapping=d,u.autoClear=c,t.background=g}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===rt||t.mapping===it;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Bs()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Ns());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new ui(this._lodPlanes[0],i),a=i.uniforms;a["envMap"].value=t;const s=this._cubeSize;Ds(e,0,0,3*s,2*s),n.setRenderTarget(e),n.render(o,Es)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const e=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=ks[(r-1)%ks.length];this._blur(t,r-1,r,e,n)}e.autoClear=n}_blur(t,e,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,r,"latitudinal",i),this._halfBlur(o,t,n,n,r,"longitudinal",i)}_halfBlur(t,e,n,i,o,a,s){const l=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&r.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new ui(this._lodPlanes[i],u),h=u.uniforms,f=this._sizeLods[n]-1,p=isFinite(o)?Math.PI/(2*f):2*Math.PI/(2*Ms-1),m=o/p,g=isFinite(o)?1+Math.floor(c*m):Ms;g>Ms&&r.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Ms}`);const v=[];let y=0;for(let r=0;r<Ms;++r){const t=r/m,e=Math.exp(-t*t/2);v.push(e),0===r?y+=e:r<g&&(y+=2*e)}for(let r=0;r<v.length;r++)v[r]=v[r]/y;h["envMap"].value=t.texture,h["samples"].value=g,h["weights"].value=v,h["latitudinal"].value="latitudinal"===a,s&&(h["poleAxis"].value=s);const{_lodMax:b}=this;h["dTheta"].value=p,h["mipInt"].value=b-n;const _=this._sizeLods[i],w=3*_*(i>b-xs?i-b+xs:0),x=4*(this._cubeSize-_);Ds(e,w,x,3*_,2*_),l.setRenderTarget(e),l.render(d,Es)}}function Ls(t){const e=[],n=[],r=[];let i=t;const o=t-xs+1+Ss.length;for(let a=0;a<o;a++){const o=Math.pow(2,i);n.push(o);let s=1/o;a>t-xs?s=Ss[a-t+xs-1]:0===a&&(s=0),r.push(s);const l=1/(o-2),u=-l,c=1+l,d=[u,u,c,u,c,c,u,u,c,c,u,c],h=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*h),y=new Float32Array(m*f*h),b=new Float32Array(g*f*h);for(let t=0;t<h;t++){const e=t%3*2/3-1,n=t>2?0:-1,r=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];v.set(r,p*f*t),y.set(d,m*f*t);const i=[t,t,t,t,t,t];b.set(i,g*f*t)}const _=new Gr;_.setAttribute("position",new Dr(v,p)),_.setAttribute("uv",new Dr(y,m)),_.setAttribute("faceIndex",new Dr(b,g)),e.push(_),i>xs&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function Is(t,e,n){const r=new dn(t,e,n);return r.texture.mapping=st,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ds(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Rs(t,e,n){const r=new Float32Array(Ms),i=new mn(0,1,0),o=new yi({name:"SphericalGaussianBlur",defines:{n:Ms,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Fs(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:v,depthTest:!1,depthWrite:!1});return o}function Ns(){return new yi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Fs(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:v,depthTest:!1,depthWrite:!1})}function Bs(){return new yi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Fs(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:v,depthTest:!1,depthWrite:!1})}function Fs(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function js(t){let e=new WeakMap,n=null;function r(r){if(r&&r.isTexture){const a=r.mapping,s=a===ot||a===at,l=a===rt||a===it;if(s||l){if(r.isRenderTargetTexture&&!0===r.needsPMREMUpdate){r.needsPMREMUpdate=!1;let i=e.get(r);return null===n&&(n=new Ps(t)),i=s?n.fromEquirectangular(r,i):n.fromCubemap(r,i),e.set(r,i),i.texture}if(e.has(r))return e.get(r).texture;{const a=r.image;if(s&&a&&a.height>0||l&&a&&i(a)){null===n&&(n=new Ps(t));const i=s?n.fromEquirectangular(r):n.fromCubemap(r);return e.set(r,i),r.addEventListener("dispose",o),i.texture}return null}}}return r}function i(t){let e=0;const n=6;for(let r=0;r<n;r++)void 0!==t[r]&&e++;return e===n}function o(t){const n=t.target;n.removeEventListener("dispose",o);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}function a(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}return{get:r,dispose:a}}function zs(t){const e={};function n(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,r}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(t){const e=n(t);return null===e&&r.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function Vs(t,e,n,r){const i={},o=new WeakMap;function a(t){const s=t.target;null!==s.index&&e.remove(s.index);for(const n in s.attributes)e.remove(s.attributes[n]);s.removeEventListener("dispose",a),delete i[s.id];const l=o.get(s);l&&(e.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t,e){return!0===i[e.id]||(e.addEventListener("dispose",a),i[e.id]=!0,n.memory.geometries++),e}function l(t){const n=t.attributes;for(const i in n)e.update(n[i],34962);const r=t.morphAttributes;for(const i in r){const t=r[i];for(let n=0,r=t.length;n<r;n++)e.update(t[n],34962)}}function u(t){const n=[],r=t.index,i=t.attributes.position;let a=0;if(null!==r){const t=r.array;a=r.version;for(let e=0,r=t.length;e<r;e+=3){const r=t[e+0],i=t[e+1],o=t[e+2];n.push(r,i,i,o,o,r)}}else{const t=i.array;a=i.version;for(let e=0,r=t.length/3-1;e<r;e+=3){const t=e+0,r=e+1,i=e+2;n.push(t,r,r,i,i,t)}}const s=new(We(n)?Nr:Rr)(n,1);s.version=a;const l=o.get(t);l&&e.remove(l),o.set(t,s)}function c(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&u(t)}else u(t);return o.get(t)}return{get:s,update:l,getWireframeAttribute:c}}function Us(t,e,n,i){const o=i.isWebGL2;let a,s,l;function u(t){a=t}function c(t){s=t.type,l=t.bytesPerElement}function d(e,r){t.drawElements(a,r,s,e*l),n.update(r,a,1)}function h(i,u,c){if(0===c)return;let d,h;if(o)d=t,h="drawElementsInstanced";else if(d=e.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===d)return void r.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[h](a,u,s,i*l,c),n.update(u,a,c)}this.setMode=u,this.setIndex=c,this.render=d,this.renderInstances=h}function Hs(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(t,e,i){switch(n.calls++,e){case 4:n.triangles+=i*(t/3);break;case 1:n.lines+=i*(t/2);break;case 3:n.lines+=i*(t-1);break;case 2:n.lines+=i*t;break;case 0:n.points+=i*t;break;default:r.error("THREE.WebGLInfo: Unknown draw mode:",e);break}}function o(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:o,update:i}}function Ws(t,e){return t[0]-e[0]}function Gs(t,e){return Math.abs(e[1])-Math.abs(t[1])}function qs(t,e){let n=1;const i=e.isInterleavedBufferAttribute?e.data.array:e.array;i instanceof Int8Array?n=127:i instanceof Int16Array?n=32767:i instanceof Int32Array?n=2147483647:r.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),t.divideScalar(n)}function $s(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new cn,s=[];for(let u=0;u<8;u++)s[u]=[u,0];function l(l,u,c,d){const h=l.morphTargetInfluences;if(!0===e.isWebGL2){const f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==f?f.length:0;let m=o.get(u);if(void 0===m||m.count!==p){void 0!==m&&m.texture.dispose();const y=void 0!==u.morphAttributes.position,b=void 0!==u.morphAttributes.normal,_=void 0!==u.morphAttributes.color,w=u.morphAttributes.position||[],x=u.morphAttributes.normal||[],S=u.morphAttributes.color||[];let M=0;!0===y&&(M=1),!0===b&&(M=2),!0===_&&(M=3);let E=u.attributes.position.count*M,T=1;E>e.maxTextureSize&&(T=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const A=new Float32Array(E*T*4*p),C=new hn(A,E,T,p);C.type=St,C.needsUpdate=!0;const O=4*M;for(let P=0;P<p;P++){const L=w[P],I=x[P],D=S[P],R=E*T*4*P;for(let N=0;N<L.count;N++){const B=N*O;!0===y&&(a.fromBufferAttribute(L,N),!0===L.normalized&&qs(a,L),A[R+B+0]=a.x,A[R+B+1]=a.y,A[R+B+2]=a.z,A[R+B+3]=0),!0===b&&(a.fromBufferAttribute(I,N),!0===I.normalized&&qs(a,I),A[R+B+4]=a.x,A[R+B+5]=a.y,A[R+B+6]=a.z,A[R+B+7]=0),!0===_&&(a.fromBufferAttribute(D,N),!0===D.normalized&&qs(a,D),A[R+B+8]=a.x,A[R+B+9]=a.y,A[R+B+10]=a.z,A[R+B+11]=4===D.itemSize?a.w:1)}}function k(){C.dispose(),o.delete(u),u.removeEventListener("dispose",k)}m={count:p,texture:C,size:new Ue(E,T)},o.set(u,m),u.addEventListener("dispose",k)}let g=0;for(let F=0;F<h.length;F++)g+=h[F];const v=u.morphTargetsRelative?1:1-g;d.getUniforms().setValue(t,"morphTargetBaseInfluence",v),d.getUniforms().setValue(t,"morphTargetInfluences",h),d.getUniforms().setValue(t,"morphTargetsTexture",m.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}else{const j=void 0===h?0:h.length;let z=r[u.id];if(void 0===z||z.length!==j){z=[];for(let G=0;G<j;G++)z[G]=[G,0];r[u.id]=z}for(let q=0;q<j;q++){const $=z[q];$[0]=q,$[1]=h[q]}z.sort(Gs);for(let X=0;X<8;X++)X<j&&z[X][1]?(s[X][0]=z[X][0],s[X][1]=z[X][1]):(s[X][0]=Number.MAX_SAFE_INTEGER,s[X][1]=0);s.sort(Ws);const V=u.morphAttributes.position,U=u.morphAttributes.normal;let H=0;for(let Y=0;Y<8;Y++){const Z=s[Y],J=Z[0],K=Z[1];J!==Number.MAX_SAFE_INTEGER&&K?(V&&u.getAttribute("morphTarget"+Y)!==V[J]&&u.setAttribute("morphTarget"+Y,V[J]),U&&u.getAttribute("morphNormal"+Y)!==U[J]&&u.setAttribute("morphNormal"+Y,U[J]),i[Y]=K,H+=K):(V&&!0===u.hasAttribute("morphTarget"+Y)&&u.deleteAttribute("morphTarget"+Y),U&&!0===u.hasAttribute("morphNormal"+Y)&&u.deleteAttribute("morphNormal"+Y),i[Y]=0)}const W=u.morphTargetsRelative?1:1-H;d.getUniforms().setValue(t,"morphTargetBaseInfluence",W),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Xs(t,e,n,r){let i=new WeakMap;function o(t){const o=r.render.frame,a=t.geometry,l=e.get(t,a);return i.get(l)!==o&&(e.update(l),i.set(l,o)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",s)&&t.addEventListener("dispose",s),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),l}function a(){i=new WeakMap}function s(t){const e=t.target;e.removeEventListener("dispose",s),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:o,dispose:a}}const Ys=new un,Zs=new hn,Js=new fn,Ks=new Mi,Qs=[],tl=[],el=new Float32Array(16),nl=new Float32Array(9),rl=new Float32Array(4);function il(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=Qs[i];if(void 0===o&&(o=new Float32Array(i),Qs[i]=o),0!==e){r.toArray(o,0);for(let r=1,i=0;r!==e;++r)i+=n,t[r].toArray(o,i)}return o}function ol(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function al(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function sl(t,e){let n=tl[e];void 0===n&&(n=new Int32Array(e),tl[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function ll(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ul(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ol(n,e))return;t.uniform2fv(this.addr,e),al(n,e)}}function cl(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ol(n,e))return;t.uniform3fv(this.addr,e),al(n,e)}}function dl(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ol(n,e))return;t.uniform4fv(this.addr,e),al(n,e)}}function hl(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(ol(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),al(n,e)}else{if(ol(n,r))return;rl.set(r),t.uniformMatrix2fv(this.addr,!1,rl),al(n,r)}}function fl(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(ol(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),al(n,e)}else{if(ol(n,r))return;nl.set(r),t.uniformMatrix3fv(this.addr,!1,nl),al(n,r)}}function pl(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(ol(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),al(n,e)}else{if(ol(n,r))return;el.set(r),t.uniformMatrix4fv(this.addr,!1,el),al(n,r)}}function ml(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function gl(t,e){const n=this.cache;ol(n,e)||(t.uniform2iv(this.addr,e),al(n,e))}function vl(t,e){const n=this.cache;ol(n,e)||(t.uniform3iv(this.addr,e),al(n,e))}function yl(t,e){const n=this.cache;ol(n,e)||(t.uniform4iv(this.addr,e),al(n,e))}function bl(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function _l(t,e){const n=this.cache;ol(n,e)||(t.uniform2uiv(this.addr,e),al(n,e))}function wl(t,e){const n=this.cache;ol(n,e)||(t.uniform3uiv(this.addr,e),al(n,e))}function xl(t,e){const n=this.cache;ol(n,e)||(t.uniform4uiv(this.addr,e),al(n,e))}function Sl(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||Ys,i)}function Ml(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Js,i)}function El(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Ks,i)}function Tl(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Zs,i)}function Al(t){switch(t){case 5126:return ll;case 35664:return ul;case 35665:return cl;case 35666:return dl;case 35674:return hl;case 35675:return fl;case 35676:return pl;case 5124:case 35670:return ml;case 35667:case 35671:return gl;case 35668:case 35672:return vl;case 35669:case 35673:return yl;case 5125:return bl;case 36294:return _l;case 36295:return wl;case 36296:return xl;case 35678:case 36198:case 36298:case 36306:case 35682:return Sl;case 35679:case 36299:case 36307:return Ml;case 35680:case 36300:case 36308:case 36293:return El;case 36289:case 36303:case 36311:case 36292:return Tl}}function Cl(t,e){t.uniform1fv(this.addr,e)}function Ol(t,e){const n=il(e,this.size,2);t.uniform2fv(this.addr,n)}function kl(t,e){const n=il(e,this.size,3);t.uniform3fv(this.addr,n)}function Pl(t,e){const n=il(e,this.size,4);t.uniform4fv(this.addr,n)}function Ll(t,e){const n=il(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Il(t,e){const n=il(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Dl(t,e){const n=il(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Rl(t,e){t.uniform1iv(this.addr,e)}function Nl(t,e){t.uniform2iv(this.addr,e)}function Bl(t,e){t.uniform3iv(this.addr,e)}function Fl(t,e){t.uniform4iv(this.addr,e)}function jl(t,e){t.uniform1uiv(this.addr,e)}function zl(t,e){t.uniform2uiv(this.addr,e)}function Vl(t,e){t.uniform3uiv(this.addr,e)}function Ul(t,e){t.uniform4uiv(this.addr,e)}function Hl(t,e,n){const r=e.length,i=sl(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTexture2D(e[o]||Ys,i[o])}function Wl(t,e,n){const r=e.length,i=sl(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTexture3D(e[o]||Js,i[o])}function Gl(t,e,n){const r=e.length,i=sl(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTextureCube(e[o]||Ks,i[o])}function ql(t,e,n){const r=e.length,i=sl(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||Zs,i[o])}function $l(t){switch(t){case 5126:return Cl;case 35664:return Ol;case 35665:return kl;case 35666:return Pl;case 35674:return Ll;case 35675:return Il;case 35676:return Dl;case 5124:case 35670:return Rl;case 35667:case 35671:return Nl;case 35668:case 35672:return Bl;case 35669:case 35673:return Fl;case 5125:return jl;case 36294:return zl;case 36295:return Vl;case 36296:return Ul;case 35678:case 36198:case 36298:case 36306:case 35682:return Hl;case 35679:case 36299:case 36307:return Wl;case 35680:case 36300:case 36308:case 36293:return Gl;case 36289:case 36303:case 36311:case 36292:return ql}}class Xl{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=Al(e.type)}}class Yl{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=$l(e.type)}}class Zl{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(t,e[o.id],n)}}}const Jl=/(\w+)(\])?(\[|\.)?/g;function Kl(t,e){t.seq.push(e),t.map[e.id]=e}function Ql(t,e,n){const r=t.name,i=r.length;Jl.lastIndex=0;while(1){const o=Jl.exec(r),a=Jl.lastIndex;let s=o[1];const l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===i){Kl(n,void 0===u?new Xl(s,t,e):new Yl(s,t,e));break}{const t=n.map;let e=t[s];void 0===e&&(e=new Zl(s),Kl(n,e)),n=e}}}class tu{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let r=0;r<n;++r){const n=t.getActiveUniform(e,r),i=t.getUniformLocation(e,n.name);Ql(n,i,this)}}setValue(t,e,n,r){const i=this.map[e];void 0!==i&&i.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const o=e[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(t,a.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const i=t[r];i.id in e&&n.push(i)}return n}}function eu(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let nu=0;function ru(t,e){const n=t.split("\n"),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const t=a+1;r.push(`${t===e?">":" "} ${t}: ${n[a]}`)}return r.join("\n")}function iu(t){switch(t){case be:return["Linear","( value )"];case _e:return["sRGB","( value )"];default:return r.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function ou(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+ru(t.getShaderSource(e),r)}return i}function au(t,e){const n=iu(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function su(t,e){let n;switch(e){case J:n="Linear";break;case K:n="Reinhard";break;case Q:n="OptimizedCineon";break;case tt:n="ACESFilmic";break;case et:n="Custom";break;default:r.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function lu(t){const e=[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return e.filter(du).join("\n")}function uu(t){const e=[];for(const n in t){const r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}function cu(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i),o=r.name;let a=1;35674===r.type&&(a=2),35675===r.type&&(a=3),35676===r.type&&(a=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function du(t){return""!==t}function hu(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function fu(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const pu=/^[ \t]*#include +<([\w\d./]+)>/gm;function mu(t){return t.replace(pu,gu)}function gu(t,e){const n=hs[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return mu(n)}const vu=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,yu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bu(t){return t.replace(yu,wu).replace(vu,_u)}function _u(t,e,n,i){return r.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),wu(t,e,n,i)}function wu(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function xu(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Su(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===c?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===d?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===h&&(e="SHADOWMAP_TYPE_VSM"),e}function Mu(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case rt:case it:e="ENVMAP_TYPE_CUBE";break;case st:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Eu(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case it:e="ENVMAP_MODE_REFRACTION";break}return e}function Tu(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case $:e="ENVMAP_BLENDING_MULTIPLY";break;case X:e="ENVMAP_BLENDING_MIX";break;case Y:e="ENVMAP_BLENDING_ADD";break}return e}function Au(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,r=1/e,i=1/(3*Math.max(Math.pow(2,n),112));return{texelWidth:i,texelHeight:r,maxMip:n}}function Cu(t,e,n,i){const o=t.getContext(),a=n.defines;let s=n.vertexShader,l=n.fragmentShader;const u=Su(n),c=Mu(n),d=Eu(n),h=Tu(n),f=Au(n),p=n.isWebGL2?"":lu(n),m=uu(a),g=o.createProgram();let v,y,b=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(v=[m].filter(du).join("\n"),v.length>0&&(v+="\n"),y=[p,m].filter(du).join("\n"),y.length>0&&(y+="\n")):(v=[xu(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(du).join("\n"),y=[p,xu(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Z?"#define TONE_MAPPING":"",n.toneMapping!==Z?hs["tonemapping_pars_fragment"]:"",n.toneMapping!==Z?su("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",hs["encodings_pars_fragment"],au("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(du).join("\n")),s=mu(s),s=hu(s,n),s=fu(s,n),l=mu(l),l=hu(l,n),l=fu(l,n),s=bu(s),l=bu(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(b="#version 300 es\n",v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,y=["#define varying in",n.glslVersion===ke?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===ke?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y);const _=b+v+s,w=b+y+l,x=eu(o,35633,_),S=eu(o,35632,w);if(o.attachShader(g,x),o.attachShader(g,S),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),t.debug.checkShaderErrors){const t=o.getProgramInfoLog(g).trim(),e=o.getShaderInfoLog(x).trim(),n=o.getShaderInfoLog(S).trim();let i=!0,a=!0;if(!1===o.getProgramParameter(g,35714)){i=!1;const e=ou(o,x,"vertex"),n=ou(o,S,"fragment");r.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+t+"\n"+e+"\n"+n)}else""!==t?r.warn("THREE.WebGLProgram: Program Info Log:",t):""!==e&&""!==n||(a=!1);a&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:e,prefix:v},fragmentShader:{log:n,prefix:y}})}let M,E;return o.deleteShader(x),o.deleteShader(S),this.getUniforms=function(){return void 0===M&&(M=new tu(o,g)),M},this.getAttributes=function(){return void 0===E&&(E=cu(o,g)),E},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=nu++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=x,this.fragmentShader=S,this}let Ou=0;class ku{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(t);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(!1===e.has(t)){const n=new Pu(t);e.set(t,n)}return e.get(t)}}class Pu{constructor(t){this.id=Ou++,this.code=t,this.usedTimes=0}}function Lu(t,e,n,i,o,a,s){const l=new rr,u=new ku,c=[],d=o.isWebGL2,h=o.logarithmicDepthBuffer,f=o.vertexTextures;let g=o.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(a,l,c,b,_){const w=b.fog,x=_.geometry,S=a.isMeshStandardMaterial?b.environment:null,M=(a.isMeshStandardMaterial?n:e).get(a.envMap||S),E=M&&M.mapping===st?M.image.height:null,T=v[a.type];null!==a.precision&&(g=o.getMaxPrecision(a.precision),g!==a.precision&&r.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",g,"instead."));const A=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,C=void 0!==A?A.length:0;let O,k,P,L,I=0;if(void 0!==x.morphAttributes.position&&(I=1),void 0!==x.morphAttributes.normal&&(I=2),void 0!==x.morphAttributes.color&&(I=3),T){const t=ps[T];O=t.vertexShader,k=t.fragmentShader}else O=a.vertexShader,k=a.fragmentShader,u.update(a),P=u.getVertexShaderID(a),L=u.getFragmentShaderID(a);const D=t.getRenderTarget(),R=a.alphaTest>0,N=a.clearcoat>0,B=a.iridescence>0,F={isWebGL2:d,shaderID:T,shaderName:a.type,vertexShader:O,fragmentShader:k,defines:a.defines,customVertexShaderID:P,customFragmentShaderID:L,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:g,instancing:!0===_.isInstancedMesh,instancingColor:!0===_.isInstancedMesh&&null!==_.instanceColor,supportsVertexTextures:f,outputEncoding:null===D?t.outputEncoding:!0===D.isXRRenderTarget?D.texture.encoding:be,map:!!a.map,matcap:!!a.matcap,envMap:!!M,envMapMode:M&&M.mapping,envMapCubeUVHeight:E,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===Me,tangentSpaceNormalMap:a.normalMapType===Se,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===_e,clearcoat:N,clearcoatMap:N&&!!a.clearcoatMap,clearcoatRoughnessMap:N&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:N&&!!a.clearcoatNormalMap,iridescence:B,iridescenceMap:B&&!!a.iridescenceMap,iridescenceThicknessMap:B&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===y,alphaMap:!!a.alphaMap,alphaTest:R,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!x.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.iridescenceMap||!!a.iridescenceThicknessMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!w,useFog:!0===a.fog,fogExp2:w&&w.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===_.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:C,morphTextureStride:I,numDirLights:l.directional.length,numPointLights:l.point.length,numSpotLights:l.spot.length,numRectAreaLights:l.rectArea.length,numHemiLights:l.hemi.length,numDirLightShadows:l.directionalShadowMap.length,numPointLightShadows:l.pointShadowMap.length,numSpotLightShadows:l.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:a.dithering,shadowMapEnabled:t.shadowMap.enabled&&c.length>0,shadowMapType:t.shadowMap.type,toneMapping:a.toneMapped?t.toneMapping:Z,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===m,flipSided:a.side===p,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()};return F}function _(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(w(n,e),x(n,e),n.push(t.outputEncoding)),n.push(e.customProgramCacheKey),n.join()}function w(t,e){t.push(e.precision),t.push(e.outputEncoding),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.combine),t.push(e.vertexUvs),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}function x(t,e){l.disableAll(),e.isWebGL2&&l.enable(0),e.supportsVertexTextures&&l.enable(1),e.instancing&&l.enable(2),e.instancingColor&&l.enable(3),e.map&&l.enable(4),e.matcap&&l.enable(5),e.envMap&&l.enable(6),e.lightMap&&l.enable(7),e.aoMap&&l.enable(8),e.emissiveMap&&l.enable(9),e.bumpMap&&l.enable(10),e.normalMap&&l.enable(11),e.objectSpaceNormalMap&&l.enable(12),e.tangentSpaceNormalMap&&l.enable(13),e.clearcoat&&l.enable(14),e.clearcoatMap&&l.enable(15),e.clearcoatRoughnessMap&&l.enable(16),e.clearcoatNormalMap&&l.enable(17),e.iridescence&&l.enable(18),e.iridescenceMap&&l.enable(19),e.iridescenceThicknessMap&&l.enable(20),e.displacementMap&&l.enable(21),e.specularMap&&l.enable(22),e.roughnessMap&&l.enable(23),e.metalnessMap&&l.enable(24),e.gradientMap&&l.enable(25),e.alphaMap&&l.enable(26),e.alphaTest&&l.enable(27),e.vertexColors&&l.enable(28),e.vertexAlphas&&l.enable(29),e.vertexUvs&&l.enable(30),e.vertexTangents&&l.enable(31),e.uvsVertexOnly&&l.enable(32),e.fog&&l.enable(33),t.push(l.mask),l.disableAll(),e.useFog&&l.enable(0),e.flatShading&&l.enable(1),e.logarithmicDepthBuffer&&l.enable(2),e.skinning&&l.enable(3),e.morphTargets&&l.enable(4),e.morphNormals&&l.enable(5),e.morphColors&&l.enable(6),e.premultipliedAlpha&&l.enable(7),e.shadowMapEnabled&&l.enable(8),e.physicallyCorrectLights&&l.enable(9),e.doubleSided&&l.enable(10),e.flipSided&&l.enable(11),e.useDepthPacking&&l.enable(12),e.dithering&&l.enable(13),e.specularIntensityMap&&l.enable(14),e.specularColorMap&&l.enable(15),e.transmission&&l.enable(16),e.transmissionMap&&l.enable(17),e.thicknessMap&&l.enable(18),e.sheen&&l.enable(19),e.sheenColorMap&&l.enable(20),e.sheenRoughnessMap&&l.enable(21),e.decodeVideoTexture&&l.enable(22),e.opaque&&l.enable(23),t.push(l.mask)}function S(t){const e=v[t.type];let n;if(e){const t=ps[e];n=mi.clone(t.uniforms)}else n=t.uniforms;return n}function M(e,n){let r;for(let t=0,i=c.length;t<i;t++){const e=c[t];if(e.cacheKey===n){r=e,++r.usedTimes;break}}return void 0===r&&(r=new Cu(t,n,e,a),c.push(r)),r}function E(t){if(0===--t.usedTimes){const e=c.indexOf(t);c[e]=c[c.length-1],c.pop(),t.destroy()}}function T(t){u.remove(t)}function A(){u.dispose()}return{getParameters:b,getProgramCacheKey:_,getUniforms:S,acquireProgram:M,releaseProgram:E,releaseShaderCache:T,programs:c,dispose:A}}function Iu(){let t=new WeakMap;function e(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n}function n(e){t.delete(e)}function r(e,n,r){t.get(e)[n]=r}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Du(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Ru(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Nu(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(n,r,i,o,a,s){let l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},t[e]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),e++,l}function s(t,e,o,s,l,u){const c=a(t,e,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)}function l(t,e,o,s,l,u){const c=a(t,e,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)}function u(t,e){n.length>1&&n.sort(t||Du),r.length>1&&r.sort(e||Ru),i.length>1&&i.sort(e||Ru)}function c(){for(let n=e,r=t.length;n<r;n++){const e=t[n];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:c,sort:u}}function Bu(){let t=new WeakMap;function e(e,n){let r;return!1===t.has(e)?(r=new Nu,t.set(e,[r])):n>=t.get(e).length?(r=new Nu,t.get(e).push(r)):r=t.get(e)[n],r}function n(){t=new WeakMap}return{get:e,dispose:n}}function Fu(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new mn,color:new nn};break;case"SpotLight":n={position:new mn,direction:new mn,color:new nn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new mn,color:new nn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new mn,skyColor:new nn,groundColor:new nn};break;case"RectAreaLight":n={color:new nn,position:new mn,halfWidth:new mn,halfHeight:new mn};break}return t[e.id]=n,n}}}function ju(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let zu=0;function Vu(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Uu(t,e){const n=new Fu,i=ju(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let r=0;r<9;r++)o.probe.push(new mn);const a=new mn,s=new qn,l=new qn;function u(a,s){let l=0,u=0,c=0;for(let t=0;t<9;t++)o.probe[t].set(0,0,0);let d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0;a.sort(Vu);const b=!0!==s?Math.PI:1;for(let t=0,e=a.length;t<e;t++){const e=a[t],r=e.color,s=e.intensity,_=e.distance,w=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)l+=r.r*s*b,u+=r.g*s*b,c+=r.b*s*b;else if(e.isLightProbe)for(let t=0;t<9;t++)o.probe[t].addScaledVector(e.sh.coefficients[t],s);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*b),e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,o.directionalShadow[d]=n,o.directionalShadowMap[d]=w,o.directionalShadowMatrix[d]=e.shadow.matrix,g++}o.directional[d]=t,d++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(r).multiplyScalar(s*b),t.distance=_,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,o.spotShadow[f]=n,o.spotShadowMap[f]=w,o.spotShadowMatrix[f]=e.shadow.matrix,y++}o.spot[f]=t,f++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(r).multiplyScalar(s),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),o.rectArea[p]=t,p++}else if(e.isPointLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*b),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,o.pointShadow[h]=n,o.pointShadowMap[h]=w,o.pointShadowMatrix[h]=e.shadow.matrix,v++}o.point[h]=t,h++}else if(e.isHemisphereLight){const t=n.get(e);t.skyColor.copy(e.color).multiplyScalar(s*b),t.groundColor.copy(e.groundColor).multiplyScalar(s*b),o.hemi[m]=t,m++}}p>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(o.rectAreaLTC1=fs.LTC_FLOAT_1,o.rectAreaLTC2=fs.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(o.rectAreaLTC1=fs.LTC_HALF_1,o.rectAreaLTC2=fs.LTC_HALF_2):r.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=l,o.ambient[1]=u,o.ambient[2]=c;const _=o.hash;_.directionalLength===d&&_.pointLength===h&&_.spotLength===f&&_.rectAreaLength===p&&_.hemiLength===m&&_.numDirectionalShadows===g&&_.numPointShadows===v&&_.numSpotShadows===y||(o.directional.length=d,o.spot.length=f,o.rectArea.length=p,o.point.length=h,o.hemi.length=m,o.directionalShadow.length=g,o.directionalShadowMap.length=g,o.pointShadow.length=v,o.pointShadowMap.length=v,o.spotShadow.length=y,o.spotShadowMap.length=y,o.directionalShadowMatrix.length=g,o.pointShadowMatrix.length=v,o.spotShadowMatrix.length=y,_.directionalLength=d,_.pointLength=h,_.spotLength=f,_.rectAreaLength=p,_.hemiLength=m,_.numDirectionalShadows=g,_.numPointShadows=v,_.numSpotShadows=y,o.version=zu++)}function c(t,e){let n=0,r=0,i=0,u=0,c=0;const d=e.matrixWorldInverse;for(let h=0,f=t.length;h<f;h++){const e=t[h];if(e.isDirectionalLight){const t=o.directional[n];t.direction.setFromMatrixPosition(e.matrixWorld),a.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(a),t.direction.transformDirection(d),n++}else if(e.isSpotLight){const t=o.spot[i];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(d),t.direction.setFromMatrixPosition(e.matrixWorld),a.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(a),t.direction.transformDirection(d),i++}else if(e.isRectAreaLight){const t=o.rectArea[u];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(d),l.identity(),s.copy(e.matrixWorld),s.premultiply(d),l.extractRotation(s),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(l),t.halfHeight.applyMatrix4(l),u++}else if(e.isPointLight){const t=o.point[r];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(d),r++}else if(e.isHemisphereLight){const t=o.hemi[c];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(d),c++}}}return{setup:u,setupView:c,state:o}}function Hu(t,e){const n=new Uu(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(t){r.push(t)}function s(t){i.push(t)}function l(t){n.setup(r,t)}function u(t){n.setupView(r,t)}const c={lightsArray:r,shadowsArray:i,lights:n};return{init:o,state:c,setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function Wu(t,e){let n=new WeakMap;function r(r,i=0){let o;return!1===n.has(r)?(o=new Hu(t,e),n.set(r,[o])):i>=n.get(r).length?(o=new Hu(t,e),n.get(r).push(o)):o=n.get(r)[i],o}function i(){n=new WeakMap}return{get:r,dispose:i}}class Gu extends kr{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=we,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class qu extends kr{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new mn,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const $u="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Xu="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function Yu(t,e,n){let i=new Li;const o=new Ue,a=new Ue,s=new cn,l=new Gu({depthPacking:xe}),u=new qu,d={},g=n.maxTextureSize,y={0:p,1:f,2:m},b=new yi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ue},radius:{value:4}},vertexShader:$u,fragmentShader:Xu}),_=b.clone();_.defines.HORIZONTAL_PASS=1;const w=new Gr;w.setAttribute("position",new Dr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new ui(w,b),S=this;function M(n,r){const i=e.update(x);b.defines.VSM_SAMPLES!==n.blurSamples&&(b.defines.VSM_SAMPLES=n.blurSamples,_.defines.VSM_SAMPLES=n.blurSamples,b.needsUpdate=!0,_.needsUpdate=!0),b.uniforms.shadow_pass.value=n.map.texture,b.uniforms.resolution.value=n.mapSize,b.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,null,i,b,x,null),_.uniforms.shadow_pass.value=n.mapPass.texture,_.uniforms.resolution.value=n.mapSize,_.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,null,i,_,x,null)}function E(e,n,r,i,o,a){let s=null;const c=!0===r.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(s=void 0!==c?c:!0===r.isPointLight?u:l,t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0){const t=s.uuid,e=n.uuid;let r=d[t];void 0===r&&(r={},d[t]=r);let i=r[e];void 0===i&&(i=s.clone(),r[e]=i),s=i}return s.visible=n.visible,s.wireframe=n.wireframe,s.side=a===h?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:y[n.side],s.alphaMap=n.alphaMap,s.alphaTest=n.alphaTest,s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.displacementMap=n.displacementMap,s.displacementScale=n.displacementScale,s.displacementBias=n.displacementBias,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===r.isPointLight&&!0===s.isMeshDistanceMaterial&&(s.referencePosition.setFromMatrixPosition(r.matrixWorld),s.nearDistance=i,s.farDistance=o),s}function T(n,r,o,a,s){if(!1===n.visible)return;const l=n.layers.test(r.layers);if(l&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===h)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=e.update(n),i=n.material;if(Array.isArray(i)){const e=r.groups;for(let l=0,u=e.length;l<u;l++){const u=e[l],c=i[u.materialIndex];if(c&&c.visible){const e=E(n,c,a,o.near,o.far,s);t.renderBufferDirect(o,null,r,e,n,u)}}}else if(i.visible){const e=E(n,i,a,o.near,o.far,s);t.renderBufferDirect(o,null,r,e,n,null)}}const u=n.children;for(let t=0,e=u.length;t<e;t++)T(u[t],r,o,a,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=c,this.render=function(e,n,l){if(!1===S.enabled)return;if(!1===S.autoUpdate&&!1===S.needsUpdate)return;if(0===e.length)return;const u=t.getRenderTarget(),c=t.getActiveCubeFace(),d=t.getActiveMipmapLevel(),f=t.state;f.setBlending(v),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(let p=0,m=e.length;p<m;p++){const u=e[p],c=u.shadow;if(void 0===c){r.warn("THREE.WebGLShadowMap:",u,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;o.copy(c.mapSize);const d=c.getFrameExtents();if(o.multiply(d),a.copy(c.mapSize),(o.x>g||o.y>g)&&(o.x>g&&(a.x=Math.floor(g/d.x),o.x=a.x*d.x,c.mapSize.x=a.x),o.y>g&&(a.y=Math.floor(g/d.y),o.y=a.y*d.y,c.mapSize.y=a.y)),null!==c.map||c.isPointLightShadow||this.type!==h||(c.map=new dn(o.x,o.y),c.map.texture.name=u.name+".shadowMap",c.mapPass=new dn(o.x,o.y),c.camera.updateProjectionMatrix()),null===c.map){const t={minFilter:dt,magFilter:dt,format:kt};c.map=new dn(o.x,o.y,t),c.map.texture.name=u.name+".shadowMap",c.camera.updateProjectionMatrix()}t.setRenderTarget(c.map),t.clear();const m=c.getViewportCount();for(let t=0;t<m;t++){const e=c.getViewport(t);s.set(a.x*e.x,a.y*e.y,a.x*e.z,a.y*e.w),f.viewport(s),c.updateMatrices(u,t),i=c.getFrustum(),T(n,l,c.camera,u,this.type)}c.isPointLightShadow||this.type!==h||M(c,l),c.needsUpdate=!1}S.needsUpdate=!1,t.setRenderTarget(u,c,d)}}function Zu(t,e,n){const i=n.isWebGL2;function o(){let e=!1;const n=new cn;let r=null;const i=new cn(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}}function a(){let e=!1,n=null,r=null,i=null;return{setTest:function(t){t?St(2929):Mt(2929)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case j:t.depthFunc(512);break;case z:t.depthFunc(519);break;case V:t.depthFunc(513);break;case U:t.depthFunc(515);break;case H:t.depthFunc(514);break;case W:t.depthFunc(518);break;case G:t.depthFunc(516);break;case q:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function c(){let e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(t){e||(t?St(2960):Mt(2960))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&l===r||(t.stencilOp(e,n,r),a=e,s=n,l=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null}}}const d=new o,h=new a,f=new c;let g={},$={},X=new WeakMap,Y=[],Z=null,J=!1,K=null,Q=null,tt=null,et=null,nt=null,rt=null,it=null,ot=!1,at=null,st=null,lt=null,ut=null,ct=null;const dt=t.getParameter(35661);let ht=!1,ft=0;const pt=t.getParameter(7938);-1!==pt.indexOf("WebGL")?(ft=parseFloat(/^WebGL (\d)/.exec(pt)[1]),ht=ft>=1):-1!==pt.indexOf("OpenGL ES")&&(ft=parseFloat(/^OpenGL ES (\d)/.exec(pt)[1]),ht=ft>=2);let mt=null,gt={};const vt=t.getParameter(3088),yt=t.getParameter(2978),bt=(new cn).fromArray(vt),_t=(new cn).fromArray(yt);function wt(e,n,r){const i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let a=0;a<r;a++)t.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}const xt={};function St(e){!0!==g[e]&&(t.enable(e),g[e]=!0)}function Mt(e){!1!==g[e]&&(t.disable(e),g[e]=!1)}function Et(e,n){return $[e]!==n&&(t.bindFramebuffer(e,n),$[e]=n,i&&(36009===e&&($[36160]=n),36160===e&&($[36009]=n)),!0)}function Tt(r,i){let o=Y,a=!1;if(r)if(o=X.get(i),void 0===o&&(o=[],X.set(i,o)),r.isWebGLMultipleRenderTargets){const t=r.texture;if(o.length!==t.length||36064!==o[0]){for(let e=0,n=t.length;e<n;e++)o[e]=36064+e;o.length=t.length,a=!0}}else 36064!==o[0]&&(o[0]=36064,a=!0);else 1029!==o[0]&&(o[0]=1029,a=!0);a&&(n.isWebGL2?t.drawBuffers(o):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))}function At(e){return Z!==e&&(t.useProgram(e),Z=e,!0)}xt[3553]=wt(3553,3553,1),xt[34067]=wt(34067,34069,6),d.setClear(0,0,0,1),h.setClear(1),f.setClear(0),St(2929),h.setFunc(U),Lt(!1),It(l),St(2884),kt(v);const Ct={[S]:32774,[M]:32778,[E]:32779};if(i)Ct[T]=32775,Ct[A]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(Ct[T]=t.MIN_EXT,Ct[A]=t.MAX_EXT)}const Ot={[C]:0,[O]:1,[k]:768,[L]:770,[F]:776,[N]:774,[D]:772,[P]:769,[I]:771,[B]:775,[R]:773};function kt(e,n,i,o,a,s,l,u){if(e!==v){if(!1===J&&(St(3042),J=!0),e===x)a=a||n,s=s||i,l=l||o,n===Q&&a===nt||(t.blendEquationSeparate(Ct[n],Ct[a]),Q=n,nt=a),i===tt&&o===et&&s===rt&&l===it||(t.blendFuncSeparate(Ot[i],Ot[o],Ot[s],Ot[l]),tt=i,et=o,rt=s,it=l),K=e,ot=null;else if(e!==K||u!==ot){if(Q===S&&nt===S||(t.blendEquation(32774),Q=S,nt=S),u)switch(e){case y:t.blendFuncSeparate(1,771,1,771);break;case b:t.blendFunc(1,1);break;case _:t.blendFuncSeparate(0,769,0,1);break;case w:t.blendFuncSeparate(0,768,0,770);break;default:r.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case y:t.blendFuncSeparate(770,771,1,771);break;case b:t.blendFunc(770,1);break;case _:t.blendFuncSeparate(0,769,0,1);break;case w:t.blendFunc(0,768);break;default:r.error("THREE.WebGLState: Invalid blending: ",e);break}tt=null,et=null,rt=null,it=null,K=e,ot=u}}else!0===J&&(Mt(3042),J=!1)}function Pt(t,e){t.side===m?Mt(2884):St(2884);let n=t.side===p;e&&(n=!n),Lt(n),t.blending===y&&!1===t.transparent?kt(v):kt(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),h.setFunc(t.depthFunc),h.setTest(t.depthTest),h.setMask(t.depthWrite),d.setMask(t.colorWrite);const r=t.stencilWrite;f.setTest(r),r&&(f.setMask(t.stencilWriteMask),f.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),f.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Rt(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?St(32926):Mt(32926)}function Lt(e){at!==e&&(e?t.frontFace(2304):t.frontFace(2305),at=e)}function It(e){e!==s?(St(2884),e!==st&&(e===l?t.cullFace(1029):e===u?t.cullFace(1028):t.cullFace(1032))):Mt(2884),st=e}function Dt(e){e!==lt&&(ht&&t.lineWidth(e),lt=e)}function Rt(e,n,r){e?(St(32823),ut===n&&ct===r||(t.polygonOffset(n,r),ut=n,ct=r)):Mt(32823)}function Nt(t){t?St(3089):Mt(3089)}function Bt(e){void 0===e&&(e=33984+dt-1),mt!==e&&(t.activeTexture(e),mt=e)}function Ft(e,n){null===mt&&Bt();let r=gt[mt];void 0===r&&(r={type:void 0,texture:void 0},gt[mt]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||xt[e]),r.type=e,r.texture=n)}function jt(){const e=gt[mt];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)}function zt(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){r.error("THREE.WebGLState:",e)}}function Vt(){try{t.texSubImage2D.apply(t,arguments)}catch(e){r.error("THREE.WebGLState:",e)}}function Ut(){try{t.texSubImage3D.apply(t,arguments)}catch(e){r.error("THREE.WebGLState:",e)}}function Ht(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(e){r.error("THREE.WebGLState:",e)}}function Wt(){try{t.texStorage2D.apply(t,arguments)}catch(e){r.error("THREE.WebGLState:",e)}}function Gt(){try{t.texStorage3D.apply(t,arguments)}catch(e){r.error("THREE.WebGLState:",e)}}function qt(){try{t.texImage2D.apply(t,arguments)}catch(e){r.error("THREE.WebGLState:",e)}}function $t(){try{t.texImage3D.apply(t,arguments)}catch(e){r.error("THREE.WebGLState:",e)}}function Xt(e){!1===bt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),bt.copy(e))}function Yt(e){!1===_t.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),_t.copy(e))}function Zt(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===i&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),g={},mt=null,gt={},$={},X=new WeakMap,Y=[],Z=null,J=!1,K=null,Q=null,tt=null,et=null,nt=null,rt=null,it=null,ot=!1,at=null,st=null,lt=null,ut=null,ct=null,bt.set(0,0,t.canvas.width,t.canvas.height),_t.set(0,0,t.canvas.width,t.canvas.height),d.reset(),h.reset(),f.reset()}return{buffers:{color:d,depth:h,stencil:f},enable:St,disable:Mt,bindFramebuffer:Et,drawBuffers:Tt,useProgram:At,setBlending:kt,setMaterial:Pt,setFlipSided:Lt,setCullFace:It,setLineWidth:Dt,setPolygonOffset:Rt,setScissorTest:Nt,activeTexture:Bt,bindTexture:Ft,unbindTexture:jt,compressedTexImage2D:zt,texImage2D:qt,texImage3D:$t,texStorage2D:Wt,texStorage3D:Gt,texSubImage2D:Vt,texSubImage3D:Ut,compressedTexSubImage2D:Ht,scissor:Xt,viewport:Yt,reset:Zt}}function Ju(t,e,n,i,o,a,s){const l=o.isWebGL2,u=o.maxTextures,c=o.maxCubemapSize,d=o.maxTextureSize,h=o.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let g;const v=new WeakMap;let y=!1;try{y="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(ot){}function b(t,e){return y?new OffscreenCanvas(t,e):Ge("canvas")}function _(t,e,n,i){let o=1;if((t.width>i||t.height>i)&&(o=i/Math.max(t.width,t.height)),o<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){const i=e?Ve:Math.floor,a=i(o*t.width),s=i(o*t.height);void 0===g&&(g=b(a,s));const l=n?b(a,s):g;l.width=a,l.height=s;const u=l.getContext("2d");return u.drawImage(t,0,0,a,s),r.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+a+"x"+s+")."),l}return"data"in t&&r.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function w(t){return ze(t.width)&&ze(t.height)}function x(t){return!l&&(t.wrapS!==ut||t.wrapT!==ut||t.minFilter!==dt&&t.minFilter!==pt)}function S(t,e){return t.generateMipmaps&&e&&t.minFilter!==dt&&t.minFilter!==pt}function M(e){t.generateMipmap(e)}function E(n,i,o,a,s=!1){if(!1===l)return i;if(null!==n){if(void 0!==t[n])return t[n];r.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let u=i;return 6403===i&&(5126===o&&(u=33326),5131===o&&(u=33325),5121===o&&(u=33321)),33319===i&&(5126===o&&(u=33328),5131===o&&(u=33327),5121===o&&(u=33323)),6408===i&&(5126===o&&(u=34836),5131===o&&(u=34842),5121===o&&(u=a===_e&&!1===s?35907:32856),32819===o&&(u=32854),32820===o&&(u=32855)),33325!==u&&33326!==u&&33327!==u&&33328!==u&&34842!==u&&34836!==u||e.get("EXT_color_buffer_float"),u}function T(t,e,n){return!0===S(t,n)||t.isFramebufferTexture&&t.minFilter!==dt&&t.minFilter!==pt?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function A(t){return t===dt||t===ht||t===ft?9728:9729}function C(t){const e=t.target;e.removeEventListener("dispose",C),k(e),e.isVideoTexture&&m.delete(e)}function O(t){const e=t.target;e.removeEventListener("dispose",O),L(e)}function k(t){const e=i.get(t);if(void 0===e.__webglInit)return;const n=t.source,r=v.get(n);if(r){const i=r[e.__cacheKey];i.usedTimes--,0===i.usedTimes&&P(t),0===Object.keys(r).length&&v.delete(n)}i.remove(t)}function P(e){const n=i.get(e);t.deleteTexture(n.__webglTexture);const r=e.source,o=v.get(r);delete o[n.__cacheKey],s.memory.textures--}function L(e){const n=e.texture,r=i.get(e),o=i.get(n);if(void 0!==o.__webglTexture&&(t.deleteTexture(o.__webglTexture),s.memory.textures--),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let i=0;i<6;i++)t.deleteFramebuffer(r.__webglFramebuffer[i]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[i]);else{if(t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&t.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer)for(let e=0;e<r.__webglColorRenderbuffer.length;e++)r.__webglColorRenderbuffer[e]&&t.deleteRenderbuffer(r.__webglColorRenderbuffer[e]);r.__webglDepthRenderbuffer&&t.deleteRenderbuffer(r.__webglDepthRenderbuffer)}if(e.isWebGLMultipleRenderTargets)for(let a=0,l=n.length;a<l;a++){const e=i.get(n[a]);e.__webglTexture&&(t.deleteTexture(e.__webglTexture),s.memory.textures--),i.remove(n[a])}i.remove(n),i.remove(e)}let I=0;function D(){I=0}function R(){const t=I;return t>=u&&r.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+u),I+=1,t}function N(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.encoding),e.join()}function B(t,e){const o=i.get(t);if(t.isVideoTexture&&rt(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){const n=t.image;if(null===n)r.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==n.complete)return void G(o,t,e);r.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,o.__webglTexture)}function F(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?G(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))}function j(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?G(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))}function z(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?q(r,t,e):(n.activeTexture(33984+e),n.bindTexture(34067,r.__webglTexture))}const V={[lt]:10497,[ut]:33071,[ct]:33648},U={[dt]:9728,[ht]:9984,[ft]:9986,[pt]:9729,[mt]:9985,[gt]:9987};function H(n,a,s){if(s?(t.texParameteri(n,10242,V[a.wrapS]),t.texParameteri(n,10243,V[a.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,V[a.wrapR]),t.texParameteri(n,10240,U[a.magFilter]),t.texParameteri(n,10241,U[a.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),a.wrapS===ut&&a.wrapT===ut||r.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,A(a.magFilter)),t.texParameteri(n,10241,A(a.minFilter)),a.minFilter!==dt&&a.minFilter!==pt&&r.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const r=e.get("EXT_texture_filter_anisotropic");if(a.type===St&&!1===e.has("OES_texture_float_linear"))return;if(!1===l&&a.type===Mt&&!1===e.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(t.texParameterf(n,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,o.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function W(e,n){let r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",C));const i=n.source;let o=v.get(i);void 0===o&&(o={},v.set(i,o));const a=N(n);if(a!==e.__cacheKey){void 0===o[a]&&(o[a]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,r=!0),o[a].usedTimes++;const i=o[e.__cacheKey];void 0!==i&&(o[e.__cacheKey].usedTimes--,0===i.usedTimes&&P(n)),e.__cacheKey=a,e.__webglTexture=o[a].texture}return r}function G(e,i,o){let s=3553;i.isDataArrayTexture&&(s=35866),i.isData3DTexture&&(s=32879);const u=W(e,i),c=i.source;if(n.activeTexture(33984+o),n.bindTexture(s,e.__webglTexture),c.version!==c.__currentVersion||!0===u){t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);const e=x(i)&&!1===w(i.image);let o=_(i.image,e,!1,d);o=it(i,o);const h=w(o)||l,f=a.convert(i.format,i.encoding);let p,m=a.convert(i.type),g=E(i.internalFormat,f,m,i.encoding,i.isVideoTexture);H(s,i,h);const v=i.mipmaps,y=l&&!0!==i.isVideoTexture,b=void 0===c.__currentVersion||!0===u,A=T(i,o,h);if(i.isDepthTexture)g=6402,l?g=i.type===St?36012:i.type===xt?33190:i.type===At?35056:33189:i.type===St&&r.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===It&&6402===g&&i.type!==_t&&i.type!==xt&&(r.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=xt,m=a.convert(i.type)),i.format===Dt&&6402===g&&(g=34041,i.type!==At&&(r.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=At,m=a.convert(i.type))),b&&(y?n.texStorage2D(3553,1,g,o.width,o.height):n.texImage2D(3553,0,g,o.width,o.height,0,f,m,null));else if(i.isDataTexture)if(v.length>0&&h){y&&b&&n.texStorage2D(3553,A,g,v[0].width,v[0].height);for(let t=0,e=v.length;t<e;t++)p=v[t],y?n.texSubImage2D(3553,t,0,0,p.width,p.height,f,m,p.data):n.texImage2D(3553,t,g,p.width,p.height,0,f,m,p.data);i.generateMipmaps=!1}else y?(b&&n.texStorage2D(3553,A,g,o.width,o.height),n.texSubImage2D(3553,0,0,0,o.width,o.height,f,m,o.data)):n.texImage2D(3553,0,g,o.width,o.height,0,f,m,o.data);else if(i.isCompressedTexture){y&&b&&n.texStorage2D(3553,A,g,v[0].width,v[0].height);for(let t=0,e=v.length;t<e;t++)p=v[t],i.format!==kt?null!==f?y?n.compressedTexSubImage2D(3553,t,0,0,p.width,p.height,f,p.data):n.compressedTexImage2D(3553,t,g,p.width,p.height,0,p.data):r.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):y?n.texSubImage2D(3553,t,0,0,p.width,p.height,f,m,p.data):n.texImage2D(3553,t,g,p.width,p.height,0,f,m,p.data)}else if(i.isDataArrayTexture)y?(b&&n.texStorage3D(35866,A,g,o.width,o.height,o.depth),n.texSubImage3D(35866,0,0,0,0,o.width,o.height,o.depth,f,m,o.data)):n.texImage3D(35866,0,g,o.width,o.height,o.depth,0,f,m,o.data);else if(i.isData3DTexture)y?(b&&n.texStorage3D(32879,A,g,o.width,o.height,o.depth),n.texSubImage3D(32879,0,0,0,0,o.width,o.height,o.depth,f,m,o.data)):n.texImage3D(32879,0,g,o.width,o.height,o.depth,0,f,m,o.data);else if(i.isFramebufferTexture){if(b)if(y)n.texStorage2D(3553,A,g,o.width,o.height);else{let t=o.width,e=o.height;for(let r=0;r<A;r++)n.texImage2D(3553,r,g,t,e,0,f,m,null),t>>=1,e>>=1}}else if(v.length>0&&h){y&&b&&n.texStorage2D(3553,A,g,v[0].width,v[0].height);for(let t=0,e=v.length;t<e;t++)p=v[t],y?n.texSubImage2D(3553,t,0,0,f,m,p):n.texImage2D(3553,t,g,f,m,p);i.generateMipmaps=!1}else y?(b&&n.texStorage2D(3553,A,g,o.width,o.height),n.texSubImage2D(3553,0,0,0,f,m,o)):n.texImage2D(3553,0,g,f,m,o);S(i,h)&&M(s),c.__currentVersion=c.version,i.onUpdate&&i.onUpdate(i)}e.__version=i.version}function q(e,i,o){if(6!==i.image.length)return;const s=W(e,i),u=i.source;if(n.activeTexture(33984+o),n.bindTexture(34067,e.__webglTexture),u.version!==u.__currentVersion||!0===s){t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);const e=i.isCompressedTexture||i.image[0].isCompressedTexture,o=i.image[0]&&i.image[0].isDataTexture,d=[];for(let t=0;t<6;t++)d[t]=e||o?o?i.image[t].image:i.image[t]:_(i.image[t],!1,!0,c),d[t]=it(i,d[t]);const h=d[0],f=w(h)||l,p=a.convert(i.format,i.encoding),m=a.convert(i.type),g=E(i.internalFormat,p,m,i.encoding),v=l&&!0!==i.isVideoTexture,y=void 0===u.__currentVersion||!0===s;let b,x=T(i,h,f);if(H(34067,i,f),e){v&&y&&n.texStorage2D(34067,x,g,h.width,h.height);for(let t=0;t<6;t++){b=d[t].mipmaps;for(let e=0;e<b.length;e++){const o=b[e];i.format!==kt?null!==p?v?n.compressedTexSubImage2D(34069+t,e,0,0,o.width,o.height,p,o.data):n.compressedTexImage2D(34069+t,e,g,o.width,o.height,0,o.data):r.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):v?n.texSubImage2D(34069+t,e,0,0,o.width,o.height,p,m,o.data):n.texImage2D(34069+t,e,g,o.width,o.height,0,p,m,o.data)}}}else{b=i.mipmaps,v&&y&&(b.length>0&&x++,n.texStorage2D(34067,x,g,d[0].width,d[0].height));for(let t=0;t<6;t++)if(o){v?n.texSubImage2D(34069+t,0,0,0,d[t].width,d[t].height,p,m,d[t].data):n.texImage2D(34069+t,0,g,d[t].width,d[t].height,0,p,m,d[t].data);for(let e=0;e<b.length;e++){const r=b[e],i=r.image[t].image;v?n.texSubImage2D(34069+t,e+1,0,0,i.width,i.height,p,m,i.data):n.texImage2D(34069+t,e+1,g,i.width,i.height,0,p,m,i.data)}}else{v?n.texSubImage2D(34069+t,0,0,0,p,m,d[t]):n.texImage2D(34069+t,0,g,p,m,d[t]);for(let e=0;e<b.length;e++){const r=b[e];v?n.texSubImage2D(34069+t,e+1,0,0,p,m,r.image[t]):n.texImage2D(34069+t,e+1,g,p,m,r.image[t])}}}S(i,f)&&M(34067),u.__currentVersion=u.version,i.onUpdate&&i.onUpdate(i)}e.__version=i.version}function $(e,r,o,s,l){const u=a.convert(o.format,o.encoding),c=a.convert(o.type),d=E(o.internalFormat,u,c,o.encoding),h=i.get(r);h.__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,d,r.width,r.height,r.depth,0,u,c,null):n.texImage2D(l,0,d,r.width,r.height,0,u,c,null)),n.bindFramebuffer(36160,e),nt(r)?f.framebufferTexture2DMultisampleEXT(36160,s,l,i.get(o).__webglTexture,0,et(r)):t.framebufferTexture2D(36160,s,l,i.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function X(e,n,r){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r||nt(n)){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===St?i=36012:e.type===xt&&(i=33190));const r=et(n);nt(n)?f.renderbufferStorageMultisampleEXT(36161,r,i,n.width,n.height):t.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else t.renderbufferStorage(36161,i,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){const i=et(n);r&&!1===nt(n)?t.renderbufferStorageMultisample(36161,i,35056,n.width,n.height):nt(n)?f.renderbufferStorageMultisampleEXT(36161,i,35056,n.width,n.height):t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<e.length;i++){const o=e[i],s=a.convert(o.format,o.encoding),l=a.convert(o.type),u=E(o.internalFormat,s,l,o.encoding),c=et(n);r&&!1===nt(n)?t.renderbufferStorageMultisample(36161,c,u,n.width,n.height):nt(n)?f.renderbufferStorageMultisampleEXT(36161,c,u,n.width,n.height):t.renderbufferStorage(36161,u,n.width,n.height)}}t.bindRenderbuffer(36161,null)}function Y(e,r){const o=r&&r.isWebGLCubeRenderTarget;if(o)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),B(r.depthTexture,0);const a=i.get(r.depthTexture).__webglTexture,s=et(r);if(r.depthTexture.format===It)nt(r)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,s):t.framebufferTexture2D(36160,36096,3553,a,0);else{if(r.depthTexture.format!==Dt)throw new Error("Unknown depthTexture format");nt(r)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,s):t.framebufferTexture2D(36160,33306,3553,a,0)}}function Z(e){const r=i.get(e),o=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!r.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");Y(r.__webglFramebuffer,e)}else if(o){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(36160,r.__webglFramebuffer[i]),r.__webglDepthbuffer[i]=t.createRenderbuffer(),X(r.__webglDepthbuffer[i],e,!1)}else n.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),X(r.__webglDepthbuffer,e,!1);n.bindFramebuffer(36160,null)}function J(t,e,n){const r=i.get(t);void 0!==e&&$(r.__webglFramebuffer,t,t.texture,36064,3553),void 0!==n&&Z(t)}function K(e){const u=e.texture,c=i.get(e),d=i.get(u);e.addEventListener("dispose",O),!0!==e.isWebGLMultipleRenderTargets&&(void 0===d.__webglTexture&&(d.__webglTexture=t.createTexture()),d.__version=u.version,s.memory.textures++);const h=!0===e.isWebGLCubeRenderTarget,f=!0===e.isWebGLMultipleRenderTargets,p=w(e)||l;if(h){c.__webglFramebuffer=[];for(let e=0;e<6;e++)c.__webglFramebuffer[e]=t.createFramebuffer()}else{if(c.__webglFramebuffer=t.createFramebuffer(),f)if(o.drawBuffers){const n=e.texture;for(let e=0,r=n.length;e<r;e++){const r=i.get(n[e]);void 0===r.__webglTexture&&(r.__webglTexture=t.createTexture(),s.memory.textures++)}}else r.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&e.samples>0&&!1===nt(e)){const r=f?u:[u];c.__webglMultisampledFramebuffer=t.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];c.__webglColorRenderbuffer[n]=t.createRenderbuffer(),t.bindRenderbuffer(36161,c.__webglColorRenderbuffer[n]);const o=a.convert(i.format,i.encoding),s=a.convert(i.type),l=E(i.internalFormat,o,s,i.encoding),u=et(e);t.renderbufferStorageMultisample(36161,u,l,e.width,e.height),t.framebufferRenderbuffer(36160,36064+n,36161,c.__webglColorRenderbuffer[n])}t.bindRenderbuffer(36161,null),e.depthBuffer&&(c.__webglDepthRenderbuffer=t.createRenderbuffer(),X(c.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,d.__webglTexture),H(34067,u,p);for(let t=0;t<6;t++)$(c.__webglFramebuffer[t],e,u,36064,34069+t);S(u,p)&&M(34067),n.unbindTexture()}else if(f){const t=e.texture;for(let r=0,o=t.length;r<o;r++){const o=t[r],a=i.get(o);n.bindTexture(3553,a.__webglTexture),H(3553,o,p),$(c.__webglFramebuffer,e,o,36064+r,3553),S(o,p)&&M(3553)}n.unbindTexture()}else{let t=3553;(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(l?t=e.isWebGL3DRenderTarget?32879:35866:r.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(t,d.__webglTexture),H(t,u,p),$(c.__webglFramebuffer,e,u,36064,t),S(u,p)&&M(t),n.unbindTexture()}e.depthBuffer&&Z(e)}function Q(t){const e=w(t)||l,r=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let o=0,a=r.length;o<a;o++){const a=r[o];if(S(a,e)){const e=t.isWebGLCubeRenderTarget?34067:3553,r=i.get(a).__webglTexture;n.bindTexture(e,r),M(e),n.unbindTexture()}}}function tt(e){if(l&&e.samples>0&&!1===nt(e)){const r=e.isWebGLMultipleRenderTargets?e.texture:[e.texture],o=e.width,a=e.height;let s=16384;const l=[],u=e.stencilBuffer?33306:36096,c=i.get(e),d=!0===e.isWebGLMultipleRenderTargets;if(d)for(let e=0;e<r.length;e++)n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+e,36161,null),n.bindFramebuffer(36160,c.__webglFramebuffer),t.framebufferTexture2D(36009,36064+e,3553,null,0);n.bindFramebuffer(36008,c.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,c.__webglFramebuffer);for(let n=0;n<r.length;n++){l.push(36064+n),e.depthBuffer&&l.push(u);const h=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===h&&(e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024)),d&&t.framebufferRenderbuffer(36008,36064,36161,c.__webglColorRenderbuffer[n]),!0===h&&(t.invalidateFramebuffer(36008,[u]),t.invalidateFramebuffer(36009,[u])),d){const e=i.get(r[n]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,e,0)}t.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728),p&&t.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(let e=0;e<r.length;e++){n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+e,36161,c.__webglColorRenderbuffer[e]);const o=i.get(r[e]).__webglTexture;n.bindFramebuffer(36160,c.__webglFramebuffer),t.framebufferTexture2D(36009,36064+e,3553,o,0)}n.bindFramebuffer(36009,c.__webglMultisampledFramebuffer)}}function et(t){return Math.min(h,t.samples)}function nt(t){const n=i.get(t);return l&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function rt(t){const e=s.render.frame;m.get(t)!==e&&(m.set(t,e),t.update())}function it(t,n){const i=t.encoding,o=t.format,a=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||t.format===Pe||i!==be&&(i===_e?!1===l?!0===e.has("EXT_sRGB")&&o===kt?(t.format=Pe,t.minFilter=pt,t.generateMipmaps=!1):n=on.sRGBToLinear(n):o===kt&&a===vt||r.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):r.error("THREE.WebGLTextures: Unsupported texture encoding:",i)),n}this.allocateTextureUnit=R,this.resetTextureUnits=D,this.setTexture2D=B,this.setTexture2DArray=F,this.setTexture3D=j,this.setTextureCube=z,this.rebindTextures=J,this.setupRenderTarget=K,this.updateRenderTargetMipmap=Q,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=Z,this.setupFrameBufferTexture=$,this.useMultisampledRTT=nt}function Ku(t,e,n){const i=n.isWebGL2;function o(n,o=null){let a;if(n===vt)return 5121;if(n===Et)return 32819;if(n===Tt)return 32820;if(n===yt)return 5120;if(n===bt)return 5122;if(n===_t)return 5123;if(n===wt)return 5124;if(n===xt)return 5125;if(n===St)return 5126;if(n===Mt)return i?5131:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(n===Ct)return 6406;if(n===kt)return 6408;if(n===Pt)return 6409;if(n===Lt)return 6410;if(n===It)return 6402;if(n===Dt)return 34041;if(n===Rt)return 6403;if(n===Ot)return r.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(n===Pe)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(n===Nt)return 36244;if(n===Bt)return 33319;if(n===Ft)return 33320;if(n===jt)return 36249;if(n===zt||n===Vt||n===Ut||n===Ht)if(o===_e){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(n===zt)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Vt)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Ut)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Ht)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(n===zt)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Vt)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Ut)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Ht)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Wt||n===Gt||n===qt||n===$t){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(n===Wt)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Gt)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===qt)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===$t)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Xt)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Yt||n===Zt){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(n===Yt)return o===_e?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===Zt)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(n===Jt||n===Kt||n===Qt||n===te||n===ee||n===ne||n===re||n===ie||n===oe||n===ae||n===se||n===le||n===ue||n===ce){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(n===Jt)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Kt)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Qt)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===te)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===ee)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===ne)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===re)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ie)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===oe)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===ae)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===se)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===le)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===ue)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===ce)return o===_e?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===de){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(n===de)return o===_e?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return n===At?i?34042:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==t[n]?t[n]:null}return{convert:o}}class Qu extends _i{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class tc extends vr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ec={type:"move"};class nc{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new tc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new tc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new mn,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new mn),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new tc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new mn,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new mn),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==a&&(r=e.getPose(t.targetRaySpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(ec))),l&&t.hand){o=!0;for(const o of t.hand.values()){const t=e.getJointPose(o,n);if(void 0===l.joints[o.jointName]){const t=new tc;t.matrixAutoUpdate=!1,t.visible=!1,l.joints[o.jointName]=t,l.add(t)}const r=l.joints[o.jointName];null!==t&&(r.matrix.fromArray(t.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.jointRadius=t.radius),r.visible=null!==t}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),s=.02,u=.005;l.inputState.pinching&&a>s+u?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&a<=s-u&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==s&&t.gripSpace&&(i=e.getPose(t.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}}class rc extends un{constructor(t,e,n,r,i,o,a,s,l,u){if(u=void 0!==u?u:It,u!==It&&u!==Dt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===It&&(n=xt),void 0===n&&u===Dt&&(n=At),super(null,r,i,o,a,s,u,n,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==a?a:dt,this.minFilter=void 0!==s?s:dt,this.flipY=!1,this.generateMipmaps=!1}}class ic extends Le{constructor(t,e){super();const n=this;let i=null,o=1,a=null,s="local-floor",l=null,u=null,c=null,d=null,h=null,f=null;const p=e.getContextAttributes();let m=null,g=null;const v=[],y=new Map,b=new _i;b.layers.enable(1),b.viewport=new cn;const _=new _i;_.layers.enable(2),_.viewport=new cn;const w=[b,_],x=new Qu;x.layers.enable(1),x.layers.enable(2);let S=null,M=null;function E(t){const e=y.get(t.inputSource);void 0!==e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function T(){i.removeEventListener("select",E),i.removeEventListener("selectstart",E),i.removeEventListener("selectend",E),i.removeEventListener("squeeze",E),i.removeEventListener("squeezestart",E),i.removeEventListener("squeezeend",E),i.removeEventListener("end",T),i.removeEventListener("inputsourceschange",A),y.forEach((function(t,e){void 0!==t&&t.disconnect(e)})),y.clear(),S=null,M=null,t.setRenderTarget(m),h=null,d=null,c=null,i=null,g=null,D.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function A(t){const e=i.inputSources;for(let n=0;n<e.length;n++){const t="right"===e[n].handedness?1:0;y.set(e[n],v[t])}for(let n=0;n<t.removed.length;n++){const e=t.removed[n],r=y.get(e);r&&(r.dispatchEvent({type:"disconnected",data:e}),y.delete(e))}for(let n=0;n<t.added.length;n++){const e=t.added[n],r=y.get(e);r&&r.dispatchEvent({type:"connected",data:e})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=v[t];return void 0===e&&(e=new nc,v[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=v[t];return void 0===e&&(e=new nc,v[t]=e),e.getGripSpace()},this.getHand=function(t){let e=v[t];return void 0===e&&(e=new nc,v[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){o=t,!0===n.isPresenting&&r.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===n.isPresenting&&r.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(t){l=t},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return c},this.getFrame=function(){return f},this.getSession=function(){return i},this.setSession=async function(r){if(i=r,null!==i){if(m=t.getRenderTarget(),i.addEventListener("select",E),i.addEventListener("selectstart",E),i.addEventListener("selectend",E),i.addEventListener("squeeze",E),i.addEventListener("squeezestart",E),i.addEventListener("squeezeend",E),i.addEventListener("end",T),i.addEventListener("inputsourceschange",A),!0!==p.xrCompatible&&await e.makeXRCompatible(),void 0===i.renderState.layers||!1===t.capabilities.isWebGL2){const n={antialias:void 0!==i.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,e,n),i.updateRenderState({baseLayer:h}),g=new dn(h.framebufferWidth,h.framebufferHeight,{format:kt,type:vt,encoding:t.outputEncoding})}else{let n=null,r=null,a=null;p.depth&&(a=p.stencil?35056:33190,n=p.stencil?Dt:It,r=p.stencil?At:xt);const s={colorFormat:t.outputEncoding===_e?35907:32856,depthFormat:a,scaleFactor:o};c=new XRWebGLBinding(i,e),d=c.createProjectionLayer(s),i.updateRenderState({layers:[d]}),g=new dn(d.textureWidth,d.textureHeight,{format:kt,type:vt,depthTexture:new rc(d.textureWidth,d.textureHeight,r,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,encoding:t.outputEncoding,samples:p.antialias?4:0});const l=t.properties.get(g);l.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),l=null,a=await i.requestReferenceSpace(s),D.setContext(i),D.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const C=new mn,O=new mn;function k(t,e,n){C.setFromMatrixPosition(e.matrixWorld),O.setFromMatrixPosition(n.matrixWorld);const r=C.distanceTo(O),i=e.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(o[8]+1)/o[0],h=a*c,f=a*d,p=r/(-c+d),m=p*-c;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const g=a+p,v=s+p,y=h-m,b=f+(r-m),_=l*s/v*g,w=u*s/v*g;t.projectionMatrix.makePerspective(y,b,_,w,g,v)}function P(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===i)return;x.near=_.near=b.near=t.near,x.far=_.far=b.far=t.far,S===x.near&&M===x.far||(i.updateRenderState({depthNear:x.near,depthFar:x.far}),S=x.near,M=x.far);const e=t.parent,n=x.cameras;P(x,e);for(let i=0;i<n.length;i++)P(n[i],e);x.matrixWorld.decompose(x.position,x.quaternion,x.scale),t.position.copy(x.position),t.quaternion.copy(x.quaternion),t.scale.copy(x.scale),t.matrix.copy(x.matrix),t.matrixWorld.copy(x.matrixWorld);const r=t.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(!0);2===n.length?k(x,b,_):x.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return x},this.getFoveation=function(){return null!==d?d.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(t){null!==d&&(d.fixedFoveation=t),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=t)};let L=null;function I(e,n){if(u=n.getViewerPose(l||a),f=n,null!==u){const e=u.views;null!==h&&(t.setRenderTargetFramebuffer(g,h.framebuffer),t.setRenderTarget(g));let n=!1;e.length!==x.cameras.length&&(x.cameras.length=0,n=!0);for(let r=0;r<e.length;r++){const i=e[r];let o=null;if(null!==h)o=h.getViewport(i);else{const e=c.getViewSubImage(d,i);o=e.viewport,0===r&&(t.setRenderTargetTextures(g,e.colorTexture,d.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(g))}let a=w[r];void 0===a&&(a=new _i,a.layers.enable(r),a.viewport=new cn,w[r]=a),a.matrix.fromArray(i.transform.matrix),a.projectionMatrix.fromArray(i.projectionMatrix),a.viewport.set(o.x,o.y,o.width,o.height),0===r&&x.matrix.copy(a.matrix),!0===n&&x.cameras.push(a)}}const r=i.inputSources;for(let t=0;t<v.length;t++){const e=r[t],i=y.get(e);void 0!==i&&i.update(e,n,l||a)}L&&L(e,n),f=null}const D=new Ii;D.setAnimationLoop(I),this.setAnimationLoop=function(t){L=t},this.dispose=function(){}}}function oc(t,e){function n(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function r(t,e,n,r,p){e.isMeshBasicMaterial||e.isMeshLambertMaterial?i(t,e):e.isMeshToonMaterial?(i(t,e),c(t,e)):e.isMeshPhongMaterial?(i(t,e),u(t,e)):e.isMeshStandardMaterial?(i(t,e),d(t,e),e.isMeshPhysicalMaterial&&h(t,e,p)):e.isMeshMatcapMaterial?(i(t,e),f(t,e)):e.isMeshDepthMaterial?i(t,e):e.isMeshDistanceMaterial?(i(t,e),m(t,e)):e.isMeshNormalMaterial?i(t,e):e.isLineBasicMaterial?(o(t,e),e.isLineDashedMaterial&&a(t,e)):e.isPointsMaterial?s(t,e,n,r):e.isSpriteMaterial?l(t,e):e.isShadowMaterial?(t.color.value.copy(e.color),t.opacity.value=e.opacity):e.isShaderMaterial&&(e.uniformsNeedUpdate=!1)}function i(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===p&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===p&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);const i=e.get(r).envMap;if(i&&(n.envMap.value=i,n.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;const e=!0!==t.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*e}let o,a;r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?o=r.map:r.specularMap?o=r.specularMap:r.displacementMap?o=r.displacementMap:r.normalMap?o=r.normalMap:r.bumpMap?o=r.bumpMap:r.roughnessMap?o=r.roughnessMap:r.metalnessMap?o=r.metalnessMap:r.alphaMap?o=r.alphaMap:r.emissiveMap?o=r.emissiveMap:r.clearcoatMap?o=r.clearcoatMap:r.clearcoatNormalMap?o=r.clearcoatNormalMap:r.clearcoatRoughnessMap?o=r.clearcoatRoughnessMap:r.iridescenceMap?o=r.iridescenceMap:r.iridescenceThicknessMap?o=r.iridescenceThicknessMap:r.specularIntensityMap?o=r.specularIntensityMap:r.specularColorMap?o=r.specularColorMap:r.transmissionMap?o=r.transmissionMap:r.thicknessMap?o=r.thicknessMap:r.sheenColorMap?o=r.sheenColorMap:r.sheenRoughnessMap&&(o=r.sheenRoughnessMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),n.uvTransform.value.copy(o.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}function o(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}function a(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function s(t,e,n,r){let i;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*r,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest),e.map?i=e.map:e.alphaMap&&(i=e.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function l(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function u(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}function c(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function d(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap);const r=e.get(n).envMap;r&&(t.envMapIntensity.value=n.envMapIntensity)}function h(t,e,n){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap)),e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===p&&t.clearcoatNormalScale.value.negate())),e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap)),e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=n.texture,t.transmissionSamplerSize.value.set(n.width,n.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor)),t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap)}function f(t,e){e.matcap&&(t.matcap.value=e.matcap)}function m(t,e){t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function ac(){const t=Ge("canvas");return t.style.display="block",t}function sc(t={}){this.isWebGLRenderer=!0;const e=void 0!==t.canvas?t.canvas:ac(),n=void 0!==t.context?t.context:null,o=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,l=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",d=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let h;h=null!==n?n.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;let g=null,v=null;const y=[],b=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=be,this.physicallyCorrectLights=!1,this.toneMapping=Z,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return r.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){r.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const _=this;let w=!1,x=0,S=0,M=null,E=-1,T=null;const A=new cn,C=new cn;let O=null,k=e.width,P=e.height,L=1,I=null,D=null;const R=new cn(0,0,k,P),N=new cn(0,0,k,P);let B=!1;const F=new Li;let j=!1,z=!1,V=null;const U=new qn,H=new Ue,W=new mn,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function q(){return null===M?L:1}let $,X,Y,J,K,Q,tt,et,nt,rt,it,ot,at,st,lt,ut,ct,dt,ht,ft,pt,mt,yt,bt=n;function _t(t,n){for(let r=0;r<t.length;r++){const i=t[r],o=e.getContext(i,n);if(null!==o)return o}return null}try{const t={alpha:!0,depth:o,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${i}`),e.addEventListener("webglcontextlost",Et,!1),e.addEventListener("webglcontextrestored",Tt,!1),e.addEventListener("webglcontextcreationerror",At,!1),null===bt){const e=["webgl2","webgl","experimental-webgl"];if(!0===_.isWebGL1Renderer&&e.shift(),bt=_t(e,t),null===bt)throw _t(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===bt.getShaderPrecisionFormat&&(bt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($t){throw r.error("THREE.WebGLRenderer: "+$t.message),$t}function wt(){$=new zs(bt),X=new ys(bt,$,t),$.init(X),mt=new Ku(bt,$,X),Y=new Zu(bt,$,X),J=new Hs(bt),K=new Iu,Q=new Ju(bt,$,Y,K,X,mt,J),tt=new _s(_),et=new js(_),nt=new Di(bt,X),yt=new gs(bt,$,nt,X),rt=new Vs(bt,nt,J,yt),it=new Xs(bt,rt,nt,J),ht=new $s(bt,X,Q),ut=new bs(K),ot=new Lu(_,tt,et,$,X,yt,ut),at=new oc(_,K),st=new Bu,lt=new Wu($,X),dt=new ms(_,tt,Y,it,h,l),ct=new Yu(_,it,X),ft=new vs(bt,$,J,X),pt=new Us(bt,$,J,X),J.programs=ot.programs,_.capabilities=X,_.extensions=$,_.properties=K,_.renderLists=st,_.shadowMap=ct,_.state=Y,_.info=J}wt();const xt=new ic(_,bt);function Et(t){t.preventDefault(),r.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Tt(){r.log("THREE.WebGLRenderer: Context Restored."),w=!1;const t=J.autoReset,e=ct.enabled,n=ct.autoUpdate,i=ct.needsUpdate,o=ct.type;wt(),J.autoReset=t,ct.enabled=e,ct.autoUpdate=n,ct.needsUpdate=i,ct.type=o}function At(t){r.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function Ct(t){const e=t.target;e.removeEventListener("dispose",Ct),Ot(e)}function Ot(t){Pt(t),K.remove(t)}function Pt(t){const e=K.get(t).programs;void 0!==e&&(e.forEach((function(t){ot.releaseProgram(t)})),t.isShaderMaterial&&ot.releaseShaderCache(t))}this.xr=xt,this.getContext=function(){return bt},this.getContextAttributes=function(){return bt.getContextAttributes()},this.forceContextLoss=function(){const t=$.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=$.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(t){void 0!==t&&(L=t,this.setSize(k,P,!1))},this.getSize=function(t){return t.set(k,P)},this.setSize=function(t,n,i){xt.isPresenting?r.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=t,P=n,e.width=Math.floor(t*L),e.height=Math.floor(n*L),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(k*L,P*L).floor()},this.setDrawingBufferSize=function(t,n,r){k=t,P=n,L=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(A)},this.getViewport=function(t){return t.copy(R)},this.setViewport=function(t,e,n,r){t.isVector4?R.set(t.x,t.y,t.z,t.w):R.set(t,e,n,r),Y.viewport(A.copy(R).multiplyScalar(L).floor())},this.getScissor=function(t){return t.copy(N)},this.setScissor=function(t,e,n,r){t.isVector4?N.set(t.x,t.y,t.z,t.w):N.set(t,e,n,r),Y.scissor(C.copy(N).multiplyScalar(L).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(t){Y.setScissorTest(B=t)},this.setOpaqueSort=function(t){I=t},this.setTransparentSort=function(t){D=t},this.getClearColor=function(t){return t.copy(dt.getClearColor())},this.setClearColor=function(){dt.setClearColor.apply(dt,arguments)},this.getClearAlpha=function(){return dt.getClearAlpha()},this.setClearAlpha=function(){dt.setClearAlpha.apply(dt,arguments)},this.clear=function(t=!0,e=!0,n=!0){let r=0;t&&(r|=16384),e&&(r|=256),n&&(r|=1024),bt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Et,!1),e.removeEventListener("webglcontextrestored",Tt,!1),e.removeEventListener("webglcontextcreationerror",At,!1),st.dispose(),lt.dispose(),K.dispose(),tt.dispose(),et.dispose(),it.dispose(),yt.dispose(),ot.dispose(),xt.dispose(),xt.removeEventListener("sessionstart",Dt),xt.removeEventListener("sessionend",Rt),V&&(V.dispose(),V=null),Nt.stop()},this.renderBufferDirect=function(t,e,n,r,i,o){null===e&&(e=G);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=Wt(t,e,n,r,i);Y.setMaterial(r,a);let l=n.index;const u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;let c,d=1;!0===r.wireframe&&(l=rt.getWireframeAttribute(n),d=2),yt.setup(i,r,s,n,l);let h=ft;null!==l&&(c=nt.get(l),h=pt,h.setIndex(c));const f=null!==l?l.count:u.count,p=n.drawRange.start*d,m=n.drawRange.count*d,g=null!==o?o.start*d:0,v=null!==o?o.count*d:1/0,y=Math.max(p,g),b=Math.min(f,p+m,g+v)-1,_=Math.max(0,b-y+1);if(0!==_){if(i.isMesh)!0===r.wireframe?(Y.setLineWidth(r.wireframeLinewidth*q()),h.setMode(1)):h.setMode(4);else if(i.isLine){let t=r.linewidth;void 0===t&&(t=1),Y.setLineWidth(t*q()),i.isLineSegments?h.setMode(1):i.isLineLoop?h.setMode(2):h.setMode(3)}else i.isPoints?h.setMode(0):i.isSprite&&h.setMode(4);if(i.isInstancedMesh)h.renderInstances(y,_,i.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(y,_,t)}else h.render(y,_)}},this.compile=function(t,e){v=lt.get(t),v.init(),b.push(v),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(v.pushLight(t),t.castShadow&&v.pushShadow(t))})),v.setupLights(_.physicallyCorrectLights),t.traverse((function(e){const n=e.material;if(n)if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];Ut(i,t,e)}else Ut(n,t,e)})),b.pop(),v=null};let Lt=null;function It(t){Lt&&Lt(t)}function Dt(){Nt.stop()}function Rt(){Nt.start()}const Nt=new Ii;function Bt(t,e,n,r){if(!1===t.visible)return;const i=t.layers.test(e.layers);if(i)if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)v.pushLight(t),t.castShadow&&v.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||F.intersectsSprite(t)){r&&W.setFromMatrixPosition(t.matrixWorld).applyMatrix4(U);const e=it.update(t),i=t.material;i.visible&&g.push(t,e,i,n,W.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==J.render.frame&&(t.skeleton.update(),t.skeleton.frame=J.render.frame),!t.frustumCulled||F.intersectsObject(t))){r&&W.setFromMatrixPosition(t.matrixWorld).applyMatrix4(U);const e=it.update(t),i=t.material;if(Array.isArray(i)){const r=e.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&g.push(t,e,s,n,W.z,a)}}else i.visible&&g.push(t,e,i,n,W.z,null)}const o=t.children;for(let a=0,s=o.length;a<s;a++)Bt(o[a],e,n,r)}function Ft(t,e,n,r){const i=t.opaque,o=t.transmissive,a=t.transparent;v.setupLightsView(n),o.length>0&&jt(i,e,n),r&&Y.viewport(A.copy(r)),i.length>0&&zt(i,e,n),o.length>0&&zt(o,e,n),a.length>0&&zt(a,e,n),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1)}function jt(t,e,n){const r=X.isWebGL2;null===V&&(V=new dn(1,1,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")?Mt:vt,minFilter:gt,samples:r&&!0===s?4:0})),_.getDrawingBufferSize(H),r?V.setSize(H.x,H.y):V.setSize(Ve(H.x),Ve(H.y));const i=_.getRenderTarget();_.setRenderTarget(V),_.clear();const o=_.toneMapping;_.toneMapping=Z,zt(t,e,n),_.toneMapping=o,Q.updateMultisampleRenderTarget(V),Q.updateRenderTargetMipmap(V),_.setRenderTarget(i)}function zt(t,e,n){const r=!0===e.isScene?e.overrideMaterial:null;for(let i=0,o=t.length;i<o;i++){const o=t[i],a=o.object,s=o.geometry,l=null===r?o.material:r,u=o.group;a.layers.test(n.layers)&&Vt(a,e,n,s,l,u)}}function Vt(t,e,n,r,i,o){t.onBeforeRender(_,e,n,r,i,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),i.onBeforeRender(_,e,n,r,t,o),!0===i.transparent&&i.side===m?(i.side=p,i.needsUpdate=!0,_.renderBufferDirect(n,e,r,i,t,o),i.side=f,i.needsUpdate=!0,_.renderBufferDirect(n,e,r,i,t,o),i.side=m):_.renderBufferDirect(n,e,r,i,t,o),t.onAfterRender(_,e,n,r,i,o)}function Ut(t,e,n){!0!==e.isScene&&(e=G);const r=K.get(t),i=v.state.lights,o=v.state.shadowsArray,a=i.state.version,s=ot.getParameters(t,i.state,o,e,n),l=ot.getProgramCacheKey(s);let u=r.programs;r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=(t.isMeshStandardMaterial?et:tt).get(t.envMap||r.environment),void 0===u&&(t.addEventListener("dispose",Ct),u=new Map,r.programs=u);let c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===a)return Ht(t,s),c}else s.uniforms=ot.getUniforms(t),t.onBuild(n,s,_),t.onBeforeCompile(s,_),c=ot.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;const d=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(d.clippingPlanes=ut.uniform),Ht(t,s),r.needsLights=qt(t),r.lightsStateVersion=a,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotShadowMatrix.value=i.state.spotShadowMatrix,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);const h=c.getUniforms(),f=tu.seqWithValue(h.seq,d);return r.currentProgram=c,r.uniformsList=f,c}function Ht(t,e){const n=K.get(t);n.outputEncoding=e.outputEncoding,n.instancing=e.instancing,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}function Wt(t,e,n,i,o){!0!==e.isScene&&(e=G),Q.resetTextureUnits();const a=e.fog,s=i.isMeshStandardMaterial?e.environment:null,l=null===M?_.outputEncoding:!0===M.isXRRenderTarget?M.texture.encoding:be,u=(i.isMeshStandardMaterial?et:tt).get(i.envMap||s),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,d=!!i.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=i.toneMapped?_.toneMapping:Z,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==g?g.length:0,b=K.get(i),w=v.state.lights;if(!0===j&&(!0===z||t!==T)){const e=t===T&&i.id===E;ut.setState(i,t,e)}let x=!1;i.version===b.__version?b.needsLights&&b.lightsStateVersion!==w.state.version||b.outputEncoding!==l||o.isInstancedMesh&&!1===b.instancing?x=!0:o.isInstancedMesh||!0!==b.instancing?o.isSkinnedMesh&&!1===b.skinning?x=!0:o.isSkinnedMesh||!0!==b.skinning?b.envMap!==u||!0===i.fog&&b.fog!==a?x=!0:void 0===b.numClippingPlanes||b.numClippingPlanes===ut.numPlanes&&b.numIntersection===ut.numIntersection?(b.vertexAlphas!==c||b.vertexTangents!==d||b.morphTargets!==h||b.morphNormals!==f||b.morphColors!==p||b.toneMapping!==m||!0===X.isWebGL2&&b.morphTargetsCount!==y)&&(x=!0):x=!0:x=!0:x=!0:(x=!0,b.__version=i.version);let S=b.currentProgram;!0===x&&(S=Ut(i,e,o));let A=!1,C=!1,O=!1;const k=S.getUniforms(),I=b.uniforms;if(Y.useProgram(S.program)&&(A=!0,C=!0,O=!0),i.id!==E&&(E=i.id,C=!0),A||T!==t){if(k.setValue(bt,"projectionMatrix",t.projectionMatrix),X.logarithmicDepthBuffer&&k.setValue(bt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),T!==t&&(T=t,C=!0,O=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap){const e=k.map.cameraPosition;void 0!==e&&e.setValue(bt,W.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&k.setValue(bt,"isOrthographic",!0===t.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.isShadowMaterial||o.isSkinnedMesh)&&k.setValue(bt,"viewMatrix",t.matrixWorldInverse)}if(o.isSkinnedMesh){k.setOptional(bt,o,"bindMatrix"),k.setOptional(bt,o,"bindMatrixInverse");const t=o.skeleton;t&&(X.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),k.setValue(bt,"boneTexture",t.boneTexture,Q),k.setValue(bt,"boneTextureSize",t.boneTextureSize)):r.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const D=n.morphAttributes;return(void 0!==D.position||void 0!==D.normal||void 0!==D.color&&!0===X.isWebGL2)&&ht.update(o,n,i,S),(C||b.receiveShadow!==o.receiveShadow)&&(b.receiveShadow=o.receiveShadow,k.setValue(bt,"receiveShadow",o.receiveShadow)),C&&(k.setValue(bt,"toneMappingExposure",_.toneMappingExposure),b.needsLights&&Gt(I,O),a&&!0===i.fog&&at.refreshFogUniforms(I,a),at.refreshMaterialUniforms(I,i,L,P,V),tu.upload(bt,b.uniformsList,I,Q)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(tu.upload(bt,b.uniformsList,I,Q),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&k.setValue(bt,"center",o.center),k.setValue(bt,"modelViewMatrix",o.modelViewMatrix),k.setValue(bt,"normalMatrix",o.normalMatrix),k.setValue(bt,"modelMatrix",o.matrixWorld),S}function Gt(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function qt(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}Nt.setAnimationLoop(It),"undefined"!==typeof self&&Nt.setContext(self),this.setAnimationLoop=function(t){Lt=t,xt.setAnimationLoop(t),null===t?Nt.stop():Nt.start()},xt.addEventListener("sessionstart",Dt),xt.addEventListener("sessionend",Rt),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void r.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===w)return;!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===xt.enabled&&!0===xt.isPresenting&&(!0===xt.cameraAutoUpdate&&xt.updateCamera(e),e=xt.getCamera()),!0===t.isScene&&t.onBeforeRender(_,t,e,M),v=lt.get(t,b.length),v.init(),b.push(v),U.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),F.setFromProjectionMatrix(U),z=this.localClippingEnabled,j=ut.init(this.clippingPlanes,z,e),g=st.get(t,y.length),g.init(),y.push(g),Bt(t,e,0,_.sortObjects),g.finish(),!0===_.sortObjects&&g.sort(I,D),!0===j&&ut.beginShadows();const n=v.state.shadowsArray;if(ct.render(n,t,e),!0===j&&ut.endShadows(),!0===this.info.autoReset&&this.info.reset(),dt.render(g,t),v.setupLights(_.physicallyCorrectLights),e.isArrayCamera){const n=e.cameras;for(let e=0,r=n.length;e<r;e++){const r=n[e];Ft(g,t,r,r.viewport)}}else Ft(g,t,e);null!==M&&(Q.updateMultisampleRenderTarget(M),Q.updateRenderTargetMipmap(M)),!0===t.isScene&&t.onAfterRender(_,t,e),yt.resetDefaultState(),E=-1,T=null,b.pop(),v=b.length>0?b[b.length-1]:null,y.pop(),g=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(t,e,n){K.get(t.texture).__webglTexture=e,K.get(t.depthTexture).__webglTexture=n;const i=K.get(t);i.__hasExternalTextures=!0,i.__hasExternalTextures&&(i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===$.has("WEBGL_multisampled_render_to_texture")&&(r.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){const n=K.get(t);n.__webglFramebuffer=e,n.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t,e=0,n=0){M=t,x=e,S=n;let r=!0;if(t){const e=K.get(t);void 0!==e.__useDefaultFramebuffer?(Y.bindFramebuffer(36160,null),r=!1):void 0===e.__webglFramebuffer?Q.setupRenderTarget(t):e.__hasExternalTextures&&Q.rebindTextures(t,K.get(t.texture).__webglTexture,K.get(t.depthTexture).__webglTexture)}let i=null,o=!1,a=!1;if(t){const n=t.texture;(n.isData3DTexture||n.isDataArrayTexture)&&(a=!0);const r=K.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=r[e],o=!0):i=X.isWebGL2&&t.samples>0&&!1===Q.useMultisampledRTT(t)?K.get(t).__webglMultisampledFramebuffer:r,A.copy(t.viewport),C.copy(t.scissor),O=t.scissorTest}else A.copy(R).multiplyScalar(L).floor(),C.copy(N).multiplyScalar(L).floor(),O=B;const s=Y.bindFramebuffer(36160,i);if(s&&X.drawBuffers&&r&&Y.drawBuffers(t,i),Y.viewport(A),Y.scissor(C),Y.setScissorTest(O),o){const r=K.get(t.texture);bt.framebufferTexture2D(36160,36064,34069+e,r.__webglTexture,n)}else if(a){const r=K.get(t.texture),i=e||0;bt.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,i)}E=-1},this.readRenderTargetPixels=function(t,e,n,i,o,a,s){if(!t||!t.isWebGLRenderTarget)return void r.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=K.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(l=l[s]),l){Y.bindFramebuffer(36160,l);try{const s=t.texture,l=s.format,u=s.type;if(l!==kt&&mt.convert(l)!==bt.getParameter(35739))return void r.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=u===Mt&&($.has("EXT_color_buffer_half_float")||X.isWebGL2&&$.has("EXT_color_buffer_float"));if(u!==vt&&mt.convert(u)!==bt.getParameter(35738)&&(u!==St||!(X.isWebGL2||$.has("OES_texture_float")||$.has("WEBGL_color_buffer_float")))&&!c)return void r.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-i&&n>=0&&n<=t.height-o&&bt.readPixels(e,n,i,o,mt.convert(l),mt.convert(u),a)}finally{const t=null!==M?K.get(M).__webglFramebuffer:null;Y.bindFramebuffer(36160,t)}}},this.copyFramebufferToTexture=function(t,e,n=0){const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),o=Math.floor(e.image.height*r);Q.setTexture2D(e,0),bt.copyTexSubImage2D(3553,n,0,0,t.x,t.y,i,o),Y.unbindTexture()},this.copyTextureToTexture=function(t,e,n,r=0){const i=e.image.width,o=e.image.height,a=mt.convert(n.format),s=mt.convert(n.type);Q.setTexture2D(n,0),bt.pixelStorei(37440,n.flipY),bt.pixelStorei(37441,n.premultiplyAlpha),bt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?bt.texSubImage2D(3553,r,t.x,t.y,i,o,a,s,e.image.data):e.isCompressedTexture?bt.compressedTexSubImage2D(3553,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,a,e.mipmaps[0].data):bt.texSubImage2D(3553,r,t.x,t.y,a,s,e.image),0===r&&n.generateMipmaps&&bt.generateMipmap(3553),Y.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,i,o=0){if(_.isWebGL1Renderer)return void r.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const a=t.max.x-t.min.x+1,s=t.max.y-t.min.y+1,l=t.max.z-t.min.z+1,u=mt.convert(i.format),c=mt.convert(i.type);let d;if(i.isData3DTexture)Q.setTexture3D(i,0),d=32879;else{if(!i.isDataArrayTexture)return void r.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Q.setTexture2DArray(i,0),d=35866}bt.pixelStorei(37440,i.flipY),bt.pixelStorei(37441,i.premultiplyAlpha),bt.pixelStorei(3317,i.unpackAlignment);const h=bt.getParameter(3314),f=bt.getParameter(32878),p=bt.getParameter(3316),m=bt.getParameter(3315),g=bt.getParameter(32877),v=n.isCompressedTexture?n.mipmaps[0]:n.image;bt.pixelStorei(3314,v.width),bt.pixelStorei(32878,v.height),bt.pixelStorei(3316,t.min.x),bt.pixelStorei(3315,t.min.y),bt.pixelStorei(32877,t.min.z),n.isDataTexture||n.isData3DTexture?bt.texSubImage3D(d,o,e.x,e.y,e.z,a,s,l,u,c,v.data):n.isCompressedTexture?(r.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),bt.compressedTexSubImage3D(d,o,e.x,e.y,e.z,a,s,l,u,v.data)):bt.texSubImage3D(d,o,e.x,e.y,e.z,a,s,l,u,c,v),bt.pixelStorei(3314,h),bt.pixelStorei(32878,f),bt.pixelStorei(3316,p),bt.pixelStorei(3315,m),bt.pixelStorei(32877,g),0===o&&i.generateMipmaps&&bt.generateMipmap(d),Y.unbindTexture()},this.initTexture=function(t){Q.setTexture2D(t,0),Y.unbindTexture()},this.resetState=function(){x=0,S=0,M=null,Y.reset(),yt.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class lc extends sc{}lc.prototype.isWebGL1Renderer=!0;class uc extends vr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}class cc{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Oe,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ne()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ne()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ne()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const dc=new mn;class hc{constructor(t,e,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)dc.fromBufferAttribute(this,e),dc.applyMatrix4(t),this.setXYZ(e,dc.x,dc.y,dc.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)dc.fromBufferAttribute(this,e),dc.applyNormalMatrix(t),this.setXYZ(e,dc.x,dc.y,dc.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)dc.fromBufferAttribute(this,e),dc.transformDirection(t),this.setXYZ(e,dc.x,dc.y,dc.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}setXYZW(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}clone(t){if(void 0===t){r.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new Dr(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new hc(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){r.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class fc extends kr{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new nn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let pc;const mc=new mn,gc=new mn,vc=new mn,yc=new Ue,bc=new Ue,_c=new qn,wc=new mn,xc=new mn,Sc=new mn,Mc=new Ue,Ec=new Ue,Tc=new Ue;class Ac extends vr{constructor(t){if(super(),this.isSprite=!0,this.type="Sprite",void 0===pc){pc=new Gr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new cc(t,5);pc.setIndex([0,1,2,0,2,3]),pc.setAttribute("position",new hc(e,3,0,!1)),pc.setAttribute("uv",new hc(e,2,3,!1))}this.geometry=pc,this.material=void 0!==t?t:new fc,this.center=new Ue(.5,.5)}raycast(t,e){null===t.camera&&r.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gc.setFromMatrixScale(this.matrixWorld),_c.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),vc.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&gc.multiplyScalar(-vc.z);const n=this.material.rotation;let i,o;0!==n&&(o=Math.cos(n),i=Math.sin(n));const a=this.center;Cc(wc.set(-.5,-.5,0),vc,a,gc,i,o),Cc(xc.set(.5,-.5,0),vc,a,gc,i,o),Cc(Sc.set(.5,.5,0),vc,a,gc,i,o),Mc.set(0,0),Ec.set(1,0),Tc.set(1,1);let s=t.ray.intersectTriangle(wc,xc,Sc,!1,mc);if(null===s&&(Cc(xc.set(-.5,.5,0),vc,a,gc,i,o),Ec.set(0,1),s=t.ray.intersectTriangle(wc,Sc,xc,!1,mc),null===s))return;const l=t.ray.origin.distanceTo(mc);l<t.near||l>t.far||e.push({distance:l,point:mc.clone(),uv:Cr.getUV(mc,wc,xc,Sc,Mc,Ec,Tc,new Ue),face:null,object:this})}copy(t,e){return super.copy(t,e),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function Cc(t,e,n,r,i,o){yc.subVectors(t,n).addScalar(.5).multiply(r),void 0!==i?(bc.x=o*yc.x-i*yc.y,bc.y=i*yc.x+o*yc.y):bc.copy(yc),t.copy(e),t.x+=bc.x,t.y+=bc.y,t.applyMatrix4(_c)}class Oc extends kr{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new nn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const kc=new mn,Pc=new mn,Lc=new qn,Ic=new Gn,Dc=new Bn;class Rc extends vr{constructor(t=new Gr,e=new Oc){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,r=e.count;t<r;t++)kc.fromBufferAttribute(e,t-1),Pc.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=kc.distanceTo(Pc);t.setAttribute("lineDistance",new Br(n,1))}else r.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Dc.copy(n.boundingSphere),Dc.applyMatrix4(r),Dc.radius+=i,!1===t.ray.intersectsSphere(Dc))return;Lc.copy(r).invert(),Ic.copy(t.ray).applyMatrix4(Lc);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new mn,u=new mn,c=new mn,d=new mn,h=this.isLineSegments?2:1,f=n.index,p=n.attributes,m=p.position;if(null!==f){const n=Math.max(0,o.start),r=Math.min(f.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=h){const n=f.getX(i),r=f.getX(i+1);l.fromBufferAttribute(m,n),u.fromBufferAttribute(m,r);const o=Ic.distanceSqToSegment(l,u,d,c);if(o>s)continue;d.applyMatrix4(this.matrixWorld);const a=t.ray.origin.distanceTo(d);a<t.near||a>t.far||e.push({distance:a,point:c.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else{const n=Math.max(0,o.start),r=Math.min(m.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=h){l.fromBufferAttribute(m,i),u.fromBufferAttribute(m,i+1);const n=Ic.distanceSqToSegment(l,u,d,c);if(n>s)continue;d.applyMatrix4(this.matrixWorld);const r=t.ray.origin.distanceTo(d);r<t.near||r>t.far||e.push({distance:r,point:c.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry,e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}}class Nc extends kr{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new nn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}class Bc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return r.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,r=this.getPoint(0),i=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),i+=n.distanceTo(r),e.push(i),r=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const n=this.getLengths();let r=0;const i=n.length;let o;o=e||t*n[i-1];let a,s=0,l=i-1;while(s<=l)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const u=n[r],c=n[r+1],d=c-u,h=(o-u)/d,f=(r+h)/(i-1);return f}getTangent(t,e){const n=1e-4;let r=t-n,i=t+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=e||(o.isVector2?new Ue:new mn);return s.copy(a).sub(o).normalize(),s}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e){const n=new mn,r=[],i=[],o=[],a=new mn,s=new qn;for(let h=0;h<=t;h++){const e=h/t;r[h]=this.getTangentAt(e,new mn)}i[0]=new mn,o[0]=new mn;let l=Number.MAX_VALUE;const u=Math.abs(r[0].x),c=Math.abs(r[0].y),d=Math.abs(r[0].z);u<=l&&(l=u,n.set(1,0,0)),c<=l&&(l=c,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let h=1;h<=t;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const t=Math.acos(Be(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(a,t))}o[h].crossVectors(r[h],i[h])}if(!0===e){let e=Math.acos(Be(i[0].dot(i[t]),-1,1));e/=t,r[0].dot(a.crossVectors(i[0],i[t]))>0&&(e=-e);for(let n=1;n<=t;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],e*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Fc extends Bc{constructor(t=0,e=0,n=1,r=1,i=0,o=2*Math.PI,a=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(t,e){const n=e||new Ue,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;while(i<0)i+=r;while(i>r)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+t*i;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*t-r*e+this.aX,l=n*e+r*t+this.aY}return n.set(s,l)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class jc extends Fc{constructor(t,e,n,r,i,o){super(t,e,n,n,r,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function zc(){let t=0,e=0,n=0,r=0;function i(i,o,a,s){t=i,e=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(t,e,n,r,o){i(e,n,o*(n-t),o*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,o,a,s){let l=(e-t)/o-(n-t)/(o+a)+(n-e)/a,u=(n-e)/a-(r-e)/(a+s)+(r-n)/s;l*=a,u*=a,i(e,n,l,u)},calc:function(i){const o=i*i,a=o*i;return t+e*i+n*o+r*a}}}const Vc=new mn,Uc=new zc,Hc=new zc,Wc=new zc;class Gc extends Bc{constructor(t=[],e=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=r}getPoint(t,e=new mn){const n=e,r=this.points,i=r.length,o=(i-(this.closed?0:1))*t;let a,s,l=Math.floor(o),u=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===u&&l===i-1&&(l=i-2,u=1),this.closed||l>0?a=r[(l-1)%i]:(Vc.subVectors(r[0],r[1]).add(r[0]),a=Vc);const c=r[l%i],d=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(Vc.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=Vc),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(a.distanceToSquared(c),t),n=Math.pow(c.distanceToSquared(d),t),r=Math.pow(d.distanceToSquared(s),t);n<1e-4&&(n=1),e<1e-4&&(e=n),r<1e-4&&(r=n),Uc.initNonuniformCatmullRom(a.x,c.x,d.x,s.x,e,n,r),Hc.initNonuniformCatmullRom(a.y,c.y,d.y,s.y,e,n,r),Wc.initNonuniformCatmullRom(a.z,c.z,d.z,s.z,e,n,r)}else"catmullrom"===this.curveType&&(Uc.initCatmullRom(a.x,c.x,d.x,s.x,this.tension),Hc.initCatmullRom(a.y,c.y,d.y,s.y,this.tension),Wc.initCatmullRom(a.z,c.z,d.z,s.z,this.tension));return n.set(Uc.calc(u),Hc.calc(u),Wc.calc(u)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new mn).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function qc(t,e,n,r,i){const o=.5*(r-e),a=.5*(i-n),s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function $c(t,e){const n=1-t;return n*n*e}function Xc(t,e){return 2*(1-t)*t*e}function Yc(t,e){return t*t*e}function Zc(t,e,n,r){return $c(t,e)+Xc(t,n)+Yc(t,r)}function Jc(t,e){const n=1-t;return n*n*n*e}function Kc(t,e){const n=1-t;return 3*n*n*t*e}function Qc(t,e){return 3*(1-t)*t*t*e}function td(t,e){return t*t*t*e}function ed(t,e,n,r,i){return Jc(t,e)+Kc(t,n)+Qc(t,r)+td(t,i)}class nd extends Bc{constructor(t=new Ue,e=new Ue,n=new Ue,r=new Ue){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new Ue){const n=e,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(ed(t,r.x,i.x,o.x,a.x),ed(t,r.y,i.y,o.y,a.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class rd extends Bc{constructor(t=new mn,e=new mn,n=new mn,r=new mn){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new mn){const n=e,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(ed(t,r.x,i.x,o.x,a.x),ed(t,r.y,i.y,o.y,a.y),ed(t,r.z,i.z,o.z,a.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class id extends Bc{constructor(t=new Ue,e=new Ue){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Ue){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const n=e||new Ue;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class od extends Bc{constructor(t=new mn,e=new mn){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new mn){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ad extends Bc{constructor(t=new Ue,e=new Ue,n=new Ue){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new Ue){const n=e,r=this.v0,i=this.v1,o=this.v2;return n.set(Zc(t,r.x,i.x,o.x),Zc(t,r.y,i.y,o.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class sd extends Bc{constructor(t=new mn,e=new mn,n=new mn){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new mn){const n=e,r=this.v0,i=this.v1,o=this.v2;return n.set(Zc(t,r.x,i.x,o.x),Zc(t,r.y,i.y,o.y),Zc(t,r.z,i.z,o.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ld extends Bc{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Ue){const n=e,r=this.points,i=(r.length-1)*t,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],u=r[o>r.length-2?r.length-1:o+1],c=r[o>r.length-3?r.length-1:o+2];return n.set(qc(a,s.x,l.x,u.x,c.x),qc(a,s.y,l.y,u.y,c.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Ue).fromArray(n))}return this}}var ud=Object.freeze({__proto__:null,ArcCurve:jc,CatmullRomCurve3:Gc,CubicBezierCurve:nd,CubicBezierCurve3:rd,EllipseCurve:Fc,LineCurve:id,LineCurve3:od,QuadraticBezierCurve:ad,QuadraticBezierCurve3:sd,SplineCurve:ld});class cd extends Gr{constructor(t=1,e=1,n=1,r=8,i=1,o=!1,a=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const u=[],c=[],d=[],h=[];let f=0;const p=[],m=n/2;let g=0;function v(){const o=new mn,v=new mn;let y=0;const b=(e-t)/n;for(let l=0;l<=i;l++){const u=[],g=l/i,y=g*(e-t)+t;for(let t=0;t<=r;t++){const e=t/r,i=e*s+a,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,c.push(v.x,v.y,v.z),o.set(l,b,p).normalize(),d.push(o.x,o.y,o.z),h.push(e,1-g),u.push(f++)}p.push(u)}for(let t=0;t<r;t++)for(let e=0;e<i;e++){const n=p[e][t],r=p[e+1][t],i=p[e+1][t+1],o=p[e][t+1];u.push(n,r,o),u.push(r,i,o),y+=6}l.addGroup(g,y,0),g+=y}function y(n){const i=f,o=new Ue,p=new mn;let v=0;const y=!0===n?t:e,b=!0===n?1:-1;for(let t=1;t<=r;t++)c.push(0,m*b,0),d.push(0,b,0),h.push(.5,.5),f++;const _=f;for(let t=0;t<=r;t++){const e=t/r,n=e*s+a,i=Math.cos(n),l=Math.sin(n);p.x=y*l,p.y=m*b,p.z=y*i,c.push(p.x,p.y,p.z),d.push(0,b,0),o.x=.5*i+.5,o.y=.5*l*b+.5,h.push(o.x,o.y),f++}for(let t=0;t<r;t++){const e=i+t,r=_+t;!0===n?u.push(r,r+1,e):u.push(r+1,r,e),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}v(),!1===o&&(t>0&&y(!0),e>0&&y(!1)),this.setIndex(u),this.setAttribute("position",new Br(c,3)),this.setAttribute("normal",new Br(d,3)),this.setAttribute("uv",new Br(h,2))}static fromJSON(t){return new cd(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class dd extends cd{constructor(t=1,e=1,n=8,r=1,i=!1,o=0,a=2*Math.PI){super(0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}static fromJSON(t){return new dd(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class hd extends Gr{constructor(t=[],e=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r};const i=[],o=[];function a(t){const n=new mn,r=new mn,i=new mn;for(let o=0;o<e.length;o+=3)h(e[o+0],n),h(e[o+1],r),h(e[o+2],i),s(n,r,i,t)}function s(t,e,n,r){const i=r+1,o=[];for(let a=0;a<=i;a++){o[a]=[];const r=t.clone().lerp(n,a/i),s=e.clone().lerp(n,a/i),l=i-a;for(let t=0;t<=l;t++)o[a][t]=0===t&&a===i?r:r.clone().lerp(s,t/l)}for(let a=0;a<i;a++)for(let t=0;t<2*(i-a)-1;t++){const e=Math.floor(t/2);t%2===0?(d(o[a][e+1]),d(o[a+1][e]),d(o[a][e])):(d(o[a][e+1]),d(o[a+1][e+1]),d(o[a+1][e]))}}function l(t){const e=new mn;for(let n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}function u(){const t=new mn;for(let e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];const n=m(t)/2/Math.PI+.5,r=g(t)/Math.PI+.5;o.push(n,1-r)}f(),c()}function c(){for(let t=0;t<o.length;t+=6){const e=o[t+0],n=o[t+2],r=o[t+4],i=Math.max(e,n,r),a=Math.min(e,n,r);i>.9&&a<.1&&(e<.2&&(o[t+0]+=1),n<.2&&(o[t+2]+=1),r<.2&&(o[t+4]+=1))}}function d(t){i.push(t.x,t.y,t.z)}function h(e,n){const r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function f(){const t=new mn,e=new mn,n=new mn,r=new mn,a=new Ue,s=new Ue,l=new Ue;for(let u=0,c=0;u<i.length;u+=9,c+=6){t.set(i[u+0],i[u+1],i[u+2]),e.set(i[u+3],i[u+4],i[u+5]),n.set(i[u+6],i[u+7],i[u+8]),a.set(o[c+0],o[c+1]),s.set(o[c+2],o[c+3]),l.set(o[c+4],o[c+5]),r.copy(t).add(e).add(n).divideScalar(3);const d=m(r);p(a,c+0,t,d),p(s,c+2,e,d),p(l,c+4,n,d)}}function p(t,e,n,r){r<0&&1===t.x&&(o[e]=t.x-1),0===n.x&&0===n.z&&(o[e]=r/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function g(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}a(r),l(n),u(),this.setAttribute("position",new Br(i,3)),this.setAttribute("normal",new Br(i.slice(),3)),this.setAttribute("uv",new Br(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(t){return new hd(t.vertices,t.indices,t.radius,t.details)}}class fd extends hd{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(i,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new fd(t.radius,t.detail)}}new mn,new mn,new mn,new Cr;class pd extends Gr{constructor(t=1,e=32,n=16,r=0,i=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let l=0;const u=[],c=new mn,d=new mn,h=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const h=[],v=g/n;let y=0;0==g&&0==o?y=.5/e:g==n&&s==Math.PI&&(y=-.5/e);for(let n=0;n<=e;n++){const s=n/e;c.x=-t*Math.cos(r+s*i)*Math.sin(o+v*a),c.y=t*Math.cos(o+v*a),c.z=t*Math.sin(r+s*i)*Math.sin(o+v*a),f.push(c.x,c.y,c.z),d.copy(c).normalize(),p.push(d.x,d.y,d.z),m.push(s+y,1-v),h.push(l++)}u.push(h)}for(let g=0;g<n;g++)for(let t=0;t<e;t++){const e=u[g][t+1],r=u[g][t],i=u[g+1][t],a=u[g+1][t+1];(0!==g||o>0)&&h.push(e,r,a),(g!==n-1||s<Math.PI)&&h.push(r,i,a)}this.setIndex(h),this.setAttribute("position",new Br(f,3)),this.setAttribute("normal",new Br(p,3)),this.setAttribute("uv",new Br(m,2))}static fromJSON(t){return new pd(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class md extends Gr{constructor(t=1,e=.4,n=8,r=6,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],s=[],l=[],u=new mn,c=new mn,d=new mn;for(let h=0;h<=n;h++)for(let o=0;o<=r;o++){const f=o/r*i,p=h/n*Math.PI*2;c.x=(t+e*Math.cos(p))*Math.cos(f),c.y=(t+e*Math.cos(p))*Math.sin(f),c.z=e*Math.sin(p),a.push(c.x,c.y,c.z),u.x=t*Math.cos(f),u.y=t*Math.sin(f),d.subVectors(c,u).normalize(),s.push(d.x,d.y,d.z),l.push(o/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let t=1;t<=r;t++){const e=(r+1)*h+t-1,n=(r+1)*(h-1)+t-1,i=(r+1)*(h-1)+t,a=(r+1)*h+t;o.push(e,n,a),o.push(n,i,a)}this.setIndex(o),this.setAttribute("position",new Br(a,3)),this.setAttribute("normal",new Br(s,3)),this.setAttribute("uv",new Br(l,2))}static fromJSON(t){return new md(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class gd extends Gr{constructor(t=1,e=.4,n=64,r=8,i=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],s=[],l=[],u=[],c=new mn,d=new mn,h=new mn,f=new mn,p=new mn,m=new mn,g=new mn;for(let y=0;y<=n;++y){const a=y/n*i*Math.PI*2;v(a,i,o,t,h),v(a+.01,i,o,t,f),m.subVectors(f,h),g.addVectors(f,h),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let t=0;t<=r;++t){const i=t/r*Math.PI*2,o=-e*Math.cos(i),a=e*Math.sin(i);c.x=h.x+(o*g.x+a*p.x),c.y=h.y+(o*g.y+a*p.y),c.z=h.z+(o*g.z+a*p.z),s.push(c.x,c.y,c.z),d.subVectors(c,h).normalize(),l.push(d.x,d.y,d.z),u.push(y/n),u.push(t/r)}}for(let y=1;y<=n;y++)for(let t=1;t<=r;t++){const e=(r+1)*(y-1)+(t-1),n=(r+1)*y+(t-1),i=(r+1)*y+t,o=(r+1)*(y-1)+t;a.push(e,n,o),a.push(n,i,o)}function v(t,e,n,r,i){const o=Math.cos(t),a=Math.sin(t),s=n/e*t,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new Br(s,3)),this.setAttribute("normal",new Br(l,3)),this.setAttribute("uv",new Br(u,2))}static fromJSON(t){return new gd(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class vd extends Gr{constructor(t=new sd(new mn(-1,-1,0),new mn(-1,1,0),new mn(1,1,0)),e=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i};const o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new mn,s=new mn,l=new Ue;let u=new mn;const c=[],d=[],h=[],f=[];function p(){for(let t=0;t<e;t++)m(t);m(!1===i?e:0),v(),g()}function m(i){u=t.getPointAt(i/e,u);const l=o.normals[i],h=o.binormals[i];for(let t=0;t<=r;t++){const e=t/r*Math.PI*2,i=Math.sin(e),o=-Math.cos(e);s.x=o*l.x+i*h.x,s.y=o*l.y+i*h.y,s.z=o*l.z+i*h.z,s.normalize(),d.push(s.x,s.y,s.z),a.x=u.x+n*s.x,a.y=u.y+n*s.y,a.z=u.z+n*s.z,c.push(a.x,a.y,a.z)}}function g(){for(let t=1;t<=e;t++)for(let e=1;e<=r;e++){const n=(r+1)*(t-1)+(e-1),i=(r+1)*t+(e-1),o=(r+1)*t+e,a=(r+1)*(t-1)+e;f.push(n,i,a),f.push(i,o,a)}}function v(){for(let t=0;t<=e;t++)for(let n=0;n<=r;n++)l.x=t/e,l.y=n/r,h.push(l.x,l.y)}p(),this.setIndex(f),this.setAttribute("position",new Br(c,3)),this.setAttribute("normal",new Br(d,3)),this.setAttribute("uv",new Br(h,2))}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new vd((new ud[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class yd extends kr{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new nn(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class bd extends yi{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class _d extends kr{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new nn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Se,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class wd extends _d{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ue(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Be(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new nn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new nn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new nn(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!==t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!==t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!==t>0&&this.version++,this._iridescence=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!==t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class xd extends kr{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new nn(16777215),this.specular=new nn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Se,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Sd extends kr{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new nn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Se,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class Md extends kr{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Se,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class Ed extends kr{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new nn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class Td extends kr{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new nn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Se,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Ad extends Oc{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}const Cd={ShadowMaterial:yd,SpriteMaterial:fc,RawShaderMaterial:bd,ShaderMaterial:yi,PointsMaterial:Nc,MeshPhysicalMaterial:wd,MeshStandardMaterial:_d,MeshPhongMaterial:xd,MeshToonMaterial:Sd,MeshNormalMaterial:Md,MeshLambertMaterial:Ed,MeshDepthMaterial:Gu,MeshDistanceMaterial:qu,MeshBasicMaterial:Pr,MeshMatcapMaterial:Td,LineDashedMaterial:Ad,LineBasicMaterial:Oc,Material:kr};kr.fromType=function(t){return new Cd[t]};const Od={arraySlice:function(t,e,n){return Od.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*e;for(let n=0;n!==e;++n)i[a++]=t[r+n]}return i},flattenJSON:function(t,e,n,r){let i=1,o=t[0];while(void 0!==o&&void 0===o[r])o=t[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)},subclip:function(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const t=o.tracks[l],e=t.getValueSize(),s=[],u=[];for(let o=0;o<t.times.length;++o){const a=t.times[o]*i;if(!(a<n||a>=r)){s.push(t.times[o]);for(let n=0;n<e;++n)u.push(t.values[o*e+n])}}0!==s.length&&(t.times=Od.convertArray(s,t.times.constructor),t.values=Od.convertArray(u,t.values.constructor),a.push(t))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const e=n.tracks[a],r=e.ValueTypeName;if("bool"===r||"string"===r)continue;const i=t.tracks.find((function(t){return t.name===e.name&&t.ValueTypeName===r}));if(void 0===i)continue;let s=0;const l=e.getValueSize();e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let u=0;const c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);const d=e.times.length-1;let h;if(o<=e.times[0]){const t=s,n=l-s;h=Od.arraySlice(e.values,t,n)}else if(o>=e.times[d]){const t=d*l+s,n=t+l-s;h=Od.arraySlice(e.values,t,n)}else{const t=e.createInterpolant(),n=s,r=l-s;t.evaluate(o),h=Od.arraySlice(t.resultBuffer,n,r)}if("quaternion"===r){const t=(new pn).fromArray(h).normalize().conjugate();t.toArray(h)}const f=i.times.length;for(let t=0;t<f;++t){const e=t*c+u;if("quaternion"===r)pn.multiplyQuaternionsFlat(i.values,e,h,0,i.values,e);else{const t=c-2*u;for(let n=0;n<t;++n)i.values[e+n]-=h[n]}}}return t.blendMode=ye,t}};class kd{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{let o;n:{r:if(!(t<r)){for(let o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}if(t>=i)break t;{const a=e[1];t<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}while(n<o){const r=n+o>>>1;t<e[r]?o=r:n=r+1}if(r=e[n],i=e[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r;for(let o=0;o!==r;++o)e[o]=n[i+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Pd extends kd{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:me,endingEnd:me}}intervalChanged_(t,e,n){const r=this.parameterPositions;let i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case ge:i=t,a=2*e-n;break;case ve:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ge:o=t,s=2*n-e;break;case ve:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}const l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-e)/(r-e),p=f*f,m=p*f,g=-d*m+2*d*p-d*f,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p;for(let _=0;_!==a;++_)i[_]=g*o[u+_]+v*o[l+_]+y*o[s+_]+b*o[c+_];return i}}class Ld extends kd{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=(n-e)/(r-e),c=1-u;for(let d=0;d!==a;++d)i[d]=o[l+d]*c+o[s+d]*u;return i}}class Id extends kd{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Dd{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Od.convertArray(e,this.TimeBufferType),this.values=Od.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Od.convertArray(t.times,Array),values:Od.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new Id(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Ld(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Pd(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case he:e=this.InterpolantFactoryMethodDiscrete;break;case fe:e=this.InterpolantFactoryMethodLinear;break;case pe:e=this.InterpolantFactoryMethodSmooth;break}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return r.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return he;case this.InterpolantFactoryMethodLinear:return fe;case this.InterpolantFactoryMethodSmooth:return pe}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let i=0,o=r-1;while(i!==r&&n[i]<t)++i;while(-1!==o&&n[o]>e)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const t=this.getValueSize();this.times=Od.arraySlice(n,i,o),this.values=Od.arraySlice(this.values,i*t,o*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(r.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,o=n.length;0===o&&(r.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let a=null;for(let s=0;s!==o;s++){const e=n[s];if("number"===typeof e&&isNaN(e)){r.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,e),t=!1;break}if(null!==a&&a>e){r.error("THREE.KeyframeTrack: Out of order keys.",this,s,e,a),t=!1;break}a=e}if(void 0!==i&&Od.isTypedArray(i))for(let s=0,l=i.length;s!==l;++s){const e=i[s];if(isNaN(e)){r.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,e),t=!1;break}}return t}optimize(){const t=Od.arraySlice(this.times),e=Od.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===pe,i=t.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=t[a],l=t[a+1];if(s!==l&&(1!==a||s!==t[0]))if(r)i=!0;else{const t=a*n,r=t-n,o=t+n;for(let a=0;a!==n;++a){const n=e[t+a];if(n!==e[r+a]||n!==e[o+a]){i=!0;break}}}if(i){if(a!==o){t[o]=t[a];const r=a*n,i=o*n;for(let t=0;t!==n;++t)e[i+t]=e[r+t]}++o}}if(i>0){t[o]=t[i];for(let t=i*n,r=o*n,a=0;a!==n;++a)e[r+a]=e[t+a];++o}return o!==t.length?(this.times=Od.arraySlice(t,0,o),this.values=Od.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this}clone(){const t=Od.arraySlice(this.times,0),e=Od.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Dd.prototype.TimeBufferType=Float32Array,Dd.prototype.ValueBufferType=Float32Array,Dd.prototype.DefaultInterpolation=fe;class Rd extends Dd{}Rd.prototype.ValueTypeName="bool",Rd.prototype.ValueBufferType=Array,Rd.prototype.DefaultInterpolation=he,Rd.prototype.InterpolantFactoryMethodLinear=void 0,Rd.prototype.InterpolantFactoryMethodSmooth=void 0;class Nd extends Dd{}Nd.prototype.ValueTypeName="color";class Bd extends Dd{}Bd.prototype.ValueTypeName="number";class Fd extends kd{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-e)/(r-e);let l=t*a;for(let u=l+a;l!==u;l+=4)pn.slerpFlat(i,0,o,l-a,o,l,s);return i}}class jd extends Dd{InterpolantFactoryMethodLinear(t){return new Fd(this.times,this.values,this.getValueSize(),t)}}jd.prototype.ValueTypeName="quaternion",jd.prototype.DefaultInterpolation=fe,jd.prototype.InterpolantFactoryMethodSmooth=void 0;class zd extends Dd{}zd.prototype.ValueTypeName="string",zd.prototype.ValueBufferType=Array,zd.prototype.DefaultInterpolation=he,zd.prototype.InterpolantFactoryMethodLinear=void 0,zd.prototype.InterpolantFactoryMethodSmooth=void 0;class Vd extends Dd{}Vd.prototype.ValueTypeName="vector";const Ud={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Hd{constructor(t,e,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,!1===o&&void 0!==r.onStart&&r.onStart(t,a,s),o=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return i?i(t):t},this.setURLModifier=function(t){return i=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],r=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return r}return null}}}const Wd=new Hd;class Gd{constructor(t){this.manager=void 0!==t?t:Wd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(r,i){n.load(t,r,e,i)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}class qd extends Gd{constructor(t){super(t)}load(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=Ud.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;const a=Ge("img");function s(){u(),Ud.add(t,this),e&&e(this),i.manager.itemEnd(t)}function l(e){u(),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}function u(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a}}class $d extends Gd{constructor(t){super(t)}load(t,e,n,r){const i=new un,o=new qd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(t){i.image=t,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i}}class Xd extends vr{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new nn(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}const Yd=new qn,Zd=new mn,Jd=new mn;class Kd{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ue(512,512),this.map=null,this.mapPass=null,this.matrix=new qn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Li,this._frameExtents=new Ue(1,1),this._viewportCount=1,this._viewports=[new cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;Zd.setFromMatrixPosition(t.matrixWorld),e.position.copy(Zd),Jd.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Jd),e.updateMatrixWorld(),Yd.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Yd),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Qd extends Kd{constructor(){super(new ws(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class th extends Xd{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(vr.DefaultUp),this.updateMatrix(),this.target=new vr,this.shadow=new Qd}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class eh extends Xd{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class nh{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=rh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=rh();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function rh(){return("undefined"===typeof performance?Date:performance).now()}const ih="\\[\\]\\.:\\/",oh=new RegExp("["+ih+"]","g"),ah="[^"+ih+"]",sh="[^"+ih.replace("\\.","")+"]",lh=/((?:WC+[\/:])*)/.source.replace("WC",ah),uh=/(WCOD+)?/.source.replace("WCOD",sh),ch=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ah),dh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ah),hh=new RegExp("^"+lh+uh+ch+dh+"$"),fh=["material","materials","bones"];class ph{constructor(t,e,n){const r=n||mh.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}class mh{constructor(t,e,n){this.path=e,this.parsedPath=n||mh.parseTrackName(e),this.node=mh.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new mh.Composite(t,e,n):new mh(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(oh,"")}static parseTrackName(t){const e=hh.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const t=n.nodeName.substring(r+1);-1!==fh.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let r=0;r<t.length;r++){const i=t[r];if(i.name===e||i.uuid===e)return i;const o=n(i.children);if(o)return o}return null},r=n(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)t[e++]=n[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let o=e.propertyIndex;if(t||(t=mh.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void r.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return void r.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void r.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void r.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;default:if(void 0===t[n])return void r.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==i){if(void 0===t[i])return void r.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[i]}}const a=t[i];if(void 0===a){const n=e.nodeName;return void r.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",t)}let s=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===i){if(!t.geometry)return void r.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void r.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}mh.Composite=ph,mh.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},mh.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},mh.prototype.GetterByBindingType=[mh.prototype._getValue_direct,mh.prototype._getValue_array,mh.prototype._getValue_arrayElement,mh.prototype._getValue_toArray],mh.prototype.SetterByBindingTypeAndVersioning=[[mh.prototype._setValue_direct,mh.prototype._setValue_direct_setNeedsUpdate,mh.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[mh.prototype._setValue_array,mh.prototype._setValue_array_setNeedsUpdate,mh.prototype._setValue_array_setMatrixWorldNeedsUpdate],[mh.prototype._setValue_arrayElement,mh.prototype._setValue_arrayElement_setNeedsUpdate,mh.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[mh.prototype._setValue_fromArray,mh.prototype._setValue_fromArray_setNeedsUpdate,mh.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gh{constructor(t,e,n=0,r=1/0){this.ray=new Gn(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new rr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):r.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!0,n=[]){return yh(t,this,n,e),n.sort(vh),n}intersectObjects(t,e=!0,n=[]){for(let r=0,i=t.length;r<i;r++)yh(t[r],this,n,e);return n.sort(vh),n}}function vh(t,e){return t.distance-e.distance}function yh(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===r){const r=t.children;for(let t=0,i=r.length;t<i;t++)yh(r[t],e,n,!0)}}class bh{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Be(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const _h=new ArrayBuffer(4),wh=(new Float32Array(_h),new Uint32Array(_h),new Uint32Array(512)),xh=new Uint32Array(512);for(let Th=0;Th<256;++Th){const t=Th-127;t<-27?(wh[Th]=0,wh[256|Th]=32768,xh[Th]=24,xh[256|Th]=24):t<-14?(wh[Th]=1024>>-t-14,wh[256|Th]=1024>>-t-14|32768,xh[Th]=-t-1,xh[256|Th]=-t-1):t<=15?(wh[Th]=t+15<<10,wh[256|Th]=t+15<<10|32768,xh[Th]=13,xh[256|Th]=13):t<128?(wh[Th]=31744,wh[256|Th]=64512,xh[Th]=24,xh[256|Th]=24):(wh[Th]=31744,wh[256|Th]=64512,xh[Th]=13,xh[256|Th]=13)}const Sh=new Uint32Array(2048),Mh=new Uint32Array(64),Eh=new Uint32Array(64);for(let Th=1;Th<1024;++Th){let t=Th<<13,e=0;while(0===(8388608&t))t<<=1,e-=8388608;t&=-8388609,e+=947912704,Sh[Th]=t|e}for(let Th=1024;Th<2048;++Th)Sh[Th]=939524096+(Th-1024<<13);for(let Th=1;Th<31;++Th)Mh[Th]=Th<<23;Mh[31]=1199570944,Mh[32]=2147483648;for(let Th=33;Th<63;++Th)Mh[Th]=2147483648+(Th-32<<23);Mh[63]=3347054592;for(let Th=1;Th<64;++Th)32!==Th&&(Eh[Th]=1024);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:i}})),"undefined"!==typeof window&&(window.__THREE__?r.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=i)},5209:function(t,e,n){"use strict";n.d(e,{M:function(){return c},j:function(){return i}});var r=n(1114);class i extends r.Tme{constructor(t=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=t,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(t){t.element instanceof Element&&null!==t.element.parentNode&&t.element.parentNode.removeChild(t.element)}))}))}copy(t,e){return super.copy(t,e),this.element=t.element.cloneNode(!0),this}}const o=new r.Pa4,a=new r.yGw,s=new r.yGw,l=new r.Pa4,u=new r.Pa4;class c{constructor(t={}){const e=this;let n,r,i,c;const d={objects:new WeakMap},h=void 0!==t.element?t.element:document.createElement("div");function f(t,n,r){if(t.isCSS2DObject){o.setFromMatrixPosition(t.matrixWorld),o.applyMatrix4(s);const a=!0===t.visible&&o.z>=-1&&o.z<=1&&!0===t.layers.test(r.layers);if(t.element.style.display=!0===a?"":"none",!0===a){t.onBeforeRender(e,n,r);const a=t.element;a.style.transform="translate(-50%,-50%) translate("+(o.x*i+i)+"px,"+(-o.y*c+c)+"px)",a.parentNode!==h&&h.appendChild(a),t.onAfterRender(e,n,r)}const l={distanceToCameraSquared:p(r,t)};d.objects.set(t,l)}for(let e=0,i=t.children.length;e<i;e++)f(t.children[e],n,r)}function p(t,e){return l.setFromMatrixPosition(t.matrixWorld),u.setFromMatrixPosition(e.matrixWorld),l.distanceToSquared(u)}function m(t){const e=[];return t.traverse((function(t){t.isCSS2DObject&&e.push(t)})),e}function g(t){const e=m(t).sort((function(t,e){if(t.renderOrder!==e.renderOrder)return e.renderOrder-t.renderOrder;const n=d.objects.get(t).distanceToCameraSquared,r=d.objects.get(e).distanceToCameraSquared;return n-r})),n=e.length;for(let r=0,i=e.length;r<i;r++)e[r].element.style.zIndex=n-r}h.style.overflow="hidden",this.domElement=h,this.getSize=function(){return{width:n,height:r}},this.render=function(t,e){!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),a.copy(e.matrixWorldInverse),s.multiplyMatrices(e.projectionMatrix,a),f(t,t,e),g(t)},this.setSize=function(t,e){n=t,r=e,i=n/2,c=r/2,h.style.width=t+"px",h.style.height=e+"px"}}}}}]);
//# sourceMappingURL=chunk-vendors.c4579c62.js.map